"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8932],{16559:(e,s,a)=>{a.d(s,{$v:()=>p,EO:()=>x,Lt:()=>c,Rx:()=>j,Zr:()=>N,ck:()=>f,r7:()=>h,tv:()=>n,wd:()=>u});var t=a(95155),l=a(12115),i=a(17649),r=a(53999),d=a(97168);let c=i.bL,n=i.l9,o=i.ZL,m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.hJ,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});m.displayName=i.hJ.displayName;let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsx)(i.UC,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});x.displayName=i.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};u.displayName="AlertDialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="AlertDialogFooter";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.hE,{ref:s,className:(0,r.cn)("text-lg font-semibold",a),...l})});h.displayName=i.hE.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.VY,{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=i.VY.displayName;let j=l.forwardRef((e,s)=>{let{className:a,variant:l,size:c,...n}=e;return(0,t.jsx)(i.rc,{ref:s,className:(0,r.cn)((0,d.r)({variant:l,size:c}),a),...n})});j.displayName=i.rc.displayName;let N=l.forwardRef((e,s)=>{let{className:a,variant:l="outline",size:c,...n}=e;return(0,t.jsx)(i.ZD,{ref:s,className:(0,r.cn)((0,d.r)({variant:l,size:c}),"mt-2 sm:mt-0",a),...n})});N.displayName=i.ZD.displayName},37777:(e,s,a)=>{a.d(s,{Bc:()=>d,ZI:()=>o,k$:()=>n,m_:()=>c});var t=a(95155),l=a(12115),i=a(89613),r=a(53999);let d=i.Kq,c=i.bL,n=i.l9,o=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...d}=e;return(0,t.jsx)(i.UC,{ref:s,sideOffset:l,className:(0,r.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})});o.displayName=i.UC.displayName},45654:(e,s,a)=>{a.d(s,{p:()=>w});var t=a(95155),l=a(12115),i=a(88482),r=a(88145),d=a(17580),c=a(55670),n=a(9446),o=a(32919),m=a(17951),x=a(33917),u=a(51976),f=a(12318),h=a(79397),p=a(1243),j=a(33109),N=a(68500),g=a(75525),v=a(92188),b=a(53999);function w(e){let{users:s,loading:a=!1,className:w}=e,y=(0,l.useMemo)(()=>{if(!s||0===s.length)return{total:0,active:0,inactive:0,locked:0,admins:0,doctors:0,nurses:0,receptionists:0,recentLogins:0,failedAttempts:0};let e=new Date,a=new Date(e.getTime()-864e5),t=new Date(e.getTime()-6048e5);return{total:s.length,active:s.filter(e=>e.is_active).length,inactive:s.filter(e=>!e.is_active).length,locked:s.filter(s=>s.locked_until&&new Date(s.locked_until)>e).length,admins:s.filter(e=>e.role===v.QY.ADMIN).length,doctors:s.filter(e=>e.role===v.QY.DOCTOR).length,nurses:s.filter(e=>e.role===v.QY.NURSE).length,receptionists:s.filter(e=>e.role===v.QY.RECEPTIONIST).length,recentLogins:s.filter(e=>e.last_login&&new Date(e.last_login)>a).length,failedAttempts:s.reduce((e,s)=>e+(s.failed_login_attempts||0),0),newThisWeek:s.filter(e=>new Date(e.created_at)>t).length}},[s]),A=[{title:"Total de Usu\xe1rios",value:y.total,description:"Usu\xe1rios cadastrados no sistema",icon:d.A,color:"text-blue-600"},{title:"Usu\xe1rios Ativos",value:y.active,description:"".concat(y.total>0?Math.round(y.active/y.total*100):0,"% do total"),icon:c.A,color:"text-green-600"},{title:"Usu\xe1rios Inativos",value:y.inactive,description:"".concat(y.total>0?Math.round(y.inactive/y.total*100):0,"% do total"),icon:n.A,color:"text-gray-600"},{title:"Contas Bloqueadas",value:y.locked,description:"Usu\xe1rios temporariamente bloqueados",icon:o.A,color:"text-red-600"}],_=[{title:"Administradores",value:y.admins,description:"Usu\xe1rios com acesso total",icon:m.A,color:"text-purple-600"},{title:"M\xe9dicos",value:y.doctors,description:"Profissionais m\xe9dicos",icon:x.A,color:"text-blue-600"},{title:"Enfermeiros",value:y.nurses,description:"Profissionais de enfermagem",icon:u.A,color:"text-pink-600"},{title:"Recepcionistas",value:y.receptionists,description:"Equipe de atendimento",icon:f.A,color:"text-orange-600"}],k=[{title:"Logins Recentes",value:y.recentLogins,description:"\xdaltimas 24 horas",icon:h.A,color:"text-green-600"},{title:"Novos Usu\xe1rios",value:y.newThisWeek,description:"Esta semana",icon:f.A,color:"text-blue-600"},{title:"Tentativas Falharam",value:y.failedAttempts,description:"Total de tentativas de login falharam",icon:p.A,color:"text-amber-600"}],C=e=>{let{stat:s}=e,l=s.icon;return(0,t.jsxs)(i.Zp,{className:"relative overflow-hidden",children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:s.title}),(0,t.jsx)(l,{className:(0,b.cn)("h-4 w-4",s.color)})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:a?"...":s.value.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:s.description}),s.trend&&(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[s.trend.isPositive?(0,t.jsx)(j.A,{className:"h-3 w-3 text-green-600 mr-1"}):(0,t.jsx)(N.A,{className:"h-3 w-3 text-red-600 mr-1"}),(0,t.jsxs)("span",{className:(0,b.cn)("text-xs font-medium",s.trend.isPositive?"text-green-600":"text-red-600"),children:[s.trend.value>0?"+":"",s.trend.value,"%"]})]})]})]})},E=()=>(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("div",{className:"h-8 bg-muted rounded w-16 mb-2 animate-pulse"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-32 animate-pulse"})]})]});return a?(0,t.jsxs)("div",{className:(0,b.cn)("space-y-6",w),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Estat\xedsticas Gerais"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)(E,{},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Distribui\xe7\xe3o por Perfil"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)(E,{},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Atividade"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(E,{},s))})]})]}):(0,t.jsxs)("div",{className:(0,b.cn)("space-y-6",w),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Estat\xedsticas Gerais"}),y.locked>0&&(0,t.jsxs)(r.E,{variant:"destructive",className:"flex items-center gap-1",children:[(0,t.jsx)(p.A,{className:"h-3 w-3"}),y.locked," conta",y.locked>1?"s":""," bloqueada",y.locked>1?"s":""]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map((e,s)=>(0,t.jsx)(C,{stat:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Distribui\xe7\xe3o por Perfil"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((e,s)=>(0,t.jsx)(C,{stat:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Atividade"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:k.map((e,s)=>(0,t.jsx)(C,{stat:e},s))})]}),(y.locked>0||y.failedAttempts>0)&&(0,t.jsxs)(i.Zp,{className:"border-amber-200 bg-amber-50",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-amber-800",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),"Alertas de Seguran\xe7a"]})}),(0,t.jsxs)(i.Wu,{className:"space-y-2",children:[y.locked>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-amber-700",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"text-sm",children:[y.locked," conta",y.locked>1?"s est\xe3o":" est\xe1"," temporariamente bloqueada",y.locked>1?"s":""]})]}),y.failedAttempts>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-amber-700",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"text-sm",children:[y.failedAttempts," tentativa",y.failedAttempts>1?"s":""," de login falharam no total"]})]})]})]})]})}},64483:(e,s,a)=>{a.d(s,{q:()=>O});var t=a(95155),l=a(12115),i=a(92188),r=a(97168),d=a(88145),c=a(88482),n=a(69663),o=a(67133),m=a(16559),x=a(37777),u=a(17951),f=a(33917),h=a(51976),p=a(55670),j=a(75525),N=a(32919),g=a(40646),v=a(54861),b=a(5623),w=a(92657),y=a(13717),A=a(9446),_=a(50430),k=a(62525),C=a(28883),E=a(19420),R=a(4516),I=a(14186),D=a(1243),T=a(69074),U=a(56671),z=a(3070),Y=a(92275),q=a(53999);function O(e){let{user:s,variant:a="default",showActions:O=!0,onView:Q,onEdit:Z,onDelete:L,className:S}=e,[V,P]=(0,l.useState)(!1),[B,J]=(0,l.useState)(!1),[H,M]=(0,l.useState)("activate"),F=(0,z.Nu)(),W=(0,z.iY)(),$=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),G=e=>({[i.QY.ADMIN]:u.A,[i.QY.DOCTOR]:f.A,[i.QY.NURSE]:h.A,[i.QY.RECEPTIONIST]:p.A})[e]||j.A,K=(e,s)=>s?"bg-red-100 text-red-800 border-red-200":({[i.HJ.ACTIVE]:"bg-green-100 text-green-800 border-green-200",[i.HJ.INACTIVE]:"bg-gray-100 text-gray-800 border-gray-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",X=(e,s)=>s?N.A:({[i.HJ.ACTIVE]:g.A,[i.HJ.INACTIVE]:v.A})[e]||v.A,ee=(e,s)=>s?"Bloqueado":({[i.HJ.ACTIVE]:"Ativo",[i.HJ.INACTIVE]:"Inativo"})[e]||e,es=s.locked_until&&new Date(s.locked_until)>new Date,ea=s.failed_login_attempts&&s.failed_login_attempts>0,et=async e=>{try{await F.mutateAsync({id:s.id,isActive:"active"===e}),J(!1),U.o.success("Usu\xe1rio ".concat("active"===e?"ativado":"desativado"," com sucesso!"))}catch(e){U.o.error("Erro ao alterar status do usu\xe1rio")}},el=async()=>{try{J(!1),U.o.success("Usu\xe1rio desbloqueado com sucesso!")}catch(e){U.o.error("Erro ao desbloquear usu\xe1rio")}},ei=async()=>{try{await W.mutateAsync(s.id),P(!1),null==L||L(s),U.o.success("Usu\xe1rio exclu\xeddo com sucesso!")}catch(e){U.o.error("Erro ao excluir usu\xe1rio")}},er=e=>{M(e),J(!0)};if("compact"===a)return(0,t.jsx)(c.Zp,{className:(0,q.cn)("hover:shadow-md transition-shadow",S),children:(0,t.jsx)(c.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(n.Avatar,{className:"h-10 w-10",children:[(0,t.jsx)(n.AvatarImage,{src:s.avatar_url,alt:s.full_name}),(0,t.jsx)(n.AvatarFallback,{className:"bg-primary/10",children:$(s.full_name)})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:s.full_name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:s.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Y.b,{roles:[s.role],size:"sm"}),O&&(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(o.SQ,{align:"end",children:[(0,t.jsxs)(o._2,{onClick:()=>null==Q?void 0:Q(s),children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),(0,t.jsxs)(o._2,{onClick:()=>null==Z?void 0:Z(s),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Editar"]})]})]})]})]})})});if("detailed"===a){let e=G(s.role),a=X(s.is_active?"active":"inactive",!!es);return(0,t.jsxs)(c.Zp,{className:(0,q.cn)("hover:shadow-lg transition-all duration-200",S),children:[(0,t.jsx)(c.aR,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsxs)(n.Avatar,{className:"h-16 w-16",children:[(0,t.jsx)(n.AvatarImage,{src:s.avatar_url,alt:s.full_name}),(0,t.jsx)(n.AvatarFallback,{className:"bg-primary/10 text-lg",children:$(s.full_name)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.ZB,{className:"text-xl",children:s.full_name}),(0,t.jsxs)(c.BT,{className:"text-base",children:["@",s.username]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(e,{className:"h-4 w-4"}),(0,t.jsx)(Y.b,{roles:[s.role],size:"md"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Bc,{children:(0,t.jsxs)(x.m_,{children:[(0,t.jsx)(x.k$,{children:(0,t.jsxs)(d.E,{className:K(s.is_active?"active":"inactive",!!es),children:[(0,t.jsx)(a,{className:"mr-1 h-3 w-3"}),ee(s.is_active?"active":"inactive",!!es)]})}),(0,t.jsx)(x.ZI,{children:es?"Bloqueado at\xe9 ".concat((0,q.Yq)(s.locked_until)):s.is_active?"Usu\xe1rio ativo no sistema":"Usu\xe1rio inativo no sistema"})]})}),O&&(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsx)(r.$,{variant:"outline",size:"sm",children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(o.SQ,{align:"end",className:"w-48",children:[(0,t.jsx)(o.lp,{children:"A\xe7\xf5es"}),(0,t.jsx)(o.mB,{}),(0,t.jsxs)(o._2,{onClick:()=>null==Q?void 0:Q(s),children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Visualizar Detalhes"]}),(0,t.jsxs)(o._2,{onClick:()=>null==Z?void 0:Z(s),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Editar Usu\xe1rio"]}),(0,t.jsx)(o.mB,{}),s.is_active?(0,t.jsxs)(o._2,{onClick:()=>er("deactivate"),className:"text-orange-600",children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Desativar"]}):(0,t.jsxs)(o._2,{onClick:()=>er("activate"),className:"text-green-600",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Ativar"]}),es&&(0,t.jsxs)(o._2,{onClick:()=>er("unlock"),className:"text-blue-600",children:[(0,t.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Desbloquear"]}),(0,t.jsx)(o.mB,{}),(0,t.jsxs)(o._2,{onClick:()=>P(!0),className:"text-red-600",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]})]})}),(0,t.jsxs)(c.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:s.email})]}),s.phone&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{children:s.phone})]}),s.clinic_id&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["Cl\xednica: ",s.clinic_id]})]}),s.last_login&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("span",{children:["\xdaltimo acesso: ",(0,q.Yq)(s.last_login)]})]})]}),(s.professional_license||s.specialty)&&(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Informa\xe7\xf5es Profissionais"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.professional_license&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Registro: "}),(0,t.jsx)("span",{children:s.professional_license})]}),s.specialty&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Especialidade: "}),(0,t.jsx)("span",{children:s.specialty})]})]})]}),(ea||es)&&(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-amber-600",children:[(0,t.jsx)(D.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:es?"Conta bloqueada at\xe9 ".concat((0,q.Yq)(s.locked_until)):"".concat(s.failed_login_attempts," tentativas de login falharam")})]})})]})]})}let ed=G(s.role),ec=X(s.is_active?"active":"inactive",!!es);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Zp,{className:(0,q.cn)("hover:shadow-md transition-shadow",S),children:(0,t.jsxs)(c.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsxs)(n.Avatar,{className:"h-12 w-12",children:[(0,t.jsx)(n.AvatarImage,{src:s.avatar_url,alt:s.full_name}),(0,t.jsx)(n.AvatarFallback,{className:"bg-primary/10",children:$(s.full_name)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:s.full_name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",s.username]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:s.email}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)(ed,{className:"h-4 w-4"}),(0,t.jsx)(Y.b,{roles:[s.role],size:"sm"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(d.E,{className:K(s.is_active?"active":"inactive",!!es),children:[(0,t.jsx)(ec,{className:"mr-1 h-3 w-3"}),ee(s.is_active?"active":"inactive",!!es)]}),O&&(0,t.jsxs)(o.rI,{children:[(0,t.jsx)(o.ty,{asChild:!0,children:(0,t.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(o.SQ,{align:"end",children:[(0,t.jsxs)(o._2,{onClick:()=>null==Q?void 0:Q(s),children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Visualizar"]}),(0,t.jsxs)(o._2,{onClick:()=>null==Z?void 0:Z(s),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Editar"]}),(0,t.jsx)(o.mB,{}),s.is_active?(0,t.jsxs)(o._2,{onClick:()=>er("deactivate"),children:[(0,t.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Desativar"]}):(0,t.jsxs)(o._2,{onClick:()=>er("activate"),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Ativar"]}),es&&(0,t.jsxs)(o._2,{onClick:()=>er("unlock"),children:[(0,t.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Desbloquear"]}),(0,t.jsx)(o.mB,{}),(0,t.jsxs)(o._2,{onClick:()=>P(!0),className:"text-red-600",children:[(0,t.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.last_login&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"\xdaltimo acesso:"}),(0,t.jsx)("span",{children:(0,q.Yq)(s.last_login)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(T.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Criado em:"}),(0,t.jsx)("span",{children:(0,q.Yq)(s.created_at)})]})]})})]})}),(0,t.jsx)(m.Lt,{open:B,onOpenChange:J,children:(0,t.jsxs)(m.EO,{children:[(0,t.jsxs)(m.wd,{children:[(0,t.jsxs)(m.r7,{children:["activate"===H&&"Ativar Usu\xe1rio","deactivate"===H&&"Desativar Usu\xe1rio","unlock"===H&&"Desbloquear Usu\xe1rio"]}),(0,t.jsxs)(m.$v,{children:["activate"===H&&"Tem certeza que deseja ativar o usu\xe1rio ".concat(s.full_name,"?"),"deactivate"===H&&"Tem certeza que deseja desativar o usu\xe1rio ".concat(s.full_name,"? O usu\xe1rio n\xe3o conseguir\xe1 mais acessar o sistema."),"unlock"===H&&"Tem certeza que deseja desbloquear o usu\xe1rio ".concat(s.full_name,"? O contador de tentativas ser\xe1 resetado.")]})]}),(0,t.jsxs)(m.ck,{children:[(0,t.jsx)(m.Zr,{children:"Cancelar"}),(0,t.jsx)(m.Rx,{onClick:()=>{"activate"===H&&et("active"),"deactivate"===H&&et("inactive"),"unlock"===H&&el()},children:"Confirmar"})]})]})}),(0,t.jsx)(m.Lt,{open:V,onOpenChange:P,children:(0,t.jsxs)(m.EO,{children:[(0,t.jsxs)(m.wd,{children:[(0,t.jsxs)(m.r7,{className:"flex items-center",children:[(0,t.jsx)(D.A,{className:"mr-2 h-5 w-5 text-red-500"}),"Excluir Usu\xe1rio"]}),(0,t.jsxs)(m.$v,{children:["Tem certeza que deseja excluir o usu\xe1rio ",(0,t.jsx)("strong",{children:s.full_name}),"?",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-red-600 font-medium",children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita e todos os dados do usu\xe1rio ser\xe3o permanentemente removidos."})]})]}),(0,t.jsxs)(m.ck,{children:[(0,t.jsx)(m.Zr,{children:"Cancelar"}),(0,t.jsx)(m.Rx,{onClick:ei,className:"bg-red-600 hover:bg-red-700",children:"Excluir Permanentemente"})]})]})})]})}},67133:(e,s,a)=>{a.d(s,{SQ:()=>x,_2:()=>u,lp:()=>f,mB:()=>h,rI:()=>o,ty:()=>m});var t=a(95155),l=a(12115),i=a(48698),r=a(13052),d=a(5196),c=a(9428),n=a(53999);let o=i.bL,m=i.l9;i.YJ,i.ZL,i.Pb,i.z6,l.forwardRef((e,s)=>{let{className:a,inset:l,children:d,...c}=e;return(0,t.jsxs)(i.ZP,{ref:s,className:(0,n.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",a),...c,children:[d,(0,t.jsx)(r.A,{className:"ml-auto h-4 w-4"})]})}).displayName=i.ZP.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.G5,{ref:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=i.G5.displayName;let x=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsx)(i.UC,{ref:s,sideOffset:l,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});x.displayName=i.UC.displayName;let u=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.q7,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...r})});u.displayName=i.q7.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...c}=e;return(0,t.jsxs)(i.H_,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),l]})}).displayName=i.H_.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(i.hN,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(c.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=i.hN.displayName;let f=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.JU,{ref:s,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r})});f.displayName=i.JU.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.wv,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});h.displayName=i.wv.displayName},69663:(e,s,a)=>{a.d(s,{Avatar:()=>d,AvatarFallback:()=>n,AvatarImage:()=>c});var t=a(95155),l=a(12115),i=a(54011),r=a(53999);let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.bL,{ref:s,className:(0,r.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...l})});d.displayName=i.bL.displayName;let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i._V,{ref:s,className:(0,r.cn)("aspect-square h-full w-full",a),...l})});c.displayName=i._V.displayName;let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.H4,{ref:s,className:(0,r.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...l})});n.displayName=i.H4.displayName},92275:(e,s,a)=>{a.d(s,{b:()=>m});var t=a(95155);a(12115);var l=a(92188);a(97168);var i=a(88145);a(88482),a(95139),a(63872),a(95784),a(99840),a(16559);var r=a(17951),d=a(33917),c=a(51976),n=a(55670),o=a(75525);function m(e){let{roles:s,maxDisplay:a=3,size:m="md",showIcons:x=!0}=e,u=s.slice(0,a),f=s.length-a,h={sm:"text-xs px-2 py-1",md:"text-sm px-2.5 py-1.5",lg:"text-base px-3 py-2"},p={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return(0,t.jsxs)("div",{className:"flex items-center space-x-1 flex-wrap",children:[u.map(e=>{let s={[l.QY.ADMIN]:r.A,[l.QY.DOCTOR]:d.A,[l.QY.NURSE]:c.A,[l.QY.RECEPTIONIST]:n.A}[e]||o.A;return(0,t.jsxs)(i.E,{className:"".concat({[l.QY.ADMIN]:"bg-red-100 text-red-800",[l.QY.DOCTOR]:"bg-blue-100 text-blue-800",[l.QY.NURSE]:"bg-green-100 text-green-800",[l.QY.RECEPTIONIST]:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100 text-gray-800"," ").concat(h[m]," flex items-center space-x-1"),children:[x&&(0,t.jsx)(s,{className:p[m]}),(0,t.jsx)("span",{children:{[l.QY.ADMIN]:"Admin",[l.QY.DOCTOR]:"M\xe9dico",[l.QY.NURSE]:"Enfermeiro",[l.QY.RECEPTIONIST]:"Recepcionista"}[e]||e})]},e)}),f>0&&(0,t.jsxs)(i.E,{variant:"outline",className:h[m],children:["+",f]})]})}a(56671),a(88255)},95139:(e,s,a)=>{a.d(s,{S:()=>c});var t=a(95155),l=a(12115),i=a(76981),r=a(5196),d=a(53999);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.bL,{ref:s,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(i.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})})});c.displayName=i.bL.displayName},99840:(e,s,a)=>{a.d(s,{Cf:()=>x,Es:()=>f,L3:()=>h,c7:()=>u,lG:()=>c,rr:()=>p,zM:()=>n});var t=a(95155),l=a(12115),i=a(15452),r=a(54416),d=a(53999);let c=i.bL,n=i.l9,o=i.ZL;i.bm;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.hJ,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=i.hJ.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(i.UC,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[l,(0,t.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="DialogFooter";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.hE,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});h.displayName=i.hE.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.VY,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=i.VY.displayName}}]);