"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3682],{13682:(e,a,s)=>{s.d(a,{A:()=>O});var i=s(95155),r=s(12115),t=s(62177),l=s(90221),n=s(68309),d=s(69074),c=s(71007),o=s(19420),m=s(28883),x=s(14186),h=s(57434),p=s(4516),u=s(85339),j=s(54416),g=s(4229),v=s(97168),b=s(89852),f=s(82714),N=s(99474),y=s(95784),_=s(88482),w=s(88145),S=s(49026),C=s(76037),A=s(90088),k=s(56671),T=s(65924);let D=n.Ik({patient_id:n.Yj().min(1,"Paciente \xe9 obrigat\xf3rio"),doctor_id:n.Yj().min(1,"M\xe9dico \xe9 obrigat\xf3rio"),appointment_date:n.Yj().min(1,"Data \xe9 obrigat\xf3ria"),start_time:n.Yj().min(1,"Hor\xe1rio \xe9 obrigat\xf3rio"),duration:n.ai().min(15,"Dura\xe7\xe3o m\xednima de 15 minutos").max(240,"Dura\xe7\xe3o m\xe1xima de 4 horas"),appointment_type:n.Yj().min(1,"Tipo de consulta \xe9 obrigat\xf3rio"),specialty:n.Yj().optional(),room_id:n.Yj().optional(),notes:n.Yj().optional(),price:n.ai().min(0,"Pre\xe7o deve ser positivo").optional(),insurance_id:n.Yj().optional(),is_telemedicine:n.zM().default(!1),send_reminder:n.zM().default(!0),reminder_time:n.ai().default(24),priority:n.k5(["low","normal","high","urgent"]).default("normal"),recurring:n.zM().default(!1),recurring_pattern:n.Yj().optional(),recurring_end_date:n.Yj().optional()}),L=[{id:"1",name:"Jo\xe3o Silva",phone:"(11) 99999-9999",email:"joao@email.com"},{id:"2",name:"Maria Santos",phone:"(11) 88888-8888",email:"maria@email.com"},{id:"3",name:"Pedro Costa",phone:"(11) 77777-7777",email:"pedro@email.com"}],F=[{id:"1",name:"Dr. Carlos Oliveira",specialty:"Cardiologia",crm:"12345"},{id:"2",name:"Dra. Ana Paula",specialty:"Dermatologia",crm:"67890"},{id:"3",name:"Dr. Roberto Lima",specialty:"Ortopedia",crm:"54321"}],R=[{id:"1",name:"Consult\xf3rio 1",type:"consultation"},{id:"2",name:"Consult\xf3rio 2",type:"consultation"},{id:"3",name:"Sala de Exames",type:"examination"}],E=[{value:"consultation",label:"Consulta"},{value:"followup",label:"Retorno"},{value:"examination",label:"Exame"},{value:"procedure",label:"Procedimento"},{value:"emergency",label:"Emerg\xeancia"}],M=["Cardiologia","Dermatologia","Ortopedia","Pediatria","Ginecologia","Neurologia","Psiquiatria","Oftalmologia","Otorrinolaringologia"],z=[{value:"low",label:"Baixa",color:"bg-gray-100 text-gray-800"},{value:"normal",label:"Normal",color:"bg-blue-100 text-blue-800"},{value:"high",label:"Alta",color:"bg-yellow-100 text-yellow-800"},{value:"urgent",label:"Urgente",color:"bg-red-100 text-red-800"}],O=function(e){var a,s,n;let{appointment:O,onSubmit:P,onCancel:q,loading:I=!1,mode:V="create",className:Y,doctors:H,patients:B}=e,Z=B||L,$=H||F,[U,W]=(0,r.useState)(null),[G,J]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(null),[X,ee]=(0,r.useState)(null),{register:ea,handleSubmit:es,watch:ei,setValue:er,formState:{errors:et,isValid:el},reset:en}=(0,t.mN)({resolver:(0,l.u)(D),defaultValues:{duration:30,appointment_type:"consultation",priority:"normal",is_telemedicine:!1,send_reminder:!0,reminder_time:24,recurring:!1}}),ed=ei(),ec=ei("is_telemedicine"),eo=ei("recurring"),em=ei("appointment_date"),ex=ei("doctor_id");(0,r.useEffect)(()=>{O&&"edit"===V&&en({patient_id:O.patient_id,doctor_id:O.doctor_id,appointment_date:O.appointment_date.split("T")[0],start_time:O.start_time,duration:O.duration||30,appointment_type:O.appointment_type,specialty:O.specialty,room_id:O.room_id,notes:O.notes,price:O.price,insurance_id:O.insurance_id,is_telemedicine:O.is_telemedicine||!1,send_reminder:!0,reminder_time:24,priority:O.priority||"normal",recurring:!1})},[O,V,en]),(0,r.useEffect)(()=>{let e=ed.patient_id;e&&Q(Z.find(a=>a.id===e))},[ed.patient_id,Z]),(0,r.useEffect)(()=>{let e=ed.doctor_id;if(e){let a=$.find(a=>a.id===e);ee(a),(null==a?void 0:a.specialty)&&er("specialty",a.specialty)}},[ed.doctor_id,er,$]),(0,r.useEffect)(()=>{em&&ex?J(!0):J(!1)},[em,ex]);let eh=async e=>{try{let a={...e,appointment_date:"".concat(e.appointment_date,"T").concat(e.start_time,":00"),end_time:ep(e.start_time,e.duration)};await P(a),k.o.success("create"===V?"Agendamento criado com sucesso!":"Agendamento atualizado com sucesso!")}catch(e){k.o.error("Erro ao salvar agendamento. Tente novamente.")}},ep=(e,a)=>{let[s,i]=e.split(":").map(Number),r=new Date;return r.setHours(s,i,0,0),r.setMinutes(r.getMinutes()+a),"".concat(r.getHours().toString().padStart(2,"0"),":").concat(r.getMinutes().toString().padStart(2,"0"))};return(0,i.jsxs)(_.Zp,{className:Y,children:[(0,i.jsx)(_.aR,{children:(0,i.jsxs)(_.ZB,{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(d.A,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"create"===V?"Novo Agendamento":"Editar Agendamento"})]}),O&&(0,i.jsxs)(w.E,{variant:"outline",children:["#",O.id]})]})}),(0,i.jsx)(_.Wu,{children:(0,i.jsxs)("form",{onSubmit:es(eh),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(c.A,{className:"h-4 w-4"}),(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Informa\xe7\xf5es do Paciente"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"patient_id",children:"Paciente *"}),(0,i.jsxs)(y.l6,{value:ed.patient_id,onValueChange:e=>er("patient_id",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{placeholder:"Selecione o paciente"})}),(0,i.jsx)(y.gC,{children:Z.map(e=>(0,i.jsx)(y.eb,{value:e.id,children:(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"font-medium",children:e.name}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.phone," • ",e.email]})]})},e.id))})]}),et.patient_id&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.patient_id.message})]}),K&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{children:"Contato"}),(0,i.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,i.jsx)(o.A,{className:"h-3 w-3"}),(0,i.jsx)("span",{children:K.phone})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,i.jsx)(m.A,{className:"h-3 w-3"}),(0,i.jsx)("span",{children:K.email})]})]})]})]})]}),(0,i.jsx)(C.Separator,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(c.A,{className:"h-4 w-4"}),(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Informa\xe7\xf5es do M\xe9dico"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"doctor_id",children:"M\xe9dico *"}),(0,i.jsxs)(y.l6,{value:ed.doctor_id,onValueChange:e=>er("doctor_id",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{placeholder:"Selecione o m\xe9dico"})}),(0,i.jsx)(y.gC,{children:$.map(e=>(0,i.jsx)(y.eb,{value:e.id,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[e.specialty," - CRM ",e.crm]})]})},e.id))})]}),et.doctor_id&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.doctor_id.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"specialty",children:"Especialidade"}),(0,i.jsxs)(y.l6,{value:ed.specialty,onValueChange:e=>er("specialty",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{placeholder:"Selecione a especialidade"})}),(0,i.jsx)(y.gC,{children:M.map(e=>(0,i.jsx)(y.eb,{value:e,children:e},e))})]})]})]})]}),(0,i.jsx)(C.Separator,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.A,{className:"h-4 w-4"}),(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Data e Hor\xe1rio"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"appointment_date",children:"Data *"}),(0,i.jsx)(b.p,{type:"date",...ea("appointment_date"),min:new Date().toISOString().split("T")[0]}),et.appointment_date&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.appointment_date.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"start_time",children:"Hor\xe1rio *"}),(0,i.jsx)(b.p,{type:"time",...ea("start_time"),readOnly:G}),et.start_time&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.start_time.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"duration",children:"Dura\xe7\xe3o (min) *"}),(0,i.jsxs)(y.l6,{value:null==(a=ed.duration)?void 0:a.toString(),onValueChange:e=>er("duration",parseInt(e)),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{})}),(0,i.jsxs)(y.gC,{children:[(0,i.jsx)(y.eb,{value:"15",children:"15 min"}),(0,i.jsx)(y.eb,{value:"30",children:"30 min"}),(0,i.jsx)(y.eb,{value:"45",children:"45 min"}),(0,i.jsx)(y.eb,{value:"60",children:"1 hora"}),(0,i.jsx)(y.eb,{value:"90",children:"1h 30min"}),(0,i.jsx)(y.eb,{value:"120",children:"2 horas"})]})]}),et.duration&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.duration.message})]})]}),G&&em&&ex&&(0,i.jsx)(T.A,{date:new Date(em),doctorId:ex,selectedSlot:U,onSlotSelect:e=>{W(e),er("start_time",e.time),e.duration&&er("duration",e.duration)},duration:ed.duration})]}),(0,i.jsx)(C.Separator,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(h.A,{className:"h-4 w-4"}),(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Detalhes da Consulta"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"appointment_type",children:"Tipo de Consulta *"}),(0,i.jsxs)(y.l6,{value:ed.appointment_type,onValueChange:e=>er("appointment_type",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{})}),(0,i.jsx)(y.gC,{children:E.map(e=>(0,i.jsx)(y.eb,{value:e.value,children:e.label},e.value))})]}),et.appointment_type&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.appointment_type.message})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"priority",children:"Prioridade"}),(0,i.jsxs)(y.l6,{value:ed.priority,onValueChange:e=>er("priority",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{})}),(0,i.jsx)(y.gC,{children:z.map(e=>(0,i.jsx)(y.eb,{value:e.value,children:(0,i.jsx)("div",{className:"flex items-center space-x-2",children:(0,i.jsx)("span",{children:e.label})})},e.value))})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!ec&&(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"room_id",children:"Sala/Consult\xf3rio"}),(0,i.jsxs)(y.l6,{value:ed.room_id,onValueChange:e=>er("room_id",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{placeholder:"Selecione a sala"})}),(0,i.jsx)(y.gC,{children:R.map(e=>(0,i.jsx)(y.eb,{value:e.id,children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(p.A,{className:"h-3 w-3"}),(0,i.jsx)("span",{children:e.name})]})},e.id))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"price",children:"Valor (R$)"}),(0,i.jsx)(b.p,{type:"number",step:"0.01",min:"0",placeholder:"0,00",...ea("price",{valueAsNumber:!0})}),et.price&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:et.price.message})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"notes",children:"Observa\xe7\xf5es"}),(0,i.jsx)(N.T,{placeholder:"Observa\xe7\xf5es sobre o agendamento...",...ea("notes"),rows:3})]})]}),(0,i.jsx)(C.Separator,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Configura\xe7\xf5es"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(f.Label,{children:"Telemedicina"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Consulta ser\xe1 realizada online"})]}),(0,i.jsx)(A.Switch,{checked:ec,onCheckedChange:e=>er("is_telemedicine",e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(f.Label,{children:"Enviar Lembrete"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Notificar paciente sobre o agendamento"})]}),(0,i.jsx)(A.Switch,{checked:ed.send_reminder,onCheckedChange:e=>er("send_reminder",e)})]}),ed.send_reminder&&(0,i.jsxs)("div",{className:"space-y-2 ml-6",children:[(0,i.jsx)(f.Label,{htmlFor:"reminder_time",children:"Lembrar com anteced\xeancia (horas)"}),(0,i.jsxs)(y.l6,{value:null==(s=ed.reminder_time)?void 0:s.toString(),onValueChange:e=>er("reminder_time",parseInt(e)),children:[(0,i.jsx)(y.bq,{className:"w-48",children:(0,i.jsx)(y.yv,{})}),(0,i.jsxs)(y.gC,{children:[(0,i.jsx)(y.eb,{value:"1",children:"1 hora"}),(0,i.jsx)(y.eb,{value:"2",children:"2 horas"}),(0,i.jsx)(y.eb,{value:"4",children:"4 horas"}),(0,i.jsx)(y.eb,{value:"12",children:"12 horas"}),(0,i.jsx)(y.eb,{value:"24",children:"24 horas"}),(0,i.jsx)(y.eb,{value:"48",children:"48 horas"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(f.Label,{children:"Agendamento Recorrente"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Repetir este agendamento"})]}),(0,i.jsx)(A.Switch,{checked:eo,onCheckedChange:e=>er("recurring",e)})]}),eo&&(0,i.jsxs)("div",{className:"space-y-4 ml-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"recurring_pattern",children:"Padr\xe3o de Recorr\xeancia"}),(0,i.jsxs)(y.l6,{value:ed.recurring_pattern,onValueChange:e=>er("recurring_pattern",e),children:[(0,i.jsx)(y.bq,{children:(0,i.jsx)(y.yv,{placeholder:"Selecione o padr\xe3o"})}),(0,i.jsxs)(y.gC,{children:[(0,i.jsx)(y.eb,{value:"daily",children:"Di\xe1rio"}),(0,i.jsx)(y.eb,{value:"weekly",children:"Semanal"}),(0,i.jsx)(y.eb,{value:"biweekly",children:"Quinzenal"}),(0,i.jsx)(y.eb,{value:"monthly",children:"Mensal"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(f.Label,{htmlFor:"recurring_end_date",children:"Data Final"}),(0,i.jsx)(b.p,{type:"date",...ea("recurring_end_date"),min:em})]})]})]})]}),U&&(0,i.jsxs)(S.Fc,{children:[(0,i.jsx)(u.A,{className:"h-4 w-4"}),(0,i.jsx)(S.TN,{children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{className:"font-medium",children:"Resumo do Agendamento:"}),(0,i.jsxs)("div",{className:"text-sm space-y-1",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Paciente:"})," ",null==K?void 0:K.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"M\xe9dico:"})," ",null==X?void 0:X.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Data:"})," ",new Date(em).toLocaleDateString("pt-BR")]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Hor\xe1rio:"})," ",U.startTime," - ",U.endTime]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Dura\xe7\xe3o:"})," ",ed.duration," minutos"]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Tipo:"})," ",null==(n=E.find(e=>e.value===ed.appointment_type))?void 0:n.label]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Prioridade:"})," ",(e=>{let a=z.find(a=>a.value===e);return(0,i.jsx)(w.E,{variant:"outline",className:null==a?void 0:a.color,children:null==a?void 0:a.label})})(ed.priority)]})]})]})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,i.jsxs)(v.$,{type:"button",variant:"outline",onClick:q,disabled:I,children:[(0,i.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,i.jsx)(v.$,{type:"submit",disabled:!el||I,className:"min-w-[120px]",children:I?(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,i.jsx)("span",{children:"Salvando..."})]}):(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{children:"create"===V?"Criar Agendamento":"Salvar Altera\xe7\xf5es"})]})})]})]})})]})}},37777:(e,a,s)=>{s.d(a,{Bc:()=>n,ZI:()=>o,k$:()=>c,m_:()=>d});var i=s(95155),r=s(12115),t=s(89613),l=s(53999);let n=t.Kq,d=t.bL,c=t.l9,o=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,i.jsx)(t.UC,{ref:a,sideOffset:r,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});o.displayName=t.UC.displayName},49026:(e,a,s)=>{s.d(a,{Fc:()=>d,TN:()=>c});var i=s(95155),r=s(12115),t=s(74466),l=s(53999);let n=(0,t.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,...t}=e;return(0,i.jsx)("div",{ref:a,role:"alert",className:(0,l.cn)(n({variant:r}),s),...t})});d.displayName="Alert",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,i.jsx)("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,i.jsx)("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",s),...r})});c.displayName="AlertDescription"},65924:(e,a,s)=>{s.d(a,{A:()=>u});var i=s(95155),r=s(12115),t=s(14186),l=s(69074),n=s(40646),d=s(85339),c=s(97168),o=s(88482),m=s(88145),x=s(49026),h=s(37777),p=s(53999);let u=function(e){let{date:a,doctorId:s,availability:u=[],selectedSlot:j,onSlotSelect:g,duration:v=30,isLoading:b=!1,disabled:f=!1,className:N}=e,[y,_]=(0,r.useState)("all"),w=(0,r.useMemo)(()=>{let e=[],i=a.toISOString().split("T")[0];return 0===u.length?Object.entries({morning:{start:7,end:12},afternoon:{start:13,end:18},evening:{start:19,end:22}}).forEach(a=>{let[r,{start:t,end:l}]=a;for(let a=t;a<l;a++)for(let t=0;t<60;t+=v){let l="".concat(a.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0")),n=new Date("".concat(i,"T").concat(l));n.setMinutes(n.getMinutes()+v);let d="".concat(n.getHours().toString().padStart(2,"0"),":").concat(n.getMinutes().toString().padStart(2,"0"));e.push({id:"".concat(i,"-").concat(l),date:i,startTime:l,endTime:d,isAvailable:!0,doctorId:s||"",period:r})}}):u.forEach(a=>{if(a.date===i&&a.isAvailable){var s;null==(s=a.timeSlots)||s.forEach(a=>{a.isAvailable&&e.push({...a,period:S(a.startTime)})})}}),e.sort((e,a)=>e.startTime.localeCompare(a.startTime))},[a,u,v,s]),S=e=>{let a=parseInt(e.split(":")[0]);return a<12?"morning":a<18?"afternoon":"evening"},C=(0,r.useMemo)(()=>"all"===y?w:w.filter(e=>e.period===y),[w,y]),A=C.filter(e=>e.isAvailable),k=C.filter(e=>!e.isAvailable),T=e=>e.isAvailable?(null==j?void 0:j.id)===e.id?"selected":"available":"unavailable";return b?(0,i.jsx)(o.Zp,{className:N,children:(0,i.jsx)(o.Wu,{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Carregando hor\xe1rios dispon\xedveis..."})]})})}):(0,i.jsxs)(o.Zp,{className:N,children:[(0,i.jsxs)(o.aR,{children:[(0,i.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,i.jsx)(t.A,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Hor\xe1rios Dispon\xedveis"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,i.jsx)(l.A,{className:"h-4 w-4"}),(0,i.jsx)("span",{children:a.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,i.jsxs)(o.Wu,{className:"space-y-6",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","morning","afternoon","evening"].map(e=>{let a=y===e;return(0,i.jsxs)(c.$,{variant:a?"default":"outline",size:"sm",onClick:()=>_(e),className:"flex items-center space-x-1",children:["all"!==e&&(0,i.jsx)("span",{className:"text-sm",children:{morning:"\uD83C\uDF05",afternoon:"☀️",evening:"\uD83C\uDF19"}[e]||""}),(0,i.jsx)("span",{children:{morning:"Manh\xe3",afternoon:"Tarde",evening:"Noite",all:"Todos"}[e]||e})]},e)})}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,i.jsx)(n.A,{className:"h-4 w-4 text-green-600"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[A.length," dispon\xedveis"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,i.jsx)(d.A,{className:"h-4 w-4 text-red-600"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[k.length," ocupados"]})]})]}),j&&(0,i.jsxs)(m.E,{variant:"secondary",children:["Selecionado: ",j.startTime]})]}),0===C.length?(0,i.jsxs)(x.Fc,{children:[(0,i.jsx)(d.A,{className:"h-4 w-4"}),(0,i.jsx)(x.TN,{children:"N\xe3o h\xe1 hor\xe1rios dispon\xedveis para o per\xedodo selecionado."})]}):(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:C.map(e=>{let a=T(e);return(0,i.jsx)(h.Bc,{children:(0,i.jsxs)(h.m_,{children:[(0,i.jsx)(h.k$,{asChild:!0,children:(0,i.jsxs)("div",{className:(e=>{let a=T(e);return(0,p.cn)("p-3 rounded-lg border-2 transition-all duration-200 cursor-pointer text-center",{available:"border-gray-200 hover:border-blue-300 hover:bg-blue-50 bg-white",selected:"border-blue-500 bg-blue-100 text-blue-700",unavailable:"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed opacity-60"}[a])})(e),onClick:()=>{!f&&e.isAvailable&&g(e)},children:[(0,i.jsx)("div",{className:"font-medium text-sm",children:e.startTime}),e.duration&&(0,i.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.duration,"min"]}),"selected"===a&&(0,i.jsx)(n.A,{className:"h-4 w-4 mx-auto mt-1 text-blue-600"}),"unavailable"===a&&(0,i.jsx)(d.A,{className:"h-4 w-4 mx-auto mt-1 text-red-500"})]})}),(0,i.jsx)(h.ZI,{children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("p",{className:"font-medium",children:[e.startTime," - ",e.endTime]}),e.doctorName&&(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr(a). ",e.doctorName]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["available"===a&&"Clique para selecionar","selected"===a&&"Hor\xe1rio selecionado","unavailable"===a&&"Hor\xe1rio ocupado"]})]})})]})},e.id)})}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-6 pt-4 border-t",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 rounded border-2 border-gray-200 bg-white"}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Dispon\xedvel"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 rounded border-2 border-blue-500 bg-blue-100"}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Selecionado"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 rounded border-2 border-gray-100 bg-gray-50"}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:"Ocupado"})]})]})]})]})}},76037:(e,a,s)=>{s.d(a,{Separator:()=>n});var i=s(95155),r=s(12115),t=s(87489),l=s(53999);let n=r.forwardRef((e,a)=>{let{className:s,orientation:r="horizontal",decorative:n=!0,...d}=e;return(0,i.jsx)(t.b,{ref:a,decorative:n,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...d})});n.displayName=t.b.displayName},82714:(e,a,s)=>{s.d(a,{Label:()=>c});var i=s(95155),r=s(12115),t=s(40968),l=s(74466),n=s(53999);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,i.jsx)(t.b,{ref:a,className:(0,n.cn)(d(),s),...r})});c.displayName=t.b.displayName},90088:(e,a,s)=>{s.d(a,{Switch:()=>n});var i=s(95155),r=s(12115),t=s(4884),l=s(53999);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,i.jsx)(t.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:a,children:(0,i.jsx)(t.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=t.bL.displayName},99474:(e,a,s)=>{s.d(a,{T:()=>l});var i=s(95155),r=s(12115),t=s(53999);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,i.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});l.displayName="Textarea"}}]);