(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3545],{1243:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9100:(e,a,s)=>{Promise.resolve().then(s.bind(s,63872)),Promise.resolve().then(s.bind(s,54715))},14186:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},20215:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},33917:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},36643:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]])},51976:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},54715:(e,a,s)=>{"use strict";s.d(a,{default:()=>O});var t=s(95155),c=s(12115),i=s(88482),r=s(97168),l=s(88145),n=s(34964),o=s(24944),d=s(87983),m=s(36643),p=s(14186),x=s(20215),u=s(51976),h=s(35169),g=s(53904),y=s(33109),j=s(68500),v=s(1243),N=s(79397),f=s(40646),b=s(33917),w=s(55670),k=s(39181),A=s(83115),M=s(82085),E=s(53231),T=s(32944),D=s(63008),P=s(4573),F=s(80929),C=s(56671);let O=function(){let[e,a]=(0,c.useState)("overview"),[s,O]=(0,c.useState)({startDate:(0,E.w)(new Date),endDate:(0,T.p)(new Date),type:"operational"}),[q,B]=(0,c.useState)(!1),{generateOperationalReport:R,isGeneratingOperational:Z,operationalReport:S}=(0,k.r)(),{dashboardData:K,isLoadingDashboard:L}=(0,A.T)(),[G,Q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{_()},[s]);let _=async()=>{try{await R({startDate:s.startDate,endDate:s.endDate,includeOccupancy:!0,includePrescriptions:!0,includeInventory:!0})}catch(e){C.o.error("Erro ao gerar relat\xf3rio operacional")}},V=async e=>{try{Q(!0);let a={title:"Relat\xf3rio Operacional",subtitle:"Per\xedodo: ".concat((0,D.GP)(s.startDate,"dd/MM/yyyy",{locale:P.F})," - ").concat((0,D.GP)(s.endDate,"dd/MM/yyyy",{locale:P.F})),data:S||[{periodo:"Sem dados",ocupacao:0,prescricoes:0,satisfacao:0}],metadata:{generatedAt:new Date,period:"".concat((0,D.GP)(s.startDate,"dd/MM/yyyy",{locale:P.F})," - ").concat((0,D.GP)(s.endDate,"dd/MM/yyyy",{locale:P.F}))},filters:s},t={format:e,includeFilters:!0,includeSummary:!0,includeCharts:"pdf"===e};switch(e){case"pdf":await (0,M.Q7)(a,t);break;case"excel":await (0,M.bJ)(a,t);break;case"csv":await (0,M.GF)(a,t);break;case"png":let c=document.querySelector(".operational-chart");c&&await (0,M.vc)(c,t);break;default:C.o.error("Formato n\xe3o suportado");return}C.o.success("Relat\xf3rio exportado em ".concat(e.toUpperCase()))}catch(e){C.o.error("Erro ao exportar relat\xf3rio")}finally{Q(!1)}},z={type:"line",xAxisKey:"date",yAxisKey:"occupancy",showLegend:!0,formatters:{occupancy:{type:"percentage"},capacity:{type:"number"}},series:[{key:"occupancy",name:"Taxa de Ocupa\xe7\xe3o",color:"#3B82F6"},{key:"capacity",name:"Capacidade",color:"#6B7280"}]},W={type:"bar",xAxisKey:"specialty",yAxisKey:"count",showLegend:!0,formatters:{count:{type:"number"}},series:[{key:"count",name:"Prescri\xe7\xf5es",color:"#10B981"}]},H=[{date:"01/06",occupancy:85,capacity:100},{date:"02/06",occupancy:88,capacity:100},{date:"03/06",occupancy:92,capacity:100},{date:"04/06",occupancy:87,capacity:100},{date:"05/06",occupancy:90,capacity:100},{date:"06/06",occupancy:94,capacity:100},{date:"07/06",occupancy:89,capacity:100}],I=[{specialty:"Cardiologia",count:145},{specialty:"Neurologia",count:98},{specialty:"Ortopedia",count:87},{specialty:"Pediatria",count:76},{specialty:"Ginecologia",count:65},{specialty:"Outros",count:124}],U=[{category:"Medicamentos",stock:850,minimum:200},{category:"Materiais Cir\xfargicos",stock:320,minimum:100},{category:"Equipamentos",stock:45,minimum:15},{category:"Descart\xe1veis",stock:1200,minimum:300},{category:"Reagentes",stock:180,minimum:50}],$=[{title:"Taxa de Ocupa\xe7\xe3o",value:"89%",change:"+3.2%",trend:"up",icon:(0,t.jsx)(m.A,{className:"h-5 w-5"}),color:"text-blue-600",target:85},{title:"Tempo M\xe9dio de Interna\xe7\xe3o",value:"4.2 dias",change:"-0.5 dias",trend:"down",icon:(0,t.jsx)(p.A,{className:"h-5 w-5"}),color:"text-green-600",target:4.5},{title:"Prescri\xe7\xf5es/Dia",value:"595",change:"+12.8%",trend:"up",icon:(0,t.jsx)(x.A,{className:"h-5 w-5"}),color:"text-purple-600",target:550},{title:"Satisfa\xe7\xe3o do Paciente",value:"4.7/5",change:"+0.2",trend:"up",icon:(0,t.jsx)(u.A,{className:"h-5 w-5"}),color:"text-red-600",target:4.5}];return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(F.N_,{to:"/reports",children:(0,t.jsxs)(r.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Relat\xf3rios Operacionais"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"An\xe1lise de ocupa\xe7\xe3o, prescri\xe7\xf5es, estoque e fluxo de pacientes"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(r.$,{variant:"outline",onClick:_,disabled:Z,children:[(0,t.jsx)(g.A,{className:"h-4 w-4 mr-2 ".concat(Z?"animate-spin":"")}),"Atualizar"]}),(0,t.jsx)(d.NV,{onExport:V,loading:G,availableFormats:["pdf","excel","csv"],defaultFormat:"pdf"})]})]}),(0,t.jsx)(d.ZN,{filters:s,onFiltersChange:e=>{O(e)},onApplyFilters:()=>{_(),C.o.success("Filtros aplicados com sucesso")},onClearFilters:()=>{O({startDate:(0,E.w)(new Date),endDate:(0,T.p)(new Date),type:"operational"})},loading:Z,collapsed:q,onToggleCollapse:()=>B(!q),availableTypes:[{value:"operational",label:"Operacional"}],availableCategories:[{value:"occupancy",label:"Ocupa\xe7\xe3o"},{value:"prescriptions",label:"Prescri\xe7\xf5es"},{value:"inventory",label:"Estoque"},{value:"patient-flow",label:"Fluxo de Pacientes"}]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:$.map((e,a)=>(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]}),(0,t.jsx)("div",{className:"p-2 rounded-lg bg-gray-50 ".concat(e.color),children:e.icon})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)(l.E,{variant:"up"===e.trend?"default":"destructive",className:"text-xs",children:["up"===e.trend?(0,t.jsx)(y.A,{className:"h-3 w-3 mr-1"}):(0,t.jsx)(j.A,{className:"h-3 w-3 mr-1"}),e.change]}),e.target&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Meta: ",e.target]})]})]})},a))}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 text-orange-500"}),"Alertas Operacionais"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{type:"warning",title:"Estoque Baixo",message:"Medicamentos cardiovasculares abaixo do estoque m\xednimo",time:"2 horas atr\xe1s"},{type:"info",title:"Alta Ocupa\xe7\xe3o",message:"UTI com 95% de ocupa\xe7\xe3o - considerar transfer\xeancias",time:"4 horas atr\xe1s"},{type:"success",title:"Meta Atingida",message:"Tempo m\xe9dio de atendimento dentro da meta estabelecida",time:"6 horas atr\xe1s"}].map((e,a)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[(0,t.jsxs)("div",{className:"p-1 rounded-full ".concat("warning"===e.type?"bg-orange-100":"info"===e.type?"bg-blue-100":"bg-green-100"),children:["warning"===e.type&&(0,t.jsx)(v.A,{className:"h-4 w-4 text-orange-600"}),"info"===e.type&&(0,t.jsx)(N.A,{className:"h-4 w-4 text-blue-600"}),"success"===e.type&&(0,t.jsx)(f.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},a))})})]}),(0,t.jsxs)(n.Tabs,{value:e,onValueChange:a,className:"space-y-6",children:[(0,t.jsxs)(n.TabsList,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(n.TabsTrigger,{value:"overview",children:"Vis\xe3o Geral"}),(0,t.jsx)(n.TabsTrigger,{value:"occupancy",children:"Ocupa\xe7\xe3o"}),(0,t.jsx)(n.TabsTrigger,{value:"prescriptions",children:"Prescri\xe7\xf5es"}),(0,t.jsx)(n.TabsTrigger,{value:"inventory",children:"Estoque"})]}),(0,t.jsxs)(n.TabsContent,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(d.Qe,{title:"Taxa de Ocupa\xe7\xe3o",description:"Evolu\xe7\xe3o da taxa de ocupa\xe7\xe3o dos leitos",data:H,config:z,loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:350}),(0,t.jsx)(d.Qe,{title:"Prescri\xe7\xf5es por Especialidade",description:"Distribui\xe7\xe3o de prescri\xe7\xf5es por \xe1rea m\xe9dica",data:I,config:W,loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:350})]}),(0,t.jsx)(d.Qe,{title:"Fluxo de Pacientes",description:"Movimenta\xe7\xe3o de pacientes ao longo do dia",data:[{hour:"08:00",admissions:12,discharges:8,transfers:3},{hour:"10:00",admissions:18,discharges:15,transfers:5},{hour:"12:00",admissions:25,discharges:20,transfers:8},{hour:"14:00",admissions:22,discharges:18,transfers:6},{hour:"16:00",admissions:20,discharges:25,transfers:4},{hour:"18:00",admissions:15,discharges:22,transfers:7}],config:{type:"line",xAxisKey:"hour",yAxisKey:"patients",showLegend:!0,formatters:{patients:{type:"number"}},series:[{key:"admissions",name:"Admiss\xf5es",color:"#10B981"},{key:"discharges",name:"Altas",color:"#F59E0B"},{key:"transfers",name:"Transfer\xeancias",color:"#3B82F6"}]},loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:400})]}),(0,t.jsx)(n.TabsContent,{value:"occupancy",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(d.Qe,{title:"Taxa de Ocupa\xe7\xe3o Detalhada",description:"An\xe1lise detalhada da ocupa\xe7\xe3o de leitos por per\xedodo",data:H,config:z,loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:400})}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-lg",children:"Ocupa\xe7\xe3o por Setor"})}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:[{sector:"UTI",occupied:18,total:20,percentage:90},{sector:"Enfermaria",occupied:45,total:60,percentage:75},{sector:"Pediatria",occupied:12,total:15,percentage:80},{sector:"Maternidade",occupied:8,total:12,percentage:67}].map((e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.sector}),(0,t.jsxs)("span",{className:"text-sm font-semibold",children:[e.occupied,"/",e.total]})]}),(0,t.jsx)(o.k,{value:e.percentage,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[e.percentage,"% ocupado"]}),(0,t.jsx)(l.E,{variant:e.percentage>85?"destructive":e.percentage>70?"default":"secondary",className:"text-xs",children:e.percentage>85?"Alto":e.percentage>70?"M\xe9dio":"Baixo"})]})]},a))})]})})]})}),(0,t.jsx)(n.TabsContent,{value:"prescriptions",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(d.Qe,{title:"Prescri\xe7\xf5es por Especialidade",description:"Volume de prescri\xe7\xf5es por \xe1rea m\xe9dica",data:I,config:W,loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:400}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-lg",children:"An\xe1lise de Prescri\xe7\xf5es"})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)(b.A,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"595"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Hoje"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,t.jsx)(w.A,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"98%"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Taxa de Ades\xe3o"})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Medicamentos Mais Prescritos"}),(0,t.jsx)("div",{className:"space-y-2",children:[{name:"Dipirona",count:45},{name:"Paracetamol",count:38},{name:"Omeprazol",count:32},{name:"Losartana",count:28}].map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:e.name}),(0,t.jsx)(l.E,{variant:"outline",className:"text-xs",children:e.count})]},a))})]})]})]})})]})}),(0,t.jsx)(n.TabsContent,{value:"inventory",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(d.Qe,{title:"N\xedveis de Estoque",description:"Estoque atual vs. estoque m\xednimo por categoria",data:U,config:{type:"area",xAxisKey:"category",yAxisKey:"stock",showLegend:!0,formatters:{stock:{type:"number"},minimum:{type:"number"}},series:[{key:"stock",name:"Estoque Atual",color:"#8B5CF6"},{key:"minimum",name:"Estoque M\xednimo",color:"#EF4444"}]},loading:L,onRefresh:()=>_(),onExport:e=>V(e),height:400}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-lg",children:"Status do Estoque"})}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:U.map((e,a)=>{let s=e.stock/(3*e.minimum)*100,c=e.stock<=e.minimum?"critical":e.stock<=1.5*e.minimum?"warning":"good";return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.category}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-semibold",children:e.stock}),(0,t.jsx)(l.E,{variant:"critical"===c?"destructive":"warning"===c?"default":"secondary",className:"text-xs",children:"critical"===c?"Cr\xedtico":"warning"===c?"Baixo":"OK"})]})]}),(0,t.jsx)(o.k,{value:Math.min(s,100),className:"h-2 ".concat("critical"===c?"[&>div]:bg-red-500":"warning"===c?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500")}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["M\xedn: ",e.minimum]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(e.stock/e.minimum*100),"% do m\xednimo"]})]})]},a)})})]})})]})})]})]})}},55670:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},79397:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{e.O(0,[3355,3524,3930,3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,5452,1118,7127,3008,5297,7185,2203,8962,9340,1969,8529,5719,8814,8441,5964,7358],()=>e(e.s=9100)),_N_E=e.O()}]);