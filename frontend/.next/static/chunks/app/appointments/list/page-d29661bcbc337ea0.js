(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2538],{4895:(e,s,a)=>{"use strict";a.d(s,{l:()=>m});var t=a(95155);a(12115);var l=a(63008),n=a(4573),r=a(69074),i=a(53999),c=a(97168),d=a(36894),o=a(60823);function m(e){let{date:s,onDateChange:a,placeholder:m="Selecione uma data",disabled:x=!1,className:h}=e;return(0,t.jsxs)(o.AM,{children:[(0,t.jsx)(o.Wv,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"outline",className:(0,i.cn)("w-full justify-start text-left font-normal",!s&&"text-muted-foreground",h),disabled:x,children:[(0,t.jsx)(r.A,{className:"mr-2 h-4 w-4"}),s?(0,l.GP)(s,"PPP",{locale:n.F}):m]})}),(0,t.jsx)(o.hl,{className:"w-auto p-0",children:(0,t.jsx)(d.V,{mode:"single",selected:s,onSelect:a,initialFocus:!0,locale:n.F})})]})}},5456:(e,s,a)=>{Promise.resolve().then(a.bind(a,85935))},36894:(e,s,a)=>{"use strict";a.d(s,{V:()=>d});var t=a(95155);a(12115);var l=a(42355),n=a(13052),r=a(86873),i=a(53999),c=a(97168);function d(e){let{className:s,classNames:a,showOutsideDays:d=!0,...o}=e;return(0,t.jsx)(r.h,{showOutsideDays:d,className:(0,i.cn)("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,c.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,c.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...s}=e;return(0,t.jsx)(l.A,{className:"h-4 w-4"})},IconRight:e=>{let{...s}=e;return(0,t.jsx)(n.A,{className:"h-4 w-4"})}},...o})}d.displayName="Calendar"},37777:(e,s,a)=>{"use strict";a.d(s,{Bc:()=>i,ZI:()=>o,k$:()=>d,m_:()=>c});var t=a(95155),l=a(12115),n=a(89613),r=a(53999);let i=n.Kq,c=n.bL,d=n.l9,o=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...i}=e;return(0,t.jsx)(n.UC,{ref:s,sideOffset:l,className:(0,r.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});o.displayName=n.UC.displayName},49026:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>c,TN:()=>d});var t=a(95155),l=a(12115),n=a(74466),r=a(53999);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef((e,s)=>{let{className:a,variant:l,...n}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,r.cn)(i({variant:l}),a),...n})});c.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...l})});d.displayName="AlertDescription"},60823:(e,s,a)=>{"use strict";a.d(s,{AM:()=>i,Wv:()=>c,hl:()=>d});var t=a(95155),l=a(12115),n=a(20547),r=a(53999);let i=n.bL,c=n.l9,d=l.forwardRef((e,s)=>{let{className:a,align:l="center",sideOffset:i=4,...c}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsx)(n.UC,{ref:s,align:l,sideOffset:i,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})})});d.displayName=n.UC.displayName},85935:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>K});var t=a(95155),l=a(12115),n=a(90166),r=a(40646),i=a(54416),c=a(85690),d=a(9446),o=a(18979),m=a(91788),x=a(84616),h=a(47924),u=a(66932),p=a(53904),j=a(62525),g=a(69074),v=a(85213),f=a(95488),N=a(92657),b=a(13717),y=a(5623),w=a(42355),C=a(13052),A=a(97168),_=a(89852),k=a(88482),E=a(88145),$=a(95784),S=a(67133),z=a(99840),D=a(49026),F=a(95139),L=a(69663),R=a(4895),I=a(54861),Z=a(14186),M=a(19420),P=a(4516),T=a(71007),B=a(57434),V=a(37777),W=a(53999);let O=function(e){var s,a,l,n,i,d,m,x,h,u;let{appointment:p,variant:v="default",showActions:f=!0,onEdit:N,onView:y,onCancel:w,onConfirm:C,onStart:_,onComplete:$,onDelete:S,className:z}=e,D=e=>{let s=Math.floor(e/60),a=e%60;return s>0?"".concat(s,"h").concat(a>0?" ".concat(a,"min"):""):"".concat(a,"min")},F=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),R="scheduled"===p.status,O="confirmed"===p.status,q="in_progress"===p.status,U=["scheduled","confirmed"].includes(p.status),G=["scheduled","confirmed"].includes(p.status),Q=(e=>{let s={scheduled:{color:"bg-blue-100 text-blue-800 border-blue-200",text:"Agendado",icon:g.A},confirmed:{color:"bg-green-100 text-green-800 border-green-200",text:"Confirmado",icon:r.A},in_progress:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Em Andamento",icon:c.A},completed:{color:"bg-gray-100 text-gray-800 border-gray-200",text:"Conclu\xeddo",icon:r.A},cancelled:{color:"bg-red-100 text-red-800 border-red-200",text:"Cancelado",icon:I.A},no_show:{color:"bg-orange-100 text-orange-800 border-orange-200",text:"Faltou",icon:I.A}};return s[e]||s.scheduled})(p.status),H=(e=>{let s=new Date(e);return{date:s.toLocaleDateString("pt-BR"),time:s.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),weekday:s.toLocaleDateString("pt-BR",{weekday:"short"})}})(p.appointment_date),K=Q.icon;return"compact"===v?(0,t.jsx)(k.Zp,{className:(0,W.cn)("hover:shadow-md transition-shadow",z),children:(0,t.jsx)(k.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(L.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(L.AvatarImage,{src:null==(m=p.patient)?void 0:m.avatar}),(0,t.jsx)(L.AvatarFallback,{className:"text-xs",children:F((null==(x=p.patient)?void 0:x.name)||"P")})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm truncate",children:(null==(h=p.patient)?void 0:h.name)||"Paciente n\xe3o informado"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[H.time," • ",(null==(u=p.doctor)?void 0:u.name)||"M\xe9dico n\xe3o informado"]})]})]}),(0,t.jsx)(E.E,{className:(0,W.cn)("text-xs",Q.color),children:Q.text})]})})}):(0,t.jsxs)(k.Zp,{className:(0,W.cn)("hover:shadow-md transition-shadow",z),children:[(0,t.jsx)(k.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(L.Avatar,{className:"h-10 w-10",children:[(0,t.jsx)(L.AvatarImage,{src:null==(s=p.patient)?void 0:s.avatar}),(0,t.jsx)(L.AvatarFallback,{children:F((null==(a=p.patient)?void 0:a.name)||"P")})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg truncate",children:(null==(l=p.patient)?void 0:l.name)||"Paciente n\xe3o informado"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:(null==(n=p.doctor)?void 0:n.name)||"M\xe9dico n\xe3o informado"}),(null==(i=p.doctor)?void 0:i.specialty)&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:p.doctor.specialty})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(E.E,{className:(0,W.cn)("flex items-center space-x-1",Q.color),children:[(0,t.jsx)(K,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:Q.text})]})})]})}),(0,t.jsxs)(k.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(g.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[H.date," (",H.weekday,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:[H.time,p.duration&&(0,t.jsxs)("span",{className:"text-gray-500 ml-1",children:["• ",D(p.duration)]})]})]})]}),"detailed"===v&&(0,t.jsxs)("div",{className:"space-y-3",children:[(null==(d=p.patient)?void 0:d.phone)&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(M.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:p.patient.phone})]}),p.room&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:["Sala ",p.room.name]})]}),p.appointment_type&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(T.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:p.appointment_type.name}),p.appointment_type.duration&&(0,t.jsxs)("span",{className:"text-gray-500",children:["(",D(p.appointment_type.duration),")"]})]}),p.notes&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-sm",children:[(0,t.jsx)(B.A,{className:"h-4 w-4 text-gray-400 mt-0.5"}),(0,t.jsx)("span",{className:"text-gray-600",children:p.notes})]}),p.price&&(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Valor:"}),(0,t.jsxs)("span",{className:"font-semibold text-green-600",children:["R$ ",p.price.toFixed(2)]})]})]}),f&&(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2 pt-3 border-t",children:(0,t.jsxs)(V.Bc,{children:[R&&C&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>C(p),className:"text-green-600 hover:text-green-700",children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Confirmar agendamento"})})]}),O&&_&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>_(p),className:"text-blue-600 hover:text-blue-700",children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Iniciar consulta"})})]}),q&&$&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>$(p),className:"text-purple-600 hover:text-purple-700",children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Finalizar consulta"})})]}),G&&N&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>N(p),children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Editar agendamento"})})]}),U&&w&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>w(p),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(I.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Cancelar agendamento"})})]}),S&&(0,t.jsxs)(V.m_,{children:[(0,t.jsx)(V.k$,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"outline",size:"sm",onClick:()=>S(p),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(j.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.ZI,{children:(0,t.jsx)("p",{children:"Excluir agendamento"})})]})]})})]})]})};var q=a(3053),U=a(56671);let G=function(e){var s;let{className:a}=e,I=(0,n.Zp)(),{appointments:Z,isLoading:M,searchAppointments:P,cancelAppointment:T,confirmAppointment:B,startAppointment:V,completeAppointment:G,markNoShow:Q,deleteAppointment:H,exportAppointments:K}=(0,q.Q)(),[J,X]=(0,l.useState)("table"),[Y,ee]=(0,l.useState)(""),[es,ea]=(0,l.useState)({status:[],doctor_id:void 0,patient_id:void 0,date_from:void 0,date_to:void 0,appointment_type:"",search:""}),[et,el]=(0,l.useState)("appointmentDate"),[en,er]=(0,l.useState)("asc"),[ei,ec]=(0,l.useState)([]),[ed,eo]=(0,l.useState)(!1),[em,ex]=(0,l.useState)(!1),[eh,eu]=(0,l.useState)(null),[ep,ej]=(0,l.useState)(1),[eg,ev]=(0,l.useState)(10),ef=(0,l.useMemo)(()=>{let e=Z||[];if(Y){let s=Y.toLowerCase();e=e.filter(e=>{var a,t,l,n,r,i;return(null==(t=e.patient)||null==(a=t.name)?void 0:a.toLowerCase().includes(s))||(null==(n=e.doctor)||null==(l=n.name)?void 0:l.toLowerCase().includes(s))||(null==(r=e.appointmentType)?void 0:r.toLowerCase().includes(s))||(null==(i=e.notes)?void 0:i.toLowerCase().includes(s))})}return es.status&&es.status.length>0&&(e=e.filter(e=>es.status.includes(e.status))),es.doctor_id&&(e=e.filter(e=>e.doctor_id===es.doctor_id)),es.patient_id&&(e=e.filter(e=>e.patient_id===es.patient_id)),es.date_from&&(e=e.filter(e=>new Date(e.appointment_date)>=new Date(es.date_from))),es.date_to&&(e=e.filter(e=>new Date(e.appointment_date)<=new Date(es.date_to))),es.appointment_type&&(e=e.filter(e=>e.appointment_type===es.appointment_type)),e.sort((e,s)=>{var a,t,l,n;let r,i;switch(et){case"appointmentDate":r=new Date(e.appointment_date),i=new Date(s.appointment_date);break;case"patientName":r=(null==(a=e.patient)?void 0:a.name)||"",i=(null==(t=s.patient)?void 0:t.name)||"";break;case"doctorName":r=(null==(l=e.doctor)?void 0:l.name)||"",i=(null==(n=s.doctor)?void 0:n.name)||"";break;case"status":r=e.status,i=s.status;break;case"createdAt":r=new Date(e.createdAt||""),i=new Date(s.createdAt||"");break;default:r=e.appointment_date,i=s.appointment_date}return r<i?"asc"===en?-1:1:r>i?"asc"===en?1:-1:0}),e},[Z,Y,es,et,en]),eN=Math.ceil(ef.length/eg),eb=ef.slice((ep-1)*eg,ep*eg),ey=e=>{et===e?er("asc"===en?"desc":"asc"):(el(e),er("asc"))},ew=async e=>{if(0===ei.length)return void U.o.error("Selecione pelo menos um agendamento");try{let s=ei.map(s=>{switch(e){case"confirm":return B(s);case"cancel":return T(s);case"delete":return H(s);default:return Promise.resolve()}});await Promise.all(s),ec([]),U.o.success("".concat(ei.length," agendamentos ").concat({confirm:"confirmados",cancel:"cancelados",delete:"exclu\xeddos"}[e]||"processados"," com sucesso!"))}catch(e){U.o.error("Erro ao processar agendamentos selecionados")}},eC=async(e,s)=>{try{switch(s){case"confirm":await B(e),U.o.success("Agendamento confirmado!");break;case"start":await V(e),U.o.success("Consulta iniciada!");break;case"complete":await G(e),U.o.success("Consulta finalizada!");break;case"no-show":await Q(e),U.o.success("Marcado como falta!");break;case"cancel":await T(e),U.o.success("Agendamento cancelado!")}}catch(e){U.o.error("Erro ao atualizar status do agendamento")}},eA=async()=>{if(eh)try{await H(eh),U.o.success("Agendamento exclu\xeddo com sucesso!"),ex(!1),eu(null)}catch(e){U.o.error("Erro ao excluir agendamento")}},e_=async()=>{try{await K(es),U.o.success("Relat\xf3rio exportado com sucesso!")}catch(e){U.o.error("Erro ao exportar relat\xf3rio")}};return(0,t.jsxs)("div",{className:(0,W.cn)("min-h-screen bg-gray-50",a),children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agendamentos"}),(0,t.jsxs)("p",{className:"text-gray-600",children:[ef.length," agendamento",1!==ef.length?"s":""," encontrado",1!==ef.length?"s":""]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(A.$,{variant:"outline",onClick:e_,disabled:0===ef.length,children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Exportar"]}),(0,t.jsxs)(A.$,{onClick:()=>I("/appointments/create"),children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Novo Agendamento"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(_.p,{placeholder:"Buscar por paciente, m\xe9dico, tipo de consulta...",value:Y,onChange:e=>ee(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(A.$,{variant:"outline",onClick:()=>eo(!ed),className:ed?"bg-blue-50 text-blue-600":"",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Filtros"]}),(0,t.jsxs)($.l6,{value:J,onValueChange:e=>X(e),children:[(0,t.jsx)($.bq,{className:"w-32",children:(0,t.jsx)($.yv,{})}),(0,t.jsxs)($.gC,{children:[(0,t.jsx)($.eb,{value:"table",children:"Tabela"}),(0,t.jsx)($.eb,{value:"cards",children:"Cards"}),(0,t.jsx)($.eb,{value:"calendar",children:"Calend\xe1rio"})]})]}),(0,t.jsx)(A.$,{variant:"outline",size:"icon",onClick:()=>window.location.reload(),children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})]})]}),ed&&(0,t.jsxs)(k.Zp,{className:"mb-6",children:[(0,t.jsx)(k.aR,{children:(0,t.jsx)(k.ZB,{className:"text-lg",children:"Filtros"})}),(0,t.jsxs)(k.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Status"}),(0,t.jsxs)($.l6,{value:(null==(s=es.status)?void 0:s[0])||"",onValueChange:e=>ea(s=>({...s,status:e?[e]:[]})),children:[(0,t.jsx)($.bq,{children:(0,t.jsx)($.yv,{placeholder:"Todos os status"})}),(0,t.jsxs)($.gC,{children:[(0,t.jsx)($.eb,{value:"",children:"Todos os status"}),(0,t.jsx)($.eb,{value:"scheduled",children:"Agendado"}),(0,t.jsx)($.eb,{value:"confirmed",children:"Confirmado"}),(0,t.jsx)($.eb,{value:"in_progress",children:"Em Andamento"}),(0,t.jsx)($.eb,{value:"completed",children:"Conclu\xeddo"}),(0,t.jsx)($.eb,{value:"cancelled",children:"Cancelado"}),(0,t.jsx)($.eb,{value:"no_show",children:"Faltou"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Data Inicial"}),(0,t.jsx)(R.l,{date:es.date_from,onDateChange:e=>ea(s=>({...s,date_from:e}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Data Final"}),(0,t.jsx)(R.l,{date:es.date_to,onDateChange:e=>ea(s=>({...s,date_to:e}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Tipo de Consulta"}),(0,t.jsxs)($.l6,{value:es.appointment_type||"",onValueChange:e=>ea(s=>({...s,appointment_type:e})),children:[(0,t.jsx)($.bq,{children:(0,t.jsx)($.yv,{placeholder:"Todos os tipos"})}),(0,t.jsxs)($.gC,{children:[(0,t.jsx)($.eb,{value:"",children:"Todos os tipos"}),(0,t.jsx)($.eb,{value:"consulta",children:"Consulta"}),(0,t.jsx)($.eb,{value:"retorno",children:"Retorno"}),(0,t.jsx)($.eb,{value:"exame",children:"Exame"})]})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2 mt-4",children:(0,t.jsx)(A.$,{variant:"outline",onClick:()=>{ea({status:[],doctor_id:void 0,patient_id:void 0,date_from:void 0,date_to:void 0,appointment_type:"",search:""}),ee(""),ej(1)},children:"Limpar Filtros"})})]})]}),ei.length>0&&(0,t.jsx)(k.Zp,{className:"mb-6 border-blue-200 bg-blue-50",children:(0,t.jsx)(k.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-blue-700",children:[ei.length," agendamento",1!==ei.length?"s":""," selecionado",1!==ei.length?"s":""]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(A.$,{size:"sm",variant:"outline",onClick:()=>ew("confirm"),children:[(0,t.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Confirmar"]}),(0,t.jsxs)(A.$,{size:"sm",variant:"outline",onClick:()=>ew("cancel"),children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,t.jsxs)(A.$,{size:"sm",variant:"destructive",onClick:()=>ew("delete"),children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})})]}),M?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Carregando agendamentos..."})]})}):0===ef.length?(0,t.jsx)(k.Zp,{children:(0,t.jsxs)(k.Wu,{className:"pt-6 text-center py-12",children:[(0,t.jsx)(g.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum agendamento encontrado"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:Y||Object.values(es).some(e=>e&&(!Array.isArray(e)||e.length>0))?"Tente ajustar os filtros de busca.":"Comece criando seu primeiro agendamento."}),(0,t.jsxs)(A.$,{onClick:()=>I("/appointments/create"),children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Novo Agendamento"]})]})}):(0,t.jsxs)(t.Fragment,{children:["table"===J&&(0,t.jsx)(k.Zp,{children:(0,t.jsx)(k.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left",children:(0,t.jsx)(F.S,{checked:ei.length===eb.length,onCheckedChange:e=>{e?ec(eb.map(e=>e.id)):ec([])}})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,t.jsxs)("button",{onClick:()=>ey("appointmentDate"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,t.jsx)("span",{children:"Data/Hora"}),"appointmentDate"===et&&("asc"===en?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(f.A,{className:"h-4 w-4"}))]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,t.jsxs)("button",{onClick:()=>ey("patientName"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,t.jsx)("span",{children:"Paciente"}),"patientName"===et&&("asc"===en?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(f.A,{className:"h-4 w-4"}))]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,t.jsxs)("button",{onClick:()=>ey("doctorName"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,t.jsx)("span",{children:"M\xe9dico"}),"doctorName"===et&&("asc"===en?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(f.A,{className:"h-4 w-4"}))]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,t.jsxs)("button",{onClick:()=>ey("status"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,t.jsx)("span",{children:"Status"}),"status"===et&&("asc"===en?(0,t.jsx)(v.A,{className:"h-4 w-4"}):(0,t.jsx)(f.A,{className:"h-4 w-4"}))]})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:eb.map(e=>{var s,a,l,n,m,x,h,u,p;let g=(e=>{let s=new Date(e);return{date:s.toLocaleDateString("pt-BR"),time:s.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}})(e.appointment_date),v=(e=>{let s=[];switch(e.status){case"scheduled":s.push({id:"confirm",label:"Confirmar",icon:r.A},{id:"cancel",label:"Cancelar",icon:i.A});break;case"confirmed":s.push({id:"start",label:"Iniciar",icon:c.A},{id:"no-show",label:"Falta",icon:d.A},{id:"cancel",label:"Cancelar",icon:i.A});break;case"in_progress":s.push({id:"complete",label:"Finalizar",icon:o.A})}return s})(e);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)(F.S,{checked:ei.includes(e.id),onCheckedChange:s=>{var a;return a=e.id,void(s?ec(e=>[...e,a]):ec(e=>e.filter(e=>e!==a)))}})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:g.date}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:g.time})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)(L.Avatar,{className:"h-8 w-8 mr-3",children:[(0,t.jsx)(L.AvatarImage,{src:""}),(0,t.jsx)(L.AvatarFallback,{children:(null==(a=e.patient)||null==(s=a.name)?void 0:s.split(" ").map(e=>e[0]).join(""))||"P"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null==(l=e.patient)?void 0:l.name)||"Nome n\xe3o informado"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(null==(n=e.patient)?void 0:n.phone)||"Telefone n\xe3o informado"})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)(L.Avatar,{className:"h-8 w-8 mr-3",children:[(0,t.jsx)(L.AvatarImage,{src:""}),(0,t.jsx)(L.AvatarFallback,{children:(null==(x=e.doctor)||null==(m=x.name)?void 0:m.split(" ").map(e=>e[0]).join(""))||"M"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Dr. ",(null==(h=e.doctor)?void 0:h.name)||"Nome n\xe3o informado"]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(null==(u=e.doctor)?void 0:u.specialty)||"Especialidade n\xe3o informada"})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.appointment_type||"N\xe3o especificado"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)(E.E,{className:{scheduled:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800",no_show:"bg-gray-100 text-gray-800",rescheduled:"bg-purple-100 text-purple-800"}[e.status]||"bg-gray-100 text-gray-800",children:{scheduled:"Agendado",confirmed:"Confirmado",in_progress:"Em Andamento",completed:"Conclu\xeddo",cancelled:"Cancelado",no_show:"Faltou",rescheduled:"Reagendado"}[p=e.status]||p})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(A.$,{variant:"ghost",size:"sm",onClick:()=>I("/appointments/".concat(e.id)),children:(0,t.jsx)(N.A,{className:"h-4 w-4"})}),(0,t.jsx)(A.$,{variant:"ghost",size:"sm",onClick:()=>I("/appointments/".concat(e.id,"/edit")),children:(0,t.jsx)(b.A,{className:"h-4 w-4"})}),(0,t.jsxs)(S.rI,{children:[(0,t.jsx)(S.ty,{asChild:!0,children:(0,t.jsx)(A.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(y.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(S.SQ,{align:"end",children:[v.map(s=>{let a=s.icon;return(0,t.jsxs)(S._2,{onClick:()=>eC(e.id,s.id),children:[(0,t.jsx)(a,{className:"h-4 w-4 mr-2"}),s.label]},s.id)}),v.length>0&&(0,t.jsx)(S.mB,{}),(0,t.jsxs)(S._2,{onClick:()=>{eu(e.id),ex(!0)},className:"text-red-600",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})})]},e.id)})})]})})})}),"cards"===J&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:eb.map(e=>(0,t.jsx)(O,{appointment:e,variant:"detailed",onEdit:()=>I("/appointments/".concat(e.id,"/edit")),onView:()=>I("/appointments/".concat(e.id)),onCancel:()=>eC(e.id,"cancel"),onConfirm:()=>eC(e.id,"confirm"),onStart:()=>eC(e.id,"start"),onComplete:()=>eC(e.id,"complete"),onDelete:()=>{eu(e.id),ex(!0)}},e.id))}),eN>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:["Mostrando ",(ep-1)*eg+1," a"," ",Math.min(ep*eg,ef.length)," de"," ",ef.length," resultados"]}),(0,t.jsxs)($.l6,{value:eg.toString(),onValueChange:e=>{ev(Number(e)),ej(1)},children:[(0,t.jsx)($.bq,{className:"w-20",children:(0,t.jsx)($.yv,{})}),(0,t.jsxs)($.gC,{children:[(0,t.jsx)($.eb,{value:"5",children:"5"}),(0,t.jsx)($.eb,{value:"10",children:"10"}),(0,t.jsx)($.eb,{value:"25",children:"25"}),(0,t.jsx)($.eb,{value:"50",children:"50"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(A.$,{variant:"outline",size:"sm",onClick:()=>ej(e=>Math.max(e-1,1)),disabled:1===ep,children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Anterior"]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,eN)},(e,s)=>{let a=s+1;return(0,t.jsx)(A.$,{variant:ep===a?"default":"outline",size:"sm",onClick:()=>ej(a),className:"w-8 h-8 p-0",children:a},a)})}),(0,t.jsxs)(A.$,{variant:"outline",size:"sm",onClick:()=>ej(e=>Math.min(e+1,eN)),disabled:ep===eN,children:["Pr\xf3ximo",(0,t.jsx)(C.A,{className:"h-4 w-4"})]})]})]})]})]}),(0,t.jsx)(z.lG,{open:em,onOpenChange:ex,children:(0,t.jsxs)(z.Cf,{children:[(0,t.jsx)(z.c7,{children:(0,t.jsx)(z.L3,{children:"Excluir Agendamento"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(D.Fc,{variant:"destructive",children:(0,t.jsxs)(D.TN,{children:[(0,t.jsx)("strong",{children:"Aten\xe7\xe3o!"})," Esta a\xe7\xe3o \xe9 irrevers\xedvel. O agendamento ser\xe1 permanentemente exclu\xeddo do sistema."]})}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,t.jsx)(A.$,{variant:"outline",onClick:()=>{ex(!1),eu(null)},children:"Cancelar"}),(0,t.jsxs)(A.$,{variant:"destructive",onClick:eA,children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Excluir Permanentemente"]})]})]})]})})]})};var Q=a(27737);function H(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(Q.E,{className:"h-8 w-48"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(Q.E,{className:"h-10 w-32"}),(0,t.jsx)(Q.E,{className:"h-10 w-32"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsx)(Q.E,{className:"h-10 w-64"}),(0,t.jsx)(Q.E,{className:"h-10 w-32"}),(0,t.jsx)(Q.E,{className:"h-10 w-32"})]}),(0,t.jsx)(k.Zp,{children:(0,t.jsx)(k.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"space-y-4 p-6",children:Array.from({length:5}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[(0,t.jsx)(Q.E,{className:"h-12 w-12 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)(Q.E,{className:"h-4 w-48"}),(0,t.jsx)(Q.E,{className:"h-3 w-32"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(Q.E,{className:"h-6 w-20"}),(0,t.jsx)(Q.E,{className:"h-4 w-16"})]})]},s))})})})]})}function K(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)(H,{}),children:(0,t.jsx)(G,{})})}},95139:(e,s,a)=>{"use strict";a.d(s,{S:()=>c});var t=a(95155),l=a(12115),n=a(76981),r=a(5196),i=a(53999);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.bL,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})})});c.displayName=n.bL.displayName}},e=>{e.O(0,[3355,3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,5452,1118,7127,3008,5749,7185,2203,281,2792,904,5893,8441,5964,7358],()=>e(e.s=5456)),_N_E=e.O()}]);