(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3502],{21330:(e,a,s)=>{Promise.resolve().then(s.bind(s,94415))},31886:(e,a,s)=>{"use strict";s.d(a,{A:()=>n,O:()=>i});var t=s(23464),r=s(56671);let l=t.A.create({baseURL:"http://localhost:8000",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{let{response:a}=e;if((null==a?void 0:a.status)===401)localStorage.removeItem("token"),localStorage.removeItem("user"),r.o.error("Sess\xe3o expirada. Fa\xe7a login novamente."),window.location.href="/auth/login";else if((null==a?void 0:a.status)===403)r.o.error("Acesso negado.");else if((null==a?void 0:a.status)===404)r.o.error("Recurso n\xe3o encontrado.");else if((null==a?void 0:a.status)>=500)r.o.error("Erro interno do servidor. Tente novamente mais tarde.");else if("ECONNABORTED"===e.code)r.o.error("Tempo limite da requisi\xe7\xe3o excedido.");else{var s;r.o.error((null==a||null==(s=a.data)?void 0:s.message)||"Erro inesperado.")}return Promise.reject(e)});let n=l,i={get:async(e,a)=>(await l.get(e,{params:a})).data,post:async(e,a)=>(await l.post(e,a)).data,put:async(e,a)=>(await l.put(e,a)).data,delete:async e=>(await l.delete(e)).data,patch:async(e,a)=>(await l.patch(e,a)).data}},53999:(e,a,s)=>{"use strict";s.d(a,{Yq:()=>n,cn:()=>l,r6:()=>i});var t=s(52596),r=s(39688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}function n(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e))}function i(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}},67133:(e,a,s)=>{"use strict";s.d(a,{SQ:()=>m,_2:()=>x,lp:()=>p,mB:()=>h,rI:()=>o,ty:()=>u});var t=s(95155),r=s(12115),l=s(48698),n=s(13052),i=s(5196),c=s(9428),d=s(53999);let o=l.bL,u=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,a)=>{let{className:s,inset:r,children:i,...c}=e;return(0,t.jsxs)(l.ZP,{ref:a,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...c,children:[i,(0,t.jsx)(n.A,{className:"ml-auto h-4 w-4"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.G5,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.G5.displayName;let m=r.forwardRef((e,a)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:a,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});m.displayName=l.UC.displayName;let x=r.forwardRef((e,a)=>{let{className:s,inset:r,...n}=e;return(0,t.jsx)(l.q7,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});x.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:s,children:r,checked:n,...c}=e;return(0,t.jsxs)(l.H_,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(l.hN,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(c.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let p=r.forwardRef((e,a)=>{let{className:s,inset:r,...n}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})});p.displayName=l.JU.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});h.displayName=l.wv.displayName},80722:(e,a,s)=>{"use strict";s.d(a,{F:()=>t.A});var t=s(31886)},88145:(e,a,s)=>{"use strict";s.d(a,{E:()=>i});var t=s(95155);s(12115);var r=s(74466),l=s(53999);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),a),...r})}},88482:(e,a,s)=>{"use strict";s.d(a,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i});var t=s(95155),r=s(12115),l=s(53999);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},89852:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(95155),r=s(12115),l=s(53999);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n})});n.displayName="Input"},94415:(e,a,s)=>{"use strict";s.d(a,{BedsDashboard:()=>ey});var t=s(95155),r=s(12115),l=s(88482),n=s(97168),i=s(95784),c=s(89852),d=s(53904),o=s(381),u=s(47924),m=s(36643),x=s(33109),p=s(40646),h=s(17580),f=s(79397),g=s(26715),j=s(32960),b=s(5041),v=s(56671);let y=s(23464).A.create({baseURL:"".concat("http://localhost:8000","/api"),headers:{"Content-Type":"application/json"}});y.interceptors.request.use(e=>{let a=localStorage.getItem("access_token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),y.interceptors.response.use(e=>e,e=>{var a;return(null==(a=e.response)?void 0:a.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});let N={getAll:async e=>(await y.get("/beds",{params:e})).data,getById:async e=>(await y.get("/beds/".concat(e))).data,create:async e=>(await y.post("/beds",e)).data,update:async(e,a)=>(await y.put("/beds/".concat(e),a)).data,async delete(e){await y.delete("/beds/".concat(e))},updateStatus:async(e,a)=>(await y.patch("/beds/".concat(e,"/status"),a)).data,async getAvailable(e,a){let s={status:"AVAILABLE",...e&&{department_id:e},...a&&{bed_type:a}};return(await y.get("/beds",{params:s})).data},getStatusHistory:async(e,a)=>(await y.get("/beds/".concat(e,"/status-history"),{params:a?{days:a}:{}})).data,getOccupancyStats:async e=>(await y.get("/beds/occupancy-stats",{params:e?{department_id:e}:{}})).data};function w(e){let a=(0,g.jE)(),{data:s=[],isLoading:t,error:r,refetch:l}=(0,j.I)({queryKey:["beds",e],queryFn:()=>N.getBeds(e),staleTime:3e5,refetchInterval:6e5}),n=(0,b.n)({mutationFn:e=>N.createBed(e),onSuccess:()=>{a.invalidateQueries({queryKey:["beds"]}),v.o.success("Leito criado com sucesso!")},onError:e=>{v.o.error(e.message||"Erro ao criar leito")}}),i=(0,b.n)({mutationFn:e=>{let{id:a,data:s}=e;return N.updateBed(a,s)},onSuccess:()=>{a.invalidateQueries({queryKey:["beds"]}),v.o.success("Leito atualizado com sucesso!")},onError:e=>{v.o.error(e.message||"Erro ao atualizar leito")}}),c=(0,b.n)({mutationFn:e=>{let{id:a,status:s,reason:t}=e;return N.updateBedStatus(a,s,t)},onSuccess:()=>{a.invalidateQueries({queryKey:["beds"]}),a.invalidateQueries({queryKey:["bed-occupancy"]}),v.o.success("Status do leito atualizado!")},onError:e=>{v.o.error(e.message||"Erro ao atualizar status do leito")}}),d=(0,b.n)({mutationFn:e=>N.deleteBed(e),onSuccess:()=>{a.invalidateQueries({queryKey:["beds"]}),v.o.success("Leito exclu\xeddo com sucesso!")},onError:e=>{v.o.error(e.message||"Erro ao excluir leito")}});return{beds:s,isLoading:t,error:(null==r?void 0:r.message)||null,refetch:l,createBed:n.mutateAsync,updateBed:i.mutateAsync,updateBedStatus:c.mutateAsync,deleteBed:d.mutateAsync,isCreating:n.isPending,isUpdating:i.isPending,isUpdatingStatus:c.isPending,isDeleting:d.isPending}}function A(e){return(0,j.I)({queryKey:["beds-by-status",e],queryFn:()=>N.getBedsByStatus(e),enabled:!!e,staleTime:12e4,refetchInterval:3e5})}var C=s(80722);class k{static async getCurrentOccupancy(e){return(await C.F.get("".concat(this.baseUrl,"/current"),{params:e})).data}static async getOccupancyByDepartment(e){return(await C.F.get("".concat(this.baseUrl,"/department/").concat(e))).data}static async getOccupancyByBedType(e){return(await C.F.get("".concat(this.baseUrl,"/bed-type/").concat(e))).data}static async getOccupancyByFloor(e){return(await C.F.get("".concat(this.baseUrl,"/floor/").concat(e))).data}static async getBedOccupancyDetails(e){return(await C.F.get("".concat(this.baseUrl,"/bed/").concat(e))).data}static async searchOccupancy(e){return(await C.F.post("".concat(this.baseUrl,"/search"),e)).data}static async getAvailableBeds(e){return(await C.F.get("".concat(this.baseUrl,"/available"),{params:e})).data}static async getOccupiedBeds(e){return(await C.F.get("".concat(this.baseUrl,"/occupied"),{params:e})).data}static async getBedsUnderMaintenance(){return(await C.F.get("".concat(this.baseUrl,"/maintenance"))).data}static async getBedsBeingCleaned(){return(await C.F.get("".concat(this.baseUrl,"/cleaning"))).data}static async getReservedBeds(){return(await C.F.get("".concat(this.baseUrl,"/reserved"))).data}static async getOccupancyStats(e){return(await C.F.get("".concat(this.baseUrl,"/stats"),{params:e})).data}static async getDepartmentOccupancyStats(e){return(await C.F.get("".concat(this.baseUrl,"/stats/departments"),{params:e?{department_id:e}:{}})).data}static async getBedTypeOccupancyStats(){return(await C.F.get("".concat(this.baseUrl,"/stats/bed-types"))).data}static async getHourlyOccupancyStats(e){return(await C.F.get("".concat(this.baseUrl,"/stats/hourly"),{params:e?{date:e}:{}})).data}static async getDailyOccupancyStats(e){return(await C.F.get("".concat(this.baseUrl,"/stats/daily"),{params:e})).data}static async getOccupancyForecast(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return(await C.F.get("".concat(this.baseUrl,"/forecast"),{params:{days:e}})).data}static async getDepartmentForecast(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return(await C.F.get("".concat(this.baseUrl,"/forecast/department/").concat(e),{params:{days:a}})).data}static async getTrendAnalysis(e){return(await C.F.get("".concat(this.baseUrl,"/trends"),{params:e})).data}static async getSeasonalPatterns(e){return(await C.F.get("".concat(this.baseUrl,"/seasonal-patterns"),{params:e?{year:e}:{}})).data}static async getCapacityAlerts(){return(await C.F.get("".concat(this.baseUrl,"/alerts"))).data}static async acknowledgeAlert(e){return(await C.F.patch("".concat(this.baseUrl,"/alerts/").concat(e,"/acknowledge"))).data}static async getOccupancyThresholds(){return(await C.F.get("".concat(this.baseUrl,"/thresholds"))).data}static async updateOccupancyThresholds(e,a){return(await C.F.put("".concat(this.baseUrl,"/thresholds/").concat(e),a)).data}static async getOccupancyHistory(e,a){return(await C.F.get("".concat(this.baseUrl,"/history/bed/").concat(e),{params:a})).data}static async getDepartmentOccupancyHistory(e,a){return(await C.F.get("".concat(this.baseUrl,"/history/department/").concat(e),{params:a})).data}static async getPerformanceMetrics(e){return(await C.F.get("".concat(this.baseUrl,"/performance"),{params:e})).data}static async getBedTurnoverMetrics(e){return(await C.F.get("".concat(this.baseUrl,"/turnover-metrics"),{params:e})).data}static async getRevenuePerBed(e){return(await C.F.get("".concat(this.baseUrl,"/revenue-per-bed"),{params:e})).data}static async generateOccupancyReport(e,a){return(await C.F.post("".concat(this.baseUrl,"/reports"),{report_type:e,filters:a})).data}static async exportOccupancyReport(e,a){return(await C.F.get("".concat(this.baseUrl,"/reports/").concat(e,"/export"),{params:{format:a},responseType:"blob"})).data}static async getScheduledReports(){return(await C.F.get("".concat(this.baseUrl,"/reports/scheduled"))).data}static async getOccupancySettings(){return(await C.F.get("".concat(this.baseUrl,"/settings"))).data}static async updateOccupancySettings(e){return(await C.F.put("".concat(this.baseUrl,"/settings"),e)).data}static async resetOccupancySettings(){return(await C.F.post("".concat(this.baseUrl,"/settings/reset"))).data}static async createBedReservation(e){return(await C.F.post("".concat(this.baseUrl,"/reservations"),e)).data}static async getBedReservations(e){return(await C.F.get("".concat(this.baseUrl,"/reservations"),{params:e?{bed_id:e}:{}})).data}static async cancelBedReservation(e){return(await C.F.delete("".concat(this.baseUrl,"/reservations/").concat(e))).data}static async extendBedReservation(e,a){return(await C.F.patch("".concat(this.baseUrl,"/reservations/").concat(e,"/extend"),{new_end_time:a})).data}static async getOccupancySummary(){return(await C.F.get("".concat(this.baseUrl,"/summary"))).data}static async refreshOccupancyData(){return(await C.F.post("".concat(this.baseUrl,"/refresh"))).data}static async validateOccupancyData(){return(await C.F.post("".concat(this.baseUrl,"/validate"))).data}}function F(e){(0,g.jE)();let{data:a,isLoading:s,error:t,refetch:r}=(0,j.I)({queryKey:["bed-occupancy",e],queryFn:()=>k.getCurrentOccupancy(e),staleTime:12e4,refetchInterval:3e5}),{data:l,isLoading:n}=(0,j.I)({queryKey:["occupancy-stats",e],queryFn:()=>k.getOccupancyStats(e),staleTime:3e5}),{data:i=[],isLoading:c}=(0,j.I)({queryKey:["occupancy-trends",e],queryFn:()=>k.getOccupancyTrends(e),staleTime:6e5});return{occupancyData:a||null,stats:l||null,trends:i,isLoading:s||n||c,error:(null==t?void 0:t.message)||null,refetch:r}}k.baseUrl="/bed-occupancy";var B=s(88145),S=s(67133),R=s(78749),U=s(92657),O=s(15968),L=s(54653),z=s(84616),T=s(85213),D=s(95488),q=s(91788),Z=s(71007),E=s(48313),I=s(53311),P=s(69074),W=s(54861),_=s(44020),K=s(57434),M=s(4516),$=s(14186),V=s(53999);let H={available:{label:"Dispon\xedvel",color:"bg-green-100 text-green-800 border-green-200",icon:p.A,iconColor:"text-green-600"},occupied:{label:"Ocupado",color:"bg-blue-100 text-blue-800 border-blue-200",icon:Z.A,iconColor:"text-blue-600"},maintenance:{label:"Manuten\xe7\xe3o",color:"bg-orange-100 text-orange-800 border-orange-200",icon:E.A,iconColor:"text-orange-600"},cleaning:{label:"Limpeza",color:"bg-purple-100 text-purple-800 border-purple-200",icon:I.A,iconColor:"text-purple-600"},reserved:{label:"Reservado",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:P.A,iconColor:"text-yellow-600"},blocked:{label:"Bloqueado",color:"bg-red-100 text-red-800 border-red-200",icon:W.A,iconColor:"text-red-600"}};function Q(e){var a;let{bed:s,onSelect:r,onEdit:i,className:c}=e,{updateBedStatus:d}=w(),u=H[s.status]||H.available,x=u.icon,h=async e=>{try{var a;await d({id:s.id,status:e,reason:"Status alterado para ".concat(null==(a=H[e])?void 0:a.label)})}catch(e){}},f=e=>new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=()=>{var e;if("occupied"!==s.status||!(null==(e=s.currentPatient)?void 0:e.admissionDate))return null;let a=new Date(s.currentPatient.admissionDate),t=Math.floor((new Date().getTime()-a.getTime())/36e5);if(t<24)return"".concat(t,"h");{let e=Math.floor(t/24);return"".concat(e,"d ").concat(t%24,"h")}};return(0,t.jsxs)(l.Zp,{className:(0,V.cn)("cursor-pointer transition-all duration-200 hover:shadow-md","border-l-4",u.color.includes("green")&&"border-l-green-500",u.color.includes("blue")&&"border-l-blue-500",u.color.includes("orange")&&"border-l-orange-500",u.color.includes("purple")&&"border-l-purple-500",u.color.includes("yellow")&&"border-l-yellow-500",u.color.includes("red")&&"border-l-red-500",c),onClick:()=>{r&&r(s)},children:[(0,t.jsx)(l.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)(l.ZB,{className:"text-lg font-semibold",children:s.number})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(B.E,{className:u.color,children:[(0,t.jsx)(x,{className:"h-3 w-3 mr-1 ".concat(u.iconColor)}),u.label]}),(0,t.jsxs)(S.rI,{children:[(0,t.jsx)(S.ty,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,t.jsx)(_.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(S.SQ,{align:"end",children:[(0,t.jsx)(S.lp,{children:"A\xe7\xf5es"}),(0,t.jsx)(S.mB,{}),"available"!==s.status&&(0,t.jsxs)(S._2,{onClick:()=>h("available"),children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Marcar como Dispon\xedvel"]}),"maintenance"!==s.status&&(0,t.jsxs)(S._2,{onClick:()=>h("maintenance"),children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Enviar para Manuten\xe7\xe3o"]}),"cleaning"!==s.status&&(0,t.jsxs)(S._2,{onClick:()=>h("cleaning"),children:[(0,t.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"Enviar para Limpeza"]}),(0,t.jsx)(S.mB,{}),(0,t.jsxs)(S._2,{onClick:()=>null==i?void 0:i(s),children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Editar Leito"]}),(0,t.jsxs)(S._2,{children:[(0,t.jsx)(K.A,{className:"h-4 w-4 mr-2"}),"Ver Hist\xf3rico"]})]})]})]})]})}),(0,t.jsxs)(l.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Quarto:"}),(0,t.jsx)("span",{className:"font-medium",children:(null==(a=s.room)?void 0:a.number)||"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Tipo:"}),(0,t.jsx)("span",{className:"font-medium",children:s.type})]})]}),"occupied"===s.status&&s.currentPatient&&(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-blue-900",children:s.currentPatient.name})]}),g()&&(0,t.jsxs)(B.E,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)($.A,{className:"h-3 w-3 mr-1"}),g()]})]}),(0,t.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsxs)("div",{children:["Prontu\xe1rio: ",s.currentPatient.medicalRecord]}),s.currentPatient.admissionDate&&(0,t.jsxs)("div",{children:["Interna\xe7\xe3o: ",f(s.currentPatient.admissionDate)]}),s.currentPatient.diagnosis&&(0,t.jsxs)("div",{children:["Diagn\xf3stico: ",s.currentPatient.diagnosis]})]})]}),("maintenance"===s.status||"cleaning"===s.status)&&s.statusReason&&(0,t.jsxs)("div",{className:(0,V.cn)("p-3 rounded-lg border","maintenance"===s.status?"bg-orange-50 border-orange-200":"bg-purple-50 border-purple-200"),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)(x,{className:(0,V.cn)("h-4 w-4","maintenance"===s.status?"text-orange-600":"text-purple-600")}),(0,t.jsxs)("span",{className:(0,V.cn)("font-medium text-sm","maintenance"===s.status?"text-orange-900":"text-purple-900"),children:[u.label," em Andamento"]})]}),(0,t.jsx)("div",{className:(0,V.cn)("text-xs","maintenance"===s.status?"text-orange-700":"text-purple-700"),children:s.statusReason}),s.statusUpdatedAt&&(0,t.jsxs)("div",{className:(0,V.cn)("text-xs mt-1","maintenance"===s.status?"text-orange-600":"text-purple-600"),children:["Iniciado: ",f(s.statusUpdatedAt)]})]}),s.equipment&&s.equipment.length>0&&(0,t.jsxs)("div",{className:"border-t pt-2",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Equipamentos:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.equipment.slice(0,3).map((e,a)=>(0,t.jsx)(B.E,{variant:"outline",className:"text-xs",children:e.name},a)),s.equipment.length>3&&(0,t.jsxs)(B.E,{variant:"outline",className:"text-xs",children:["+",s.equipment.length-3," mais"]})]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground border-t pt-2",children:["Atualizado: ",f(s.updatedAt)]})]})]})}let J=[{value:"all",label:"Todos os Status"},{value:"available",label:"Dispon\xedvel"},{value:"occupied",label:"Ocupado"},{value:"maintenance",label:"Manuten\xe7\xe3o"},{value:"cleaning",label:"Limpeza"},{value:"reserved",label:"Reservado"},{value:"blocked",label:"Bloqueado"}],G=[{value:"all",label:"Todos os Tipos"},{value:"standard",label:"Padr\xe3o"},{value:"icu",label:"UTI"},{value:"semi_icu",label:"Semi-UTI"},{value:"isolation",label:"Isolamento"},{value:"pediatric",label:"Pedi\xe1trico"},{value:"maternity",label:"Maternidade"}];function Y(e){let{beds:a,loading:s=!1,onBedSelect:o,onBedEdit:m,onCreateBed:x,onRefresh:p,className:h}=e,[f,g]=(0,r.useState)(""),[j,b]=(0,r.useState)("all"),[v,y]=(0,r.useState)("all"),[N,w]=(0,r.useState)("all"),[A,C]=(0,r.useState)("grid"),[k,F]=(0,r.useState)("number"),[Z,E]=(0,r.useState)("asc"),[I,P]=(0,r.useState)(!1),W=[{value:"all",label:"Todos os Departamentos"},...Array.from(new Set(a.map(e=>{var a;return null==(a=e.department)?void 0:a.name}).filter(Boolean))).map(e=>({value:e,label:e}))],_=r.useMemo(()=>{let e=a.filter(e=>{var a,s,t,r;let l=e.number.toLowerCase().includes(f.toLowerCase())||(null==(a=e.room)?void 0:a.number.toLowerCase().includes(f.toLowerCase()))||(null==(s=e.currentPatient)?void 0:s.name.toLowerCase().includes(f.toLowerCase()))||(null==(t=e.currentPatient)?void 0:t.medicalRecord.toLowerCase().includes(f.toLowerCase())),n="all"===j||e.status===j,i="all"===v||e.type===v,c="all"===N||(null==(r=e.department)?void 0:r.name)===N;return l&&n&&i&&c});return e.sort((e,a)=>{let s,t;switch(k){case"number":s=e.number,t=a.number;break;case"status":s=e.status,t=a.status;break;case"type":s=e.type,t=a.type;break;case"department":var r,l;s=(null==(r=e.department)?void 0:r.name)||"",t=(null==(l=a.department)?void 0:l.name)||"";break;case"updatedAt":s=new Date(e.updatedAt),t=new Date(a.updatedAt);break;default:return 0}return s<t?"asc"===Z?-1:1:s>t?"asc"===Z?1:-1:0}),e},[a,f,j,v,N,k,Z]),K=e=>{k===e?E("asc"===Z?"desc":"asc"):(F(e),E("asc"))},M=()=>{g(""),b("all"),y("all"),w("all")};return(0,t.jsxs)("div",{className:(0,V.cn)("space-y-4",h),children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{className:"text-xl font-semibold",children:"Leitos"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[_.length," de ",a.length," leitos"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>P(!I),children:[I?(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}):(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Filtros"]}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>C("grid"===A?"list":"grid"),children:"grid"===A?(0,t.jsx)(O.A,{className:"h-4 w-4"}):(0,t.jsx)(L.A,{className:"h-4 w-4"})}),p&&(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:p,disabled:s,children:(0,t.jsx)(d.A,{className:(0,V.cn)("h-4 w-4",s&&"animate-spin")})}),x&&(0,t.jsxs)(n.$,{size:"sm",onClick:x,children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Novo Leito"]})]})]})}),I&&(0,t.jsxs)(l.Wu,{className:"border-t pt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(c.p,{placeholder:"Buscar leitos...",value:f,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(i.l6,{value:j,onValueChange:b,children:[(0,t.jsx)(i.bq,{children:(0,t.jsx)(i.yv,{placeholder:"Status"})}),(0,t.jsx)(i.gC,{children:J.map(e=>{var s;return(0,t.jsx)(i.eb,{value:e.value,children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsx)("span",{children:e.label}),(0,t.jsx)(B.E,{variant:"secondary",className:"ml-2",children:"all"===(s=e.value)?a.length:a.filter(e=>e.status===s).length})]})},e.value)})})]}),(0,t.jsxs)(i.l6,{value:v,onValueChange:y,children:[(0,t.jsx)(i.bq,{children:(0,t.jsx)(i.yv,{placeholder:"Tipo"})}),(0,t.jsx)(i.gC,{children:G.map(e=>(0,t.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(i.l6,{value:N,onValueChange:w,children:[(0,t.jsx)(i.bq,{children:(0,t.jsx)(i.yv,{placeholder:"Departamento"})}),(0,t.jsx)(i.gC,{children:W.map(e=>(0,t.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ordenar por:"}),(0,t.jsxs)(S.rI,{children:[(0,t.jsx)(S.ty,{asChild:!0,children:(0,t.jsxs)(n.$,{variant:"outline",size:"sm",children:["number"===k&&"N\xfamero","status"===k&&"Status","type"===k&&"Tipo","department"===k&&"Departamento","updatedAt"===k&&"Atualiza\xe7\xe3o","asc"===Z?(0,t.jsx)(T.A,{className:"h-4 w-4 ml-2"}):(0,t.jsx)(D.A,{className:"h-4 w-4 ml-2"})]})}),(0,t.jsxs)(S.SQ,{children:[(0,t.jsx)(S.lp,{children:"Ordenar por"}),(0,t.jsx)(S.mB,{}),(0,t.jsx)(S._2,{onClick:()=>K("number"),children:"N\xfamero do Leito"}),(0,t.jsx)(S._2,{onClick:()=>K("status"),children:"Status"}),(0,t.jsx)(S._2,{onClick:()=>K("type"),children:"Tipo"}),(0,t.jsx)(S._2,{onClick:()=>K("department"),children:"Departamento"}),(0,t.jsx)(S._2,{onClick:()=>K("updatedAt"),children:"\xdaltima Atualiza\xe7\xe3o"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:M,children:"Limpar Filtros"}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})]})]}),s?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,a)=>(0,t.jsxs)(l.Zp,{className:"animate-pulse",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-full"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})})]},a))}):0===_.length?(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"flex flex-col items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum leito encontrado"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:0===a.length?"N\xe3o h\xe1 leitos cadastrados no sistema.":"Nenhum leito corresponde aos filtros aplicados."}),0===a.length&&x&&(0,t.jsxs)(n.$,{onClick:x,children:[(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Leito"]}),a.length>0&&(0,t.jsx)(n.$,{variant:"outline",onClick:M,children:"Limpar Filtros"})]})})}):(0,t.jsx)("div",{className:(0,V.cn)("grid"===A?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-4"),children:_.map(e=>(0,t.jsx)(Q,{bed:e,onSelect:o,onEdit:m,className:"list"===A?"w-full":""},e.id))})]})}var X=s(93504),ee=s(94754),ea=s(96025),es=s(16238),et=s(94517),er=s(24026),el=s(21374),en=s(99445),ei=s(62341),ec=s(3401),ed=s(83394),eo=s(84336),eu=s(34e3),em=s(54811),ex=s(83540),ep=s(68500),eh=s(1243);let ef={occupied:"#3b82f6",available:"#10b981",maintenance:"#f59e0b",cleaning:"#8b5cf6"},eg=[{value:"24h",label:"\xdaltimas 24h"},{value:"7d",label:"\xdaltimos 7 dias"},{value:"30d",label:"\xdaltimos 30 dias"},{value:"90d",label:"\xdaltimos 90 dias"}],ej=[{value:"line",label:"Linha"},{value:"area",label:"\xc1rea"},{value:"bar",label:"Barras"},{value:"pie",label:"Pizza"}],eb=[{value:"occupancy",label:"Taxa de Ocupa\xe7\xe3o"},{value:"admissions",label:"Interna\xe7\xf5es"},{value:"discharges",label:"Altas"},{value:"transfers",label:"Transfer\xeancias"}];function ev(e){let{departmentId:a,period:s="7d",className:c}=e,[o,u]=(0,r.useState)(s),[g,j]=(0,r.useState)("line"),[b,v]=(0,r.useState)("occupancy"),{data:y,isLoading:N,refetch:w}=F({departmentId:a,period:o}),A=[{time:"00:00",occupied:85,available:15,admissions:2,discharges:1,transfers:0},{time:"04:00",occupied:82,available:18,admissions:1,discharges:2,transfers:1},{time:"08:00",occupied:88,available:12,admissions:5,discharges:1,transfers:2},{time:"12:00",occupied:92,available:8,admissions:3,discharges:0,transfers:1},{time:"16:00",occupied:89,available:11,admissions:2,discharges:3,transfers:0},{time:"20:00",occupied:87,available:13,admissions:1,discharges:2,transfers:1}],C=[{name:"Ocupados",value:87,color:ef.occupied},{name:"Dispon\xedveis",value:13,color:ef.available},{name:"Manuten\xe7\xe3o",value:3,color:ef.maintenance},{name:"Limpeza",value:2,color:ef.cleaning}],k=(null==y?void 0:y.currentOccupancy)||87,S=(null==y?void 0:y.previousOccupancy)||82,R=k>S?"up":"down",U=Math.abs((k-S)/S*100),O=(e,a)=>"occupancy"===b?["".concat(e,"%"),a]:[e,a];return(0,t.jsxs)("div",{className:(0,V.cn)("space-y-4",c),children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Ocupa\xe7\xe3o"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[k,"%"]}),(0,t.jsxs)(B.E,{variant:"up"===R?"destructive":"default",className:"text-xs",children:["up"===R?(0,t.jsx)(x.A,{className:"h-3 w-3 mr-1"}):(0,t.jsx)(ep.A,{className:"h-3 w-3 mr-1"}),U.toFixed(1),"%"]})]})]}),(0,t.jsx)(f.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Leitos Ocupados"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"87"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"de 100 leitos"})]}),(0,t.jsx)(m.A,{className:"h-8 w-8 text-blue-600"})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Interna\xe7\xf5es Hoje"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"12"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"+3 vs ontem"})]}),(0,t.jsx)(h.A,{className:"h-8 w-8 text-green-600"})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Altas Hoje"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"8"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"-1 vs ontem"})]}),(0,t.jsx)(p.A,{className:"h-8 w-8 text-green-600"})]})})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{className:"text-lg font-semibold",children:"An\xe1lise de Ocupa\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualiza\xe7\xe3o detalhada da ocupa\xe7\xe3o de leitos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(i.l6,{value:b,onValueChange:e=>v(e),children:[(0,t.jsx)(i.bq,{className:"w-40",children:(0,t.jsx)(i.yv,{})}),(0,t.jsx)(i.gC,{children:eb.map(e=>(0,t.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(i.l6,{value:g,onValueChange:e=>j(e),children:[(0,t.jsx)(i.bq,{className:"w-32",children:(0,t.jsx)(i.yv,{})}),(0,t.jsx)(i.gC,{children:ej.map(e=>(0,t.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(i.l6,{value:o,onValueChange:u,children:[(0,t.jsx)(i.bq,{className:"w-36",children:(0,t.jsx)(i.yv,{})}),(0,t.jsx)(i.gC,{children:eg.map(e=>(0,t.jsx)(i.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>w(),disabled:N,children:(0,t.jsx)(d.A,{className:(0,V.cn)("h-4 w-4",N&&"animate-spin")})}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",children:(0,t.jsx)(q.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)(l.Wu,{children:N?(0,t.jsx)("div",{className:"flex items-center justify-center h-80",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(ex.u,{width:"100%",height:"100%",children:(()=>{switch(g){case"line":return(0,t.jsxs)(X.b,{data:A,children:[(0,t.jsx)(ee.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,t.jsx)(ea.W,{dataKey:"time",tick:{fontSize:12},tickLine:{stroke:"#e5e7eb"}}),(0,t.jsx)(es.h,{tick:{fontSize:12},tickLine:{stroke:"#e5e7eb"},domain:"occupancy"===b?[0,100]:[0,"dataMax"]}),(0,t.jsx)(et.m,{formatter:O,labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,t.jsx)(er.s,{}),"occupancy"===b&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(el.N,{type:"monotone",dataKey:"occupied",stroke:ef.occupied,strokeWidth:2,name:"Taxa de Ocupa\xe7\xe3o",dot:{fill:ef.occupied,strokeWidth:2,r:4}})}),"admissions"===b&&(0,t.jsx)(el.N,{type:"monotone",dataKey:"admissions",stroke:ef.occupied,strokeWidth:2,name:"Interna\xe7\xf5es",dot:{fill:ef.occupied,strokeWidth:2,r:4}}),"discharges"===b&&(0,t.jsx)(el.N,{type:"monotone",dataKey:"discharges",stroke:ef.available,strokeWidth:2,name:"Altas",dot:{fill:ef.available,strokeWidth:2,r:4}}),"transfers"===b&&(0,t.jsx)(el.N,{type:"monotone",dataKey:"transfers",stroke:ef.maintenance,strokeWidth:2,name:"Transfer\xeancias",dot:{fill:ef.maintenance,strokeWidth:2,r:4}})]});case"area":return(0,t.jsxs)(en.Q,{data:A,children:[(0,t.jsx)(ee.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,t.jsx)(ea.W,{dataKey:"time",tick:{fontSize:12}}),(0,t.jsx)(es.h,{tick:{fontSize:12},domain:"occupancy"===b?[0,100]:[0,"dataMax"]}),(0,t.jsx)(et.m,{formatter:O}),(0,t.jsx)(er.s,{}),"occupancy"===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ei.G,{type:"monotone",dataKey:"occupied",stackId:"1",stroke:ef.occupied,fill:ef.occupied,fillOpacity:.6,name:"Ocupados"}),(0,t.jsx)(ei.G,{type:"monotone",dataKey:"available",stackId:"1",stroke:ef.available,fill:ef.available,fillOpacity:.6,name:"Dispon\xedveis"})]})]});case"bar":return(0,t.jsxs)(ec.E,{data:A,children:[(0,t.jsx)(ee.d,{strokeDasharray:"3 3",className:"opacity-30"}),(0,t.jsx)(ea.W,{dataKey:"time",tick:{fontSize:12}}),(0,t.jsx)(es.h,{tick:{fontSize:12},domain:"occupancy"===b?[0,100]:[0,"dataMax"]}),(0,t.jsx)(et.m,{formatter:O}),(0,t.jsx)(er.s,{}),(0,t.jsx)(ed.y,{dataKey:b,fill:ef.occupied,radius:[4,4,0,0]})]});case"pie":return(0,t.jsxs)(eo.r,{children:[(0,t.jsx)(eu.F,{data:C,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,percent:s}=e;return"".concat(a," ").concat((100*s).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:C.map((e,a)=>(0,t.jsx)(em.f,{fill:e.color},"cell-".concat(a)))}),(0,t.jsx)(et.m,{})]});default:return null}})()})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"text-base font-semibold flex items-center",children:[(0,t.jsx)(eh.A,{className:"h-5 w-5 text-orange-500 mr-2"}),"Alertas de Capacidade"]})}),(0,t.jsxs)(l.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-orange-900",children:"Alta Ocupa\xe7\xe3o - UTI"}),(0,t.jsx)("p",{className:"text-sm text-orange-700",children:"95% de ocupa\xe7\xe3o (19/20 leitos)"})]}),(0,t.jsx)(B.E,{variant:"destructive",children:"Cr\xedtico"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-yellow-900",children:"Capacidade Reduzida - Enfermaria"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700",children:"3 leitos em manuten\xe7\xe3o"})]}),(0,t.jsx)(B.E,{variant:"secondary",children:"Aten\xe7\xe3o"})]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"text-base font-semibold flex items-center",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-blue-500 mr-2"}),"Insights e Tend\xeancias"]})}),(0,t.jsxs)(l.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"Pico de Ocupa\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Maior ocupa\xe7\xe3o entre 12h-16h (92%)"})]}),(0,t.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,t.jsx)("p",{className:"font-medium text-green-900",children:"Rotatividade Eficiente"}),(0,t.jsx)("p",{className:"text-sm text-green-700",children:"Tempo m\xe9dio de interna\xe7\xe3o: 3.2 dias"})]})]})]})]})]})}function ey(e){var a;let{departmentId:s,className:g}=e,[b,v]=(0,r.useState)(s||"all"),[y,C]=(0,r.useState)(""),[k,B]=(0,r.useState)("all"),[S,R]=(0,r.useState)("grid"),{data:U,isLoading:O}=(a={departmentId:"all"!==b?b:void 0},(0,j.I)({queryKey:["beds-stats",a],queryFn:()=>N.getBedsStats(a),staleTime:6e5,refetchInterval:9e5})),{data:L,isLoading:z}=F({departmentId:"all"!==b?b:void 0}),{data:T}=A("available"),{data:D}=A("occupied"),{data:q}=A("maintenance"),{data:Z}=A("cleaning"),{beds:E,isLoading:I,refetch:P}=w({departmentId:"all"!==b?b:void 0,status:"all"!==k?k:void 0,search:y||void 0}),W=(null==U?void 0:U.totalBeds)||0,_=(null==U?void 0:U.occupancyRate)||0,K=(null==T?void 0:T.length)||0,M=(null==D?void 0:D.length)||0,$=(null==q?void 0:q.length)||0,V=(null==Z?void 0:Z.length)||0;return O||z||I?(0,t.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Carregando dashboard..."})]}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(g),children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard de Leitos"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Vis\xe3o geral da ocupa\xe7\xe3o e status dos leitos hospitalares"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{P()},children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Configura\xe7\xf5es"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-lg",children:"Filtros"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(c.p,{placeholder:"Buscar leitos...",value:y,onChange:e=>C(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(i.l6,{value:b,onValueChange:v,children:[(0,t.jsx)(i.bq,{className:"w-[200px]",children:(0,t.jsx)(i.yv,{placeholder:"Departamento"})}),(0,t.jsxs)(i.gC,{children:[(0,t.jsx)(i.eb,{value:"all",children:"Todos os Departamentos"}),(0,t.jsx)(i.eb,{value:"uti",children:"UTI"}),(0,t.jsx)(i.eb,{value:"enfermaria",children:"Enfermaria"}),(0,t.jsx)(i.eb,{value:"emergencia",children:"Emerg\xeancia"}),(0,t.jsx)(i.eb,{value:"cirurgia",children:"Cirurgia"})]})]}),(0,t.jsxs)(i.l6,{value:k,onValueChange:e=>B(e),children:[(0,t.jsx)(i.bq,{className:"w-[150px]",children:(0,t.jsx)(i.yv,{placeholder:"Status"})}),(0,t.jsxs)(i.gC,{children:[(0,t.jsx)(i.eb,{value:"all",children:"Todos os Status"}),(0,t.jsx)(i.eb,{value:"available",children:"Dispon\xedvel"}),(0,t.jsx)(i.eb,{value:"occupied",children:"Ocupado"}),(0,t.jsx)(i.eb,{value:"maintenance",children:"Manuten\xe7\xe3o"}),(0,t.jsx)(i.eb,{value:"cleaning",children:"Limpeza"}),(0,t.jsx)(i.eb,{value:"reserved",children:"Reservado"})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total de Leitos"}),(0,t.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:W}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Capacidade total do hospital"})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Taxa de Ocupa\xe7\xe3o"}),(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[_.toFixed(1),"%"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:_>85?(0,t.jsx)("span",{className:"text-red-600",children:"Ocupa\xe7\xe3o alta"}):_>70?(0,t.jsx)("span",{className:"text-yellow-600",children:"Ocupa\xe7\xe3o moderada"}):(0,t.jsx)("span",{className:"text-green-600",children:"Ocupa\xe7\xe3o baixa"})})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Leitos Dispon\xedveis"}),(0,t.jsx)(p.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:K}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Prontos para ocupa\xe7\xe3o"})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Leitos Ocupados"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:M}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Com pacientes internados"})]})]})]}),($>0||V>0)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$>0&&(0,t.jsxs)(l.Zp,{className:"border-orange-200",children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Em Manuten\xe7\xe3o"}),(0,t.jsx)(o.A,{className:"h-4 w-4 text-orange-600"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:$}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leitos temporariamente indispon\xedveis"})]})]}),V>0&&(0,t.jsxs)(l.Zp,{className:"border-purple-200",children:[(0,t.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ZB,{className:"text-sm font-medium",children:"Em Limpeza"}),(0,t.jsx)(f.A,{className:"h-4 w-4 text-purple-600"})]}),(0,t.jsxs)(l.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:V}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Processo de higieniza\xe7\xe3o"})]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Ocupa\xe7\xe3o ao Longo do Tempo"}),(0,t.jsx)(l.BT,{children:"Hist\xf3rico de ocupa\xe7\xe3o dos leitos nas \xfaltimas 24 horas"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(ev,{data:L})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.ZB,{children:"Leitos"}),(0,t.jsxs)(l.BT,{children:[E.length," leitos encontrados"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.$,{variant:"grid"===S?"default":"outline",size:"sm",onClick:()=>R("grid"),children:"Grid"}),(0,t.jsx)(n.$,{variant:"list"===S?"default":"outline",size:"sm",onClick:()=>R("list"),children:"Lista"})]})]})}),(0,t.jsx)(l.Wu,{children:"list"===S?(0,t.jsx)(Y,{beds:E}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:E.map(e=>(0,t.jsx)(Q,{bed:e},e.id))})})]})]})}},95784:(e,a,s)=>{"use strict";s.d(a,{bq:()=>m,eb:()=>f,gC:()=>h,l6:()=>o,yv:()=>u});var t=s(95155),r=s(12115),l=s(31992),n=s(66474),i=s(47863),c=s(5196),d=s(53999);let o=l.bL;l.YJ;let u=l.WT,m=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(l.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,a)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,t.jsx)(x,{}),(0,t.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=l.JU.displayName;let f=r.forwardRef((e,a)=>{let{className:s,children:r,...n}=e;return(0,t.jsxs)(l.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:r})]})});f.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=l.wv.displayName},97168:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>c});var t=s(95155),r=s(12115),l=s(99708),n=s(74466),i=s(53999);let c=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:d=!1,...o}=e,u=d?l.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(c({variant:r,size:n,className:s})),ref:a,...o})});d.displayName="Button"}},e=>{e.O(0,[3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,1118,5297,3203,8441,5964,7358],()=>e(e.s=21330)),_N_E=e.O()}]);