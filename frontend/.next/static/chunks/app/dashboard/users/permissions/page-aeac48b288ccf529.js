(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9205],{7110:(e,s,a)=>{Promise.resolve().then(a.bind(a,38056))},16559:(e,s,a)=>{"use strict";a.d(s,{$v:()=>h,EO:()=>x,Lt:()=>d,Rx:()=>j,Zr:()=>g,ck:()=>f,r7:()=>p,tv:()=>c,wd:()=>u});var t=a(95155),r=a(12115),l=a(17649),i=a(53999),n=a(97168);let d=l.bL,c=l.l9,o=l.ZL,m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:s})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsx)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};u.displayName="AlertDialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="AlertDialogFooter";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold",a),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=l.VY.displayName;let j=r.forwardRef((e,s)=>{let{className:a,variant:r,size:d,...c}=e;return(0,t.jsx)(l.rc,{ref:s,className:(0,i.cn)((0,n.r)({variant:r,size:d}),a),...c})});j.displayName=l.rc.displayName;let g=r.forwardRef((e,s)=>{let{className:a,variant:r="outline",size:d,...c}=e;return(0,t.jsx)(l.ZD,{ref:s,className:(0,i.cn)((0,n.r)({variant:r,size:d}),"mt-2 sm:mt-0",a),...c})});g.displayName=l.ZD.displayName},30070:(e,s,a)=>{"use strict";a.d(s,{C5:()=>g,MJ:()=>h,Rr:()=>j,eI:()=>f,lR:()=>p,lV:()=>c,zB:()=>m});var t=a(95155),r=a(12115),l=a(99708),i=a(62177),n=a(53999),d=a(82714);let c=i.Op,o=r.createContext({}),m=e=>{let{...s}=e;return(0,t.jsx)(o.Provider,{value:{name:s.name},children:(0,t.jsx)(i.xI,{...s})})},x=()=>{let e=r.useContext(o),s=r.useContext(u),{getFieldState:a,formState:t}=(0,i.xW)(),l=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},u=r.createContext({}),f=r.forwardRef((e,s)=>{let{className:a,...l}=e,i=r.useId();return(0,t.jsx)(u.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:s,className:(0,n.cn)("space-y-2",a),...l})})});f.displayName="FormItem";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e,{error:l,formItemId:i}=x();return(0,t.jsx)(d.Label,{ref:s,className:(0,n.cn)(l&&"text-destructive",a),htmlFor:i,...r})});p.displayName="FormLabel";let h=r.forwardRef((e,s)=>{let{...a}=e,{error:r,formItemId:i,formDescriptionId:n,formMessageId:d}=x();return(0,t.jsx)(l.DX,{ref:s,id:i,"aria-describedby":r?"".concat(n," ").concat(d):"".concat(n),"aria-invalid":!!r,...a})});h.displayName="FormControl";let j=r.forwardRef((e,s)=>{let{className:a,...r}=e,{formDescriptionId:l}=x();return(0,t.jsx)("p",{ref:s,id:l,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});j.displayName="FormDescription";let g=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e,{error:i,formMessageId:d}=x(),c=i?String(null==i?void 0:i.message):r;return c?(0,t.jsx)("p",{ref:s,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",a),...l,children:c}):null});g.displayName="FormMessage"},38056:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var t=a(95155),r=a(12115),l=a(84616),i=a(32919),n=a(75525),d=a(381),c=a(17580),o=a(47924),m=a(66932),x=a(44020),u=a(92657),f=a(13717),p=a(62525),h=a(55502),j=a(88255),g=a(62177),N=a(90221),v=a(68309),b=a(97168),y=a(88482),w=a(30070),C=a(89852),R=a(99474),k=a(90088),A=a(76037),E=a(63872),P=a(54416),S=a(4229);let z=v.Ik({name:v.Yj().min(1,"Nome \xe9 obrigat\xf3rio"),description:v.Yj().optional(),resource_type:v.Yj().min(1,"Tipo de recurso \xe9 obrigat\xf3rio"),actions:v.YO(v.Yj()).min(1,"Pelo menos uma a\xe7\xe3o deve ser selecionada"),is_active:v.zM().default(!0)}),I=[{value:"create",label:"Criar"},{value:"read",label:"Visualizar"},{value:"update",label:"Editar"},{value:"delete",label:"Excluir"},{value:"manage",label:"Gerenciar"}],L=[{value:"patients",label:"Pacientes"},{value:"appointments",label:"Consultas"},{value:"medical_records",label:"Prontu\xe1rios"},{value:"prescriptions",label:"Prescri\xe7\xf5es"},{value:"users",label:"Usu\xe1rios"},{value:"reports",label:"Relat\xf3rios"},{value:"settings",label:"Configura\xe7\xf5es"}];function T(e){var s;let{permission:a,onSubmit:l,onCancel:i,isLoading:d=!1,mode:c}=e,[o,m]=(0,r.useState)((null==a?void 0:a.actions)||[]),x=(0,g.mN)({resolver:(0,N.u)(z),defaultValues:{name:(null==a?void 0:a.name)||"",description:(null==a?void 0:a.description)||"",resource_type:(null==a?void 0:a.resource_type)||"",actions:(null==a?void 0:a.actions)||[],is_active:null==(s=null==a?void 0:a.is_active)||s}}),u=async e=>{try{await l({...e,actions:o})}catch(e){}},f=e=>{let s=o.includes(e)?o.filter(s=>s!==e):[...o,e];m(s),x.setValue("actions",s)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"create"===c?"Criar Nova Permiss\xe3o":"Editar Permiss\xe3o"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"create"===c?"Configure uma nova permiss\xe3o para o sistema":"Modifique as configura\xe7\xf5es da permiss\xe3o"})]}),(0,t.jsx)(n.A,{className:"h-8 w-8 text-muted-foreground"})]}),(0,t.jsx)(w.lV,{...x,children:(0,t.jsxs)("form",{onSubmit:x.handleSubmit(u),className:"space-y-6",children:[(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Informa\xe7\xf5es B\xe1sicas"}),(0,t.jsx)(y.BT,{children:"Defina o nome e descri\xe7\xe3o da permiss\xe3o"})]}),(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsx)(w.zB,{control:x.control,name:"name",render:e=>{let{field:s}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Nome da Permiss\xe3o *"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(C.p,{placeholder:"Ex: Visualizar Pacientes",...s})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsx)(w.zB,{control:x.control,name:"description",render:e=>{let{field:s}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(R.T,{placeholder:"Descreva o que esta permiss\xe3o permite fazer...",className:"resize-none",...s})}),(0,t.jsx)(w.C5,{})]})}})]})]}),(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Configura\xe7\xf5es"}),(0,t.jsx)(y.BT,{children:"Configure o tipo de recurso e a\xe7\xf5es permitidas"})]}),(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsx)(w.zB,{control:x.control,name:"resource_type",render:e=>{let{field:s}=e;return(0,t.jsxs)(w.eI,{children:[(0,t.jsx)(w.lR,{children:"Tipo de Recurso *"}),(0,t.jsx)(w.MJ,{children:(0,t.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...s,children:[(0,t.jsx)("option",{value:"",children:"Selecione um tipo de recurso"}),L.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})}),(0,t.jsx)(w.C5,{})]})}}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(w.lR,{children:"A\xe7\xf5es Permitidas *"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:I.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border cursor-pointer transition-colors ".concat(o.includes(e.value)?"bg-primary/10 border-primary":"hover:bg-muted"),onClick:()=>f(e.value),children:[(0,t.jsx)("input",{type:"checkbox",checked:o.includes(e.value),onChange:()=>f(e.value),className:"rounded"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.value))}),x.formState.errors.actions&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:x.formState.errors.actions.message})]}),(0,t.jsx)(A.Separator,{}),(0,t.jsx)(w.zB,{control:x.control,name:"is_active",render:e=>{let{field:s}=e;return(0,t.jsxs)(w.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(w.lR,{className:"text-base",children:"Permiss\xe3o Ativa"}),(0,t.jsx)(w.Rr,{children:"Permiss\xf5es inativas n\xe3o s\xe3o aplicadas aos usu\xe1rios"})]}),(0,t.jsx)(w.MJ,{children:(0,t.jsx)(k.Switch,{checked:s.value,onCheckedChange:s.onChange})})]})}})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,t.jsxs)(b.$,{type:"button",variant:"outline",onClick:i,disabled:d,children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,t.jsxs)(b.$,{type:"submit",disabled:d,children:[d?(0,t.jsx)(E.LoadingSpinner,{size:"sm",className:"mr-2"}):(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"create"===c?"Criar Permiss\xe3o":"Salvar Altera\xe7\xf5es"]})]})]})})]})}var Z=a(93150),_=a(88145),D=a(99840),V=a(67133),M=a(95784),O=a(34964),F=a(56671);function B(){let{permissions:e,isLoading:s,deletePermission:a,updatePermission:g}=(0,h.Sk)(),{roles:N}=(0,j.zn)(),[v,w]=(0,r.useState)(""),[R,k]=(0,r.useState)("all"),[A,E]=(0,r.useState)(null),[P,S]=(0,r.useState)(!1),[z,I]=(0,r.useState)(!1),[L,B]=(0,r.useState)(!1),[J,U]=(0,r.useState)("list"),G=Array.from(new Set(null==e?void 0:e.map(e=>e.category).filter(Boolean)))||[],W=(null==e?void 0:e.filter(e=>{var s;let a=e.name.toLowerCase().includes(v.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(v.toLowerCase())),t="all"===R||e.category===R;return a&&t}))||[],Y=e=>(null==N?void 0:N.filter(s=>{var a;return null==(a=s.permissions)?void 0:a.includes(e)}))||[],$=async e=>{let s=Y(e.name);if(s.length>0)return void F.o.error('N\xe3o \xe9 poss\xedvel excluir a permiss\xe3o "'.concat(e.name,'" pois est\xe1 sendo usada por ').concat(s.length," perfil(s)."));if(window.confirm('Tem certeza que deseja excluir a permiss\xe3o "'.concat(e.name,'"?\n\nEsta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await a.mutateAsync(e.id),F.o.success("Permiss\xe3o exclu\xedda com sucesso!")}catch(e){F.o.error(e.message||"Erro ao excluir permiss\xe3o")}},q=async e=>{let s="active"===e.status?"inactive":"active";try{await g.mutateAsync({id:e.id,data:{...e,status:s}}),F.o.success("Permiss\xe3o ".concat("active"===s?"ativada":"desativada"," com sucesso!"))}catch(e){F.o.error(e.message||"Erro ao alterar status da permiss\xe3o")}},H=(()=>{let s=(null==e?void 0:e.length)||0,a=(null==e?void 0:e.filter(e=>"active"===e.status).length)||0;return{total:s,active:a,inactive:s-a,categoriesCount:G.length}})();return s?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,s)=>(0,t.jsx)("div",{className:"h-24 bg-gray-200 rounded animate-pulse"},s))})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Permiss\xf5es"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gerencie permiss\xf5es do sistema e controle de acesso"})]}),(0,t.jsxs)(D.lG,{open:P,onOpenChange:S,children:[(0,t.jsx)(D.zM,{asChild:!0,children:(0,t.jsxs)(b.$,{className:"gap-2",children:[(0,t.jsx)(l.A,{className:"h-4 w-4"}),"Nova Permiss\xe3o"]})}),(0,t.jsxs)(D.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"Criar Nova Permiss\xe3o"})}),(0,t.jsx)(T,{onSuccess:()=>S(!1),onCancel:()=>S(!1)})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Permiss\xf5es"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:H.total})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Permiss\xf5es Ativas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:H.active})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Permiss\xf5es Inativas"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:H.inactive})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"h-6 w-6 text-red-600"})})]})})}),(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Categorias"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:H.categoriesCount})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(c.A,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,t.jsxs)(O.Tabs,{value:J,onValueChange:U,children:[(0,t.jsxs)(O.TabsList,{children:[(0,t.jsx)(O.TabsTrigger,{value:"list",children:"Lista de Permiss\xf5es"}),(0,t.jsx)(O.TabsTrigger,{value:"matrix",children:"Matriz de Permiss\xf5es"})]}),(0,t.jsxs)(O.TabsContent,{value:"list",className:"space-y-6",children:[(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(C.p,{placeholder:"Buscar permiss\xf5es...",value:v,onChange:e=>w(e.target.value),className:"pl-10"})]})}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(M.l6,{value:R,onValueChange:k,children:[(0,t.jsxs)(M.bq,{className:"w-48",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)(M.yv,{})]}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"all",children:"Todas as Categorias"}),G.map(e=>(0,t.jsx)(M.eb,{value:e,children:e},e))]})]})})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(e=>{let s=Y(e.name);return(0,t.jsxs)(y.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(y.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(y.ZB,{className:"text-lg",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.category&&(0,t.jsx)(_.E,{variant:"outline",className:"mt-2",children:e.category})]}),(0,t.jsxs)(V.rI,{children:[(0,t.jsx)(V.ty,{asChild:!0,children:(0,t.jsx)(b.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(V.SQ,{align:"end",children:[(0,t.jsxs)(V._2,{onClick:()=>{E(e),B(!0)},children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),(0,t.jsxs)(V._2,{onClick:()=>{E(e),I(!0)},children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(V._2,{onClick:()=>q(e),className:"active"===e.status?"text-red-600":"text-green-600",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"active"===e.status?"Desativar":"Ativar"]}),(0,t.jsxs)(V._2,{onClick:()=>$(e),className:"text-red-600",disabled:s.length>0,children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})}),(0,t.jsx)(y.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,t.jsx)(_.E,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Ativa":"Inativa"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Perfis com acesso:"}),(0,t.jsx)(_.E,{variant:"outline",children:s.length})]}),e.resource&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Recurso:"}),(0,t.jsx)(_.E,{variant:"outline",children:e.resource})]})]})})]},e.id)})}),0===W.length&&(0,t.jsx)(y.Zp,{children:(0,t.jsxs)(y.Wu,{className:"p-12 text-center",children:[(0,t.jsx)(i.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma permiss\xe3o encontrada"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:v||"all"!==R?"Tente ajustar os filtros de busca":"Comece criando sua primeira permiss\xe3o"}),!v&&"all"===R&&(0,t.jsxs)(b.$,{onClick:()=>S(!0),className:"gap-2",children:[(0,t.jsx)(l.A,{className:"h-4 w-4"}),"Criar Primeira Permiss\xe3o"]})]})})]}),(0,t.jsx)(O.TabsContent,{value:"matrix",children:(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Matriz de Permiss\xf5es por Perfil"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Visualize e gerencie as permiss\xf5es de cada perfil de forma matricial"})]}),(0,t.jsx)(y.Wu,{children:(0,t.jsx)(Z.N,{roles:N||[],permissions:e||[]})})]})})]}),(0,t.jsx)(D.lG,{open:z,onOpenChange:I,children:(0,t.jsxs)(D.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"Editar Permiss\xe3o"})}),A&&(0,t.jsx)(T,{initialData:A,onSuccess:()=>{I(!1),E(null)},onCancel:()=>{I(!1),E(null)}})]})}),(0,t.jsx)(D.lG,{open:L,onOpenChange:B,children:(0,t.jsxs)(D.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"Detalhes da Permiss\xe3o"})}),A&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Nome"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(_.E,{variant:"active"===A.status?"default":"secondary",children:"active"===A.status?"Ativa":"Inativa"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Categoria"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.category||"Sem categoria"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Recurso"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.resource||"N\xe3o especificado"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.description||"Sem descri\xe7\xe3o"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Perfis com esta permiss\xe3o (",Y(A.name).length,")"]}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Y(A.name).map(e=>(0,t.jsx)(_.E,{variant:"outline",children:e.name},e.id))||(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Nenhum perfil possui esta permiss\xe3o"})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(b.$,{variant:"outline",onClick:()=>B(!1),children:"Fechar"}),(0,t.jsx)(b.$,{onClick:()=>{B(!1),I(!0)},children:"Editar Permiss\xe3o"})]})]})]})})]})}},67133:(e,s,a)=>{"use strict";a.d(s,{SQ:()=>x,_2:()=>u,lp:()=>f,mB:()=>p,rI:()=>o,ty:()=>m});var t=a(95155),r=a(12115),l=a(48698),i=a(13052),n=a(5196),d=a(9428),c=a(53999);let o=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:n,...d}=e;return(0,t.jsxs)(l.ZP,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...d,children:[n,(0,t.jsx)(i.A,{className:"ml-auto h-4 w-4"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.G5,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=l.G5.displayName;let x=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:s,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});x.displayName=l.UC.displayName;let u=r.forwardRef((e,s)=>{let{className:a,inset:r,...i}=e;return(0,t.jsx)(l.q7,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...i})});u.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:i,...d}=e;return(0,t.jsxs)(l.H_,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsxs)(l.hN,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let f=r.forwardRef((e,s)=>{let{className:a,inset:r,...i}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...i})});f.displayName=l.JU.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});p.displayName=l.wv.displayName},76037:(e,s,a)=>{"use strict";a.d(s,{Separator:()=>n});var t=a(95155),r=a(12115),l=a(87489),i=a(53999);let n=r.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...d}=e;return(0,t.jsx)(l.b,{ref:s,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...d})});n.displayName=l.b.displayName},82714:(e,s,a)=>{"use strict";a.d(s,{Label:()=>c});var t=a(95155),r=a(12115),l=a(40968),i=a(74466),n=a(53999);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),a),...r})});c.displayName=l.b.displayName},90088:(e,s,a)=>{"use strict";a.d(s,{Switch:()=>n});var t=a(95155),r=a(12115),l=a(4884),i=a(53999);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=l.bL.displayName},92188:(e,s,a)=>{"use strict";a.d(s,{HJ:()=>r,QY:()=>t,Rx:()=>l});let t={ADMIN:"admin",DOCTOR:"doctor",NURSE:"nurse",RECEPTIONIST:"receptionist",MANAGER:"manager"},r={ACTIVE:"active",INACTIVE:"inactive",LOCKED:"locked",PENDING:"pending"},l={USER:"user",ROLE:"role",PERMISSION:"permission",MODULE:"module",SESSION:"session"}},95139:(e,s,a)=>{"use strict";a.d(s,{S:()=>d});var t=a(95155),r=a(12115),l=a(76981),i=a(5196),n=a(53999);let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},99474:(e,s,a)=>{"use strict";a.d(s,{T:()=>i});var t=a(95155),r=a(12115),l=a(53999);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});i.displayName="Textarea"},99840:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>x,Es:()=>f,L3:()=>p,c7:()=>u,lG:()=>d,rr:()=>h,zM:()=>c});var t=a(95155),r=a(12115),l=a(15452),i=a(54416),n=a(53999);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,s)=>{let{className:a,children:r,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=l.VY.displayName}},e=>{e.O(0,[3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,5452,1118,2804,2208,5865,186,6393,3150,8441,5964,7358],()=>e(e.s=7110)),_N_E=e.O()}]);