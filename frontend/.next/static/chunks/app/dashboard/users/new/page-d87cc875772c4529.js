(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1003],{31356:(e,s,a)=>{Promise.resolve().then(a.bind(a,57124))},57124:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var r=a(95155),i=a(12115),l=a(35695),c=a(35169),n=a(54416),t=a(12318),d=a(3070),o=a(88255),m=a(3803),u=a(97168),x=a(88482),h=a(56671);function p(){let e=(0,l.useRouter)(),{createUser:s}=(0,d.kp)(),{roles:a,isLoading:p}=(0,o.zn)(),[j,g]=(0,i.useState)(!1),[b,N]=(0,i.useState)(!1),v=async a=>{g(!0);try{let r=await s.mutateAsync(a);h.o.success("Usu\xe1rio criado com sucesso!"),N(!1),e.push("/dashboard/users/".concat(r.id))}catch(e){h.o.error(e.message||"Erro ao criar usu\xe1rio")}finally{g(!1)}},f=()=>{(!b||window.confirm("Voc\xea tem altera\xe7\xf5es n\xe3o salvas. Tem certeza que deseja sair?"))&&e.push("/dashboard/users")};return(0,i.useEffect)(()=>{let e=e=>{b&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[b]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(u.$,{variant:"ghost",size:"icon",onClick:f,children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Novo Usu\xe1rio"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Crie uma nova conta de usu\xe1rio no sistema"})]})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)(u.$,{variant:"outline",onClick:f,disabled:j,className:"gap-2",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),"Cancelar"]})})]}),(0,r.jsx)(x.Zp,{className:"border-blue-200 bg-blue-50",children:(0,r.jsx)(x.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-blue-500 rounded-full mt-2"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Instru\xe7\xf5es para cria\xe7\xe3o de usu\xe1rio"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Todos os campos marcados com * s\xe3o obrigat\xf3rios"}),(0,r.jsx)("li",{children:"• O email ser\xe1 usado como nome de usu\xe1rio para login"}),(0,r.jsx)("li",{children:"• Uma senha tempor\xe1ria ser\xe1 gerada e enviada por email"}),(0,r.jsx)("li",{children:"• O usu\xe1rio dever\xe1 alterar a senha no primeiro acesso"}),(0,r.jsx)("li",{children:"• Permiss\xf5es podem ser ajustadas ap\xf3s a cria\xe7\xe3o"})]})]})]})})}),(0,r.jsxs)(x.Zp,{children:[(0,r.jsxs)(x.aR,{children:[(0,r.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(t.A,{className:"h-5 w-5"}),"Informa\xe7\xf5es do Usu\xe1rio"]}),b&&(0,r.jsx)("div",{className:"text-sm text-amber-600 bg-amber-50 p-2 rounded border border-amber-200",children:"Voc\xea tem altera\xe7\xf5es n\xe3o salvas"})]}),(0,r.jsx)(x.Wu,{children:p?(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:8}).map((e,s)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-10 w-full bg-gray-200 rounded animate-pulse"})]},s))})}):(0,r.jsx)(m.q,{initialData:{name:"",email:"",phone:"",cpf:"",crm:"",specialty:"",role:"receptionist",status:"active",department:"",permissions:[],password:"",confirmPassword:""},roles:a||[],onSubmit:v,onChange:()=>{N(!0)},isSubmitting:j,submitButtonText:"Criar Usu\xe1rio",submitButtonIcon:(0,r.jsx)(t.A,{className:"h-4 w-4"}),mode:"create"})})]}),(0,r.jsx)(x.Zp,{className:"border-green-200 bg-green-50",children:(0,r.jsx)(x.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-green-500 rounded-full mt-2"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Pol\xedtica de Seguran\xe7a"}),(0,r.jsxs)("ul",{className:"text-sm text-green-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Senhas devem ter no m\xednimo 8 caracteres"}),(0,r.jsx)("li",{children:"• Deve conter pelo menos uma letra mai\xfascula e min\xfascula"}),(0,r.jsx)("li",{children:"• Deve conter pelo menos um n\xfamero e um caractere especial"}),(0,r.jsx)("li",{children:"• Senhas s\xe3o criptografadas e n\xe3o podem ser recuperadas"}),(0,r.jsx)("li",{children:"• Recomenda-se ativar autentica\xe7\xe3o 2FA ap\xf3s o primeiro login"})]})]})]})})}),b&&(0,r.jsx)(x.Zp,{className:"border-amber-200 bg-amber-50",children:(0,r.jsx)(x.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-amber-800",children:[(0,r.jsx)("div",{className:"h-2 w-2 bg-amber-500 rounded-full"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:"Voc\xea tem altera\xe7\xf5es n\xe3o salvas. Certifique-se de criar o usu\xe1rio antes de sair da p\xe1gina."})]})})})]})}}},e=>{e.O(0,[3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,2804,8587,5865,186,9208,8441,5964,7358],()=>e(e.s=31356)),_N_E=e.O()}]);