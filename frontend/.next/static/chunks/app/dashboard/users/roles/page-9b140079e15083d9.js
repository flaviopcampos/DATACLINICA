(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2224],{3070:(e,s,a)=>{"use strict";a.d(s,{Jd:()=>c,Nu:()=>f,Qc:()=>m,Tk:()=>u,iY:()=>x,kp:()=>d,xJ:()=>p});var t=a(32960),r=a(26715),i=a(5041),l=a(56671),n=a(25667);let o={all:["users"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),{filters:e}],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e],current:()=>[...o.all,"current"],sessions:e=>[...o.all,"sessions",e],audit:e=>[...o.all,"audit",e]};function d(e){return(0,t.I)({queryKey:o.list(null==e?void 0:e.filters),queryFn:()=>n.Dv.getUsers(e),staleTime:3e5,gcTime:6e5})}function c(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,t.I)({queryKey:o.detail(e),queryFn:()=>n.Dv.getUserById(e),enabled:s&&!!e,staleTime:3e5,gcTime:6e5})}function u(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>n.Dv.createUser(e),onSuccess:s=>{e.invalidateQueries({queryKey:o.lists()}),e.setQueryData(o.detail(s.id),s),l.o.success("Usu\xe1rio criado com sucesso!")},onError:e=>{var s,a;let t=(null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Erro ao criar usu\xe1rio";l.o.error(t)}})}function m(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>{let{id:s,userData:a}=e;return n.Dv.updateUser(s,a)},onSuccess:s=>{e.setQueryData(o.detail(s.id),s),e.invalidateQueries({queryKey:o.lists()});let a=e.getQueryData(o.current());a&&a.id===s.id&&e.setQueryData(o.current(),s),l.o.success("Usu\xe1rio atualizado com sucesso!")},onError:e=>{var s,a;let t=(null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Erro ao atualizar usu\xe1rio";l.o.error(t)}})}function x(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>n.Dv.deleteUser(e),onSuccess:(s,a)=>{e.removeQueries({queryKey:o.detail(a)}),e.invalidateQueries({queryKey:o.lists()}),l.o.success("Usu\xe1rio removido com sucesso!")},onError:e=>{var s,a;let t=(null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Erro ao remover usu\xe1rio";l.o.error(t)}})}function f(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>{let{id:s,isActive:a}=e;return n.Dv.toggleUserStatus(s,a)},onSuccess:s=>{e.setQueryData(o.detail(s.id),s),e.invalidateQueries({queryKey:o.lists()});let a=s.is_active?"ativado":"desativado";l.o.success("Usu\xe1rio ".concat(a," com sucesso!"))},onError:e=>{var s,a;let t=(null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Erro ao alterar status do usu\xe1rio";l.o.error(t)}})}function p(){let e=(0,r.jE)();return(0,i.n)({mutationFn:e=>n.Dv.unlockUser(e),onSuccess:s=>{e.setQueryData(o.detail(s.id),s),e.invalidateQueries({queryKey:o.lists()}),l.o.success("Conta desbloqueada com sucesso!")},onError:e=>{var s,a;let t=(null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.detail)||"Erro ao desbloquear conta";l.o.error(t)}})}},15887:(e,s,a)=>{Promise.resolve().then(a.bind(a,42024))},30070:(e,s,a)=>{"use strict";a.d(s,{C5:()=>v,MJ:()=>h,Rr:()=>j,eI:()=>f,lR:()=>p,lV:()=>d,zB:()=>u});var t=a(95155),r=a(12115),i=a(99708),l=a(62177),n=a(53999),o=a(82714);let d=l.Op,c=r.createContext({}),u=e=>{let{...s}=e;return(0,t.jsx)(c.Provider,{value:{name:s.name},children:(0,t.jsx)(l.xI,{...s})})},m=()=>{let e=r.useContext(c),s=r.useContext(x),{getFieldState:a,formState:t}=(0,l.xW)(),i=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...i}},x=r.createContext({}),f=r.forwardRef((e,s)=>{let{className:a,...i}=e,l=r.useId();return(0,t.jsx)(x.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:s,className:(0,n.cn)("space-y-2",a),...i})})});f.displayName="FormItem";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e,{error:i,formItemId:l}=m();return(0,t.jsx)(o.Label,{ref:s,className:(0,n.cn)(i&&"text-destructive",a),htmlFor:l,...r})});p.displayName="FormLabel";let h=r.forwardRef((e,s)=>{let{...a}=e,{error:r,formItemId:l,formDescriptionId:n,formMessageId:o}=m();return(0,t.jsx)(i.DX,{ref:s,id:l,"aria-describedby":r?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!r,...a})});h.displayName="FormControl";let j=r.forwardRef((e,s)=>{let{className:a,...r}=e,{formDescriptionId:i}=m();return(0,t.jsx)("p",{ref:s,id:i,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});j.displayName="FormDescription";let v=r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e,{error:l,formMessageId:o}=m(),d=l?String(null==l?void 0:l.message):r;return d?(0,t.jsx)("p",{ref:s,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",a),...i,children:d}):null});v.displayName="FormMessage"},42024:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var t=a(95155),r=a(12115),i=a(84616),l=a(75525),n=a(17580),o=a(381),d=a(47924),c=a(66932),u=a(44020),m=a(92657),x=a(13717),f=a(62525),p=a(88255),h=a(3070),j=a(62177),v=a(90221),g=a(68309),y=a(97168),N=a(88482),b=a(30070),w=a(89852),C=a(99474),_=a(90088),E=a(88145),R=a(63872),k=a(92749),A=a(54416),z=a(4229);let P=g.Ik({name:g.Yj().min(1,"Nome \xe9 obrigat\xf3rio"),description:g.Yj().optional(),level:g.ai().min(1).max(10),permissions:g.YO(g.Yj()).optional(),is_active:g.zM().default(!0),is_system_role:g.zM().default(!1)}),S=[{value:1,label:"N\xedvel 1 - B\xe1sico",description:"Acesso limitado apenas \xe0s funcionalidades essenciais"},{value:2,label:"N\xedvel 2 - Operacional",description:"Acesso \xe0s opera\xe7\xf5es do dia a dia"},{value:3,label:"N\xedvel 3 - Supervisor",description:"Supervis\xe3o de equipes e processos"},{value:4,label:"N\xedvel 4 - Gerencial",description:"Gest\xe3o de departamentos e relat\xf3rios"},{value:5,label:"N\xedvel 5 - Administrativo",description:"Administra\xe7\xe3o completa do sistema"}],D=[{id:"patients_read",name:"Visualizar Pacientes",category:"Pacientes"},{id:"patients_create",name:"Criar Pacientes",category:"Pacientes"},{id:"patients_update",name:"Editar Pacientes",category:"Pacientes"},{id:"patients_delete",name:"Excluir Pacientes",category:"Pacientes"},{id:"appointments_read",name:"Visualizar Consultas",category:"Consultas"},{id:"appointments_create",name:"Criar Consultas",category:"Consultas"},{id:"appointments_update",name:"Editar Consultas",category:"Consultas"},{id:"appointments_delete",name:"Excluir Consultas",category:"Consultas"},{id:"medical_records_read",name:"Visualizar Prontu\xe1rios",category:"Prontu\xe1rios"},{id:"medical_records_create",name:"Criar Prontu\xe1rios",category:"Prontu\xe1rios"},{id:"medical_records_update",name:"Editar Prontu\xe1rios",category:"Prontu\xe1rios"},{id:"users_read",name:"Visualizar Usu\xe1rios",category:"Usu\xe1rios"},{id:"users_create",name:"Criar Usu\xe1rios",category:"Usu\xe1rios"},{id:"users_update",name:"Editar Usu\xe1rios",category:"Usu\xe1rios"},{id:"users_delete",name:"Excluir Usu\xe1rios",category:"Usu\xe1rios"},{id:"reports_read",name:"Visualizar Relat\xf3rios",category:"Relat\xf3rios"},{id:"reports_create",name:"Gerar Relat\xf3rios",category:"Relat\xf3rios"},{id:"settings_read",name:"Visualizar Configura\xe7\xf5es",category:"Configura\xe7\xf5es"},{id:"settings_update",name:"Editar Configura\xe7\xf5es",category:"Configura\xe7\xf5es"}];function U(e){var s,a;let{role:i,onSubmit:n,onCancel:o,isLoading:d=!1,mode:c}=e,[u,m]=(0,r.useState)((null==i?void 0:i.permissions)||[]),x=(0,j.mN)({resolver:(0,v.u)(P),defaultValues:{name:(null==i?void 0:i.name)||"",description:(null==i?void 0:i.description)||"",level:(null==i?void 0:i.level)||1,permissions:(null==i?void 0:i.permissions)||[],is_active:null==(s=null==i?void 0:i.is_active)||s,is_system_role:null!=(a=null==i?void 0:i.is_system_role)&&a}}),f=async e=>{try{await n({...e,permissions:u})}catch(e){}},p=e=>{let s=u.includes(e)?u.filter(s=>s!==e):[...u,e];m(s),x.setValue("permissions",s)},h=D.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"create"===c?"Criar Novo Role":"Editar Role"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"create"===c?"Configure um novo role com permiss\xf5es espec\xedficas":"Modifique as configura\xe7\xf5es do role"})]}),(0,t.jsx)(k.A,{className:"h-8 w-8 text-muted-foreground"})]}),(0,t.jsx)(b.lV,{...x,children:(0,t.jsxs)("form",{onSubmit:x.handleSubmit(f),className:"space-y-6",children:[(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Informa\xe7\xf5es B\xe1sicas"}),(0,t.jsx)(N.BT,{children:"Defina o nome, descri\xe7\xe3o e n\xedvel do role"})]}),(0,t.jsxs)(N.Wu,{className:"space-y-4",children:[(0,t.jsx)(b.zB,{control:x.control,name:"name",render:e=>{let{field:s}=e;return(0,t.jsxs)(b.eI,{children:[(0,t.jsx)(b.lR,{children:"Nome do Role *"}),(0,t.jsx)(b.MJ,{children:(0,t.jsx)(w.p,{placeholder:"Ex: M\xe9dico, Enfermeiro, Administrador",...s})}),(0,t.jsx)(b.C5,{})]})}}),(0,t.jsx)(b.zB,{control:x.control,name:"description",render:e=>{let{field:s}=e;return(0,t.jsxs)(b.eI,{children:[(0,t.jsx)(b.lR,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(b.MJ,{children:(0,t.jsx)(C.T,{placeholder:"Descreva as responsabilidades e escopo deste role...",className:"resize-none",...s})}),(0,t.jsx)(b.C5,{})]})}}),(0,t.jsx)(b.zB,{control:x.control,name:"level",render:e=>{var s;let{field:a}=e;return(0,t.jsxs)(b.eI,{children:[(0,t.jsx)(b.lR,{children:"N\xedvel de Acesso *"}),(0,t.jsx)(b.MJ,{children:(0,t.jsx)("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.value,onChange:e=>a.onChange(parseInt(e.target.value)),children:S.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,t.jsx)(b.Rr,{children:null==(s=S.find(e=>e.value===x.watch("level")))?void 0:s.description}),(0,t.jsx)(b.C5,{})]})}})]})]}),(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Permiss\xf5es"}),(0,t.jsx)(N.BT,{children:"Selecione as permiss\xf5es que este role deve ter"})]}),(0,t.jsx)(N.Wu,{className:"space-y-6",children:Object.entries(h).map(e=>{let[s,a]=e,r=a.map(e=>e.id),i=r.every(e=>u.includes(e)),n=r.some(e=>u.includes(e));return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("h4",{className:"font-medium",children:s}),(0,t.jsxs)(E.E,{variant:i?"default":n?"secondary":"outline",children:[u.filter(e=>r.includes(e)).length,"/",r.length]})]}),(0,t.jsx)(y.$,{type:"button",variant:"outline",size:"sm",onClick:()=>(e=>{let s,a=D.filter(s=>s.category===e).map(e=>e.id);m(s=a.every(e=>u.includes(e))?u.filter(e=>!a.includes(e)):[...new Set([...u,...a])]),x.setValue("permissions",s)})(s),children:i?"Desmarcar Todos":"Marcar Todos"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border cursor-pointer transition-colors ".concat(u.includes(e.id)?"bg-primary/10 border-primary":"hover:bg-muted"),onClick:()=>p(e.id),children:[(0,t.jsx)("input",{type:"checkbox",checked:u.includes(e.id),onChange:()=>p(e.id),className:"rounded"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})]},s)})})]}),(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Configura\xe7\xf5es Avan\xe7adas"}),(0,t.jsx)(N.BT,{children:"Configura\xe7\xf5es adicionais do role"})]}),(0,t.jsxs)(N.Wu,{className:"space-y-4",children:[(0,t.jsx)(b.zB,{control:x.control,name:"is_active",render:e=>{let{field:s}=e;return(0,t.jsxs)(b.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(b.lR,{className:"text-base",children:"Role Ativo"}),(0,t.jsx)(b.Rr,{children:"Roles inativos n\xe3o podem ser atribu\xeddos a usu\xe1rios"})]}),(0,t.jsx)(b.MJ,{children:(0,t.jsx)(_.Switch,{checked:s.value,onCheckedChange:s.onChange})})]})}}),(0,t.jsx)(b.zB,{control:x.control,name:"is_system_role",render:e=>{let{field:s}=e;return(0,t.jsxs)(b.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(b.lR,{className:"text-base",children:"Role do Sistema"}),(0,t.jsx)(b.Rr,{children:"Roles do sistema n\xe3o podem ser editados ou exclu\xeddos"})]}),(0,t.jsx)(b.MJ,{children:(0,t.jsx)(_.Switch,{checked:s.value,onCheckedChange:s.onChange,disabled:null==i?void 0:i.is_system_role})})]})}})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,t.jsxs)(y.$,{type:"button",variant:"outline",onClick:o,disabled:d,children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,t.jsxs)(y.$,{type:"submit",disabled:d,children:[d?(0,t.jsx)(R.LoadingSpinner,{size:"sm",className:"mr-2"}):(0,t.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"create"===c?"Criar Role":"Salvar Altera\xe7\xf5es"]})]})]})})]})}var I=a(99840),F=a(67133),q=a(95784),L=a(56671);function B(){var e,s;let{roles:a,isLoading:j,deleteRole:v,updateRole:g}=(0,p.zn)(),{users:b}=(0,h.kp)(),[C,_]=(0,r.useState)(""),[R,k]=(0,r.useState)("all"),[A,z]=(0,r.useState)(null),[P,S]=(0,r.useState)(!1),[D,B]=(0,r.useState)(!1),[V,Z]=(0,r.useState)(!1),T=(null==a?void 0:a.filter(e=>{var s;let a=e.name.toLowerCase().includes(C.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(C.toLowerCase())),t="all"===R||e.status===R;return a&&t}))||[],M=e=>(null==b?void 0:b.filter(s=>s.role===e).length)||0,Q=async e=>{let s=M(e.id);if(s>0)return void L.o.error('N\xe3o \xe9 poss\xedvel excluir o perfil "'.concat(e.name,'" pois existem ').concat(s," usu\xe1rio(s) associado(s)."));if(window.confirm('Tem certeza que deseja excluir o perfil "'.concat(e.name,'"?\n\nEsta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await v.mutateAsync(e.id),L.o.success("Perfil exclu\xeddo com sucesso!")}catch(e){L.o.error(e.message||"Erro ao excluir perfil")}},J=async e=>{let s="active"===e.status?"inactive":"active";try{await g.mutateAsync({id:e.id,data:{...e,status:s}}),L.o.success("Perfil ".concat("active"===s?"ativado":"desativado"," com sucesso!"))}catch(e){L.o.error(e.message||"Erro ao alterar status do perfil")}},G=(()=>{let e=(null==a?void 0:a.length)||0,s=(null==a?void 0:a.filter(e=>"active"===e.status).length)||0;return{total:e,active:s,inactive:e-s}})();return j?(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)("div",{className:"h-24 bg-gray-200 rounded animate-pulse"},s))})]}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Perfis"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gerencie perfis de acesso e suas permiss\xf5es"})]}),(0,t.jsxs)(I.lG,{open:P,onOpenChange:S,children:[(0,t.jsx)(I.zM,{asChild:!0,children:(0,t.jsxs)(y.$,{className:"gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Novo Perfil"]})}),(0,t.jsxs)(I.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(I.c7,{children:(0,t.jsx)(I.L3,{children:"Criar Novo Perfil"})}),(0,t.jsx)(U,{onSuccess:()=>S(!1),onCancel:()=>S(!1)})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(N.Zp,{children:(0,t.jsx)(N.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total de Perfis"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:G.total})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l.A,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(N.Zp,{children:(0,t.jsx)(N.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Perfis Ativos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:G.active})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(n.A,{className:"h-6 w-6 text-green-600"})})]})})}),(0,t.jsx)(N.Zp,{children:(0,t.jsx)(N.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Perfis Inativos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:G.inactive})]}),(0,t.jsx)("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.A,{className:"h-6 w-6 text-red-600"})})]})})})]}),(0,t.jsx)(N.Zp,{children:(0,t.jsx)(N.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(w.p,{placeholder:"Buscar perfis...",value:C,onChange:e=>_(e.target.value),className:"pl-10"})]})}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(q.l6,{value:R,onValueChange:k,children:[(0,t.jsxs)(q.bq,{className:"w-40",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)(q.yv,{})]}),(0,t.jsxs)(q.gC,{children:[(0,t.jsx)(q.eb,{value:"all",children:"Todos os Status"}),(0,t.jsx)(q.eb,{value:"active",children:"Ativos"}),(0,t.jsx)(q.eb,{value:"inactive",children:"Inativos"})]})]})})]})})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>{var s;let a=M(e.id);return(0,t.jsxs)(N.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,t.jsx)(N.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(N.ZB,{className:"text-lg",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,t.jsxs)(F.rI,{children:[(0,t.jsx)(F.ty,{asChild:!0,children:(0,t.jsx)(y.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(F.SQ,{align:"end",children:[(0,t.jsxs)(F._2,{onClick:()=>{z(e),Z(!0)},children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Visualizar"]}),(0,t.jsxs)(F._2,{onClick:()=>{z(e),B(!0)},children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(F._2,{onClick:()=>J(e),className:"active"===e.status?"text-red-600":"text-green-600",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"active"===e.status?"Desativar":"Ativar"]}),(0,t.jsxs)(F._2,{onClick:()=>Q(e),className:"text-red-600",disabled:a>0,children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})}),(0,t.jsx)(N.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,t.jsx)(E.E,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Ativo":"Inativo"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Usu\xe1rios:"}),(0,t.jsx)(E.E,{variant:"outline",children:a})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Permiss\xf5es:"}),(0,t.jsx)(E.E,{variant:"outline",children:(null==(s=e.permissions)?void 0:s.length)||0})]})]})})]},e.id)})}),0===T.length&&(0,t.jsx)(N.Zp,{children:(0,t.jsxs)(N.Wu,{className:"p-12 text-center",children:[(0,t.jsx)(l.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum perfil encontrado"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:C||"all"!==R?"Tente ajustar os filtros de busca":"Comece criando seu primeiro perfil de acesso"}),!C&&"all"===R&&(0,t.jsxs)(y.$,{onClick:()=>S(!0),className:"gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Criar Primeiro Perfil"]})]})}),(0,t.jsx)(I.lG,{open:D,onOpenChange:B,children:(0,t.jsxs)(I.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(I.c7,{children:(0,t.jsx)(I.L3,{children:"Editar Perfil"})}),A&&(0,t.jsx)(U,{initialData:A,onSuccess:()=>{B(!1),z(null)},onCancel:()=>{B(!1),z(null)}})]})}),(0,t.jsx)(I.lG,{open:V,onOpenChange:Z,children:(0,t.jsxs)(I.Cf,{className:"max-w-2xl",children:[(0,t.jsx)(I.c7,{children:(0,t.jsx)(I.L3,{children:"Detalhes do Perfil"})}),A&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Nome"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(E.E,{variant:"active"===A.status?"default":"secondary",children:"active"===A.status?"Ativo":"Inativo"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:A.description||"Sem descri\xe7\xe3o"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Permiss\xf5es (",(null==(e=A.permissions)?void 0:e.length)||0,")"]}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:(null==(s=A.permissions)?void 0:s.map(e=>(0,t.jsx)(E.E,{variant:"outline",children:e},e)))||(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Nenhuma permiss\xe3o definida"})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(y.$,{variant:"outline",onClick:()=>Z(!1),children:"Fechar"}),(0,t.jsx)(y.$,{onClick:()=>{Z(!1),B(!0)},children:"Editar Perfil"})]})]})]})})]})}},67133:(e,s,a)=>{"use strict";a.d(s,{SQ:()=>m,_2:()=>x,lp:()=>f,mB:()=>p,rI:()=>c,ty:()=>u});var t=a(95155),r=a(12115),i=a(48698),l=a(13052),n=a(5196),o=a(9428),d=a(53999);let c=i.bL,u=i.l9;i.YJ,i.ZL,i.Pb,i.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:n,...o}=e;return(0,t.jsxs)(i.ZP,{ref:s,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...o,children:[n,(0,t.jsx)(l.A,{className:"ml-auto h-4 w-4"})]})}).displayName=i.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=i.G5.displayName;let m=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsx)(i.UC,{ref:s,sideOffset:r,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});m.displayName=i.UC.displayName;let x=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(i.q7,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...l})});x.displayName=i.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:l,...o}=e;return(0,t.jsxs)(i.H_,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:l,...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),r]})}).displayName=i.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(i.hN,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=i.hN.displayName;let f=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(i.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});f.displayName=i.JU.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});p.displayName=i.wv.displayName},82714:(e,s,a)=>{"use strict";a.d(s,{Label:()=>d});var t=a(95155),r=a(12115),i=a(40968),l=a(74466),n=a(53999);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.b,{ref:s,className:(0,n.cn)(o(),a),...r})});d.displayName=i.b.displayName},88145:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var t=a(95155);a(12115);var r=a(74466),i=a(53999);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:a}),s),...r})}},90088:(e,s,a)=>{"use strict";a.d(s,{Switch:()=>n});var t=a(95155),r=a(12115),i=a(4884),l=a(53999);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=i.bL.displayName},99474:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var t=a(95155),r=a(12115),i=a(53999);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});l.displayName="Textarea"},99840:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>f,L3:()=>p,c7:()=>x,lG:()=>o,rr:()=>h,zM:()=>d});var t=a(95155),r=a(12115),i=a(15452),l=a(54416),n=a(53999);let o=i.bL,d=i.l9,c=i.ZL;i.bm;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=i.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...o}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(i.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,t.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=i.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=i.VY.displayName}},e=>{e.O(0,[3455,3942,8250,5061,9855,6671,5954,6967,2960,3464,5452,1118,2804,9639,5865,186,8441,5964,7358],()=>e(e.s=15887)),_N_E=e.O()}]);