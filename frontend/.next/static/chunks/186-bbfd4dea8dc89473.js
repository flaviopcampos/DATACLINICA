"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{63872:(e,s,r)=>{r.d(s,{LoadingSpinner:()=>n});var t=r(95155),a=r(51154),l=r(53999);let i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function n(e){let{size:s="md",className:r="",text:n}=e;return(0,t.jsx)("div",{className:(0,l.cn)("flex items-center justify-center",r),children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)(a.A,{className:(0,l.cn)("animate-spin text-gray-600",i[s])}),n&&(0,t.jsx)("p",{className:"text-sm text-gray-600 animate-pulse",children:n})]})})}},88255:(e,s,r)=>{r.d(s,{U7:()=>u,j7:()=>c,rO:()=>m,t3:()=>f,zn:()=>d});var t=r(32960),a=r(26715),l=r(5041),i=r(56671),n=r(25667);let o={all:["roles"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),{clinicId:e}],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e],permissions:e=>[...o.all,"permissions",e],assignments:()=>[...o.all,"assignments"],userAssignments:e=>[...o.assignments(),"user",e],roleAssignments:e=>[...o.assignments(),"role",e]};function d(e){return(0,t.I)({queryKey:o.list(e),queryFn:()=>n.OG.getRoles(e),staleTime:6e5,gcTime:18e5})}function u(){let e=(0,a.jE)();return(0,l.n)({mutationFn:e=>n.OG.createRole(e),onSuccess:s=>{e.invalidateQueries({queryKey:o.lists()}),e.setQueryData(o.detail(s.id),s),i.o.success("Perfil criado com sucesso!")},onError:e=>{var s,r;let t=(null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.detail)||"Erro ao criar perfil";i.o.error(t)}})}function c(){let e=(0,a.jE)();return(0,l.n)({mutationFn:e=>{let{id:s,roleData:r}=e;return n.OG.updateRole(s,r)},onSuccess:s=>{e.setQueryData(o.detail(s.id),s),e.invalidateQueries({queryKey:o.lists()}),i.o.success("Perfil atualizado com sucesso!")},onError:e=>{var s,r;let t=(null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.detail)||"Erro ao atualizar perfil";i.o.error(t)}})}function m(){let e=(0,a.jE)();return(0,l.n)({mutationFn:e=>n.OG.deleteRole(e),onSuccess:(s,r)=>{e.removeQueries({queryKey:o.detail(r)}),e.removeQueries({queryKey:o.permissions(r)}),e.removeQueries({queryKey:o.roleAssignments(r)}),e.invalidateQueries({queryKey:o.lists()}),i.o.success("Perfil removido com sucesso!")},onError:e=>{var s,r;let t=(null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.detail)||"Erro ao remover perfil";i.o.error(t)}})}function f(){let e=(0,a.jE)();return(0,l.n)({mutationFn:e=>{let{roleId:s,permissions:r}=e;return n.OG.updateRolePermissions(s,r)},onSuccess:(s,r)=>{let{roleId:t}=r;e.setQueryData(o.permissions(t),s),e.invalidateQueries({queryKey:["permissions","matrix"]}),e.invalidateQueries({queryKey:["permissions","user"]}),i.o.success("Permiss\xf5es atualizadas com sucesso!")},onError:e=>{var s,r;let t=(null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.detail)||"Erro ao atualizar permiss\xf5es";i.o.error(t)}})}},89852:(e,s,r)=>{r.d(s,{p:()=>i});var t=r(95155),a=r(12115),l=r(53999);let i=a.forwardRef((e,s)=>{let{className:r,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},95784:(e,s,r)=>{r.d(s,{bq:()=>m,eb:()=>x,gC:()=>y,l6:()=>u,yv:()=>c});var t=r(95155),a=r(12115),l=r(31992),i=r(66474),n=r(47863),o=r(5196),d=r(53999);let u=l.bL;l.YJ;let c=l.WT,m=a.forwardRef((e,s)=>{let{className:r,children:a,...n}=e;return(0,t.jsxs)(l.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[a,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let y=a.forwardRef((e,s)=>{let{className:r,children:a,position:i="popper",...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...n,children:[(0,t.jsx)(f,{}),(0,t.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(p,{})]})})});y.displayName=l.UC.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=l.JU.displayName;let x=a.forwardRef((e,s)=>{let{className:r,children:a,...i}=e;return(0,t.jsxs)(l.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:a})]})});x.displayName=l.q7.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=l.wv.displayName}}]);