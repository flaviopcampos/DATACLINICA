"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7512],{9074:(e,a,t)=>{t.d(a,{B:()=>m});var r=t(12115),s=t(26715),n=t(32960),i=t(5041),c=t(56671),o=t(31886);class l{async getMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new URLSearchParams;return Object.entries(e).forEach(e=>{let[t,r]=e;null!=r&&("dateRange"===t&&"object"==typeof r?(a.append("startDate",r.start.toISOString()),a.append("endDate",r.end.toISOString())):Array.isArray(r)||a.append(t,r.toString()))}),(await o.A.get("".concat(this.baseUrl,"?").concat(a))).data}async getMetric(e){return(await o.A.get("".concat(this.baseUrl,"/").concat(e))).data}async createMetric(e){return(await o.A.post(this.baseUrl,e)).data}async updateMetric(e,a){return(await o.A.put("".concat(this.baseUrl,"/").concat(e),a)).data}async deleteMetric(e){await o.A.delete("".concat(this.baseUrl,"/").concat(e))}async duplicateMetric(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/duplicate"),{name:a||"Copy of Metric"})).data}async calculateMetric(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.metricId,"/calculate"),{dateRange:e.dateRange,granularity:e.granularity,filters:e.filters,groupBy:e.groupBy})).data}async calculateMultipleMetrics(e){return(await o.A.post("".concat(this.baseUrl,"/calculate-bulk"),e)).data}async recalculateMetric(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/recalculate"),{dateRange:a})).data}async getMetricValue(e,a){let t=a?"?date=".concat(a.toISOString()):"";return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/value").concat(t))).data}async getMetricHistory(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/history"),{params:{startDate:a.start.toISOString(),endDate:a.end.toISOString(),granularity:t}})).data}async compareMetric(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.metricId,"/compare"),{basePeriod:e.basePeriod,comparisonPeriod:e.comparisonPeriod,comparisonType:e.comparisonType})).data}async compareMultipleMetrics(e,a){return(await o.A.post("".concat(this.baseUrl,"/compare-multiple"),{metricIds:e,dateRange:a})).data}async getBenchmarkComparison(e,a){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/benchmark/").concat(a))).data}async setTarget(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/targets"),a)).data}async updateTarget(e,a,t){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a),t)).data}async deleteTarget(e,a){await o.A.delete("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a))}async getTargetProgress(e,a){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a,"/progress"))).data}async createAlert(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts"),a)).data}async updateAlert(e,a,t){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a),t)).data}async deleteAlert(e,a){await o.A.delete("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a))}async getActiveAlerts(e){let a=e?"".concat(this.baseUrl,"/").concat(e,"/alerts/active"):"".concat(this.baseUrl,"/alerts/active");return(await o.A.get(a)).data}async acknowledgeAlert(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a,"/acknowledge"))).data}async snoozeAlert(e,a,t){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a,"/snooze"),{duration:t})).data}async analyzeMetric(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"last_30_days";return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/analyze"),{analysisPeriod:a})).data}async getTrendAnalysis(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.metricId,"/trend"),{dateRange:e.dateRange,analysisPeriod:e.analysisPeriod,includeSeasonality:e.includeSeasonality,includeCycles:e.includeCycles})).data}async getStatistics(e,a){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/statistics"),{params:{startDate:a.start.toISOString(),endDate:a.end.toISOString()}})).data}async detectAnomalies(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.metricId,"/anomalies"),{dateRange:e.dateRange,sensitivity:e.sensitivity,algorithm:e.algorithm})).data}async getForecast(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.metricId,"/forecast"),{historicalPeriod:e.historicalPeriod,forecastPeriod:e.forecastPeriod,confidence:e.confidence,includeSeasonality:e.includeSeasonality,includeExternalFactors:e.includeExternalFactors})).data}async getMetricDashboards(){return(await o.A.get("".concat(this.baseUrl,"/dashboards"))).data}async createMetricDashboard(e){return(await o.A.post("".concat(this.baseUrl,"/dashboards"),e)).data}async updateMetricDashboard(e,a){return(await o.A.put("".concat(this.baseUrl,"/dashboards/").concat(e),a)).data}async deleteMetricDashboard(e){await o.A.delete("".concat(this.baseUrl,"/dashboards/").concat(e))}async getCategories(){return(await o.A.get("".concat(this.baseUrl,"/categories"))).data}async getMetricTypes(e){return(await o.A.get("".concat(this.baseUrl,"/types").concat(e?"?category=".concat(e):""))).data}async getAvailableDataSources(){return(await o.A.get("".concat(this.baseUrl,"/data-sources"))).data}async validateFormula(e,a){return(await o.A.post("".concat(this.baseUrl,"/validate-formula"),{formula:e,dataSource:a})).data}async testMetricCalculation(e){return(await o.A.post("".concat(this.baseUrl,"/test-calculation"),e)).data}async getClinicalMetrics(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/clinical"),{params:a})).data}async getFinancialMetrics(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/financial"),{params:a})).data}async getOperationalMetrics(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/operational"),{params:a})).data}async getRealTimeMetrics(e){return(await o.A.post("".concat(this.baseUrl,"/real-time"),{metricIds:e})).data}async subscribeToMetricUpdates(e,a){return()=>{}}async exportMetrics(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";return(await o.A.post("".concat(this.baseUrl,"/export"),{metricIds:e,format:a},{responseType:"blob"})).data}async importMetrics(e){let a=new FormData;return a.append("file",e),(await o.A.post("".concat(this.baseUrl,"/import"),a,{headers:{"Content-Type":"multipart/form-data"}})).data}formatMetricValue(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=e.toFixed(t);switch(a){case"percentage":return"".concat(r,"%");case"currency":return"R$ ".concat(r);case"count":return Math.round(e).toString();case"time":return"".concat(r,"h");case"rate":return"".concat(r,"/min");default:return"".concat(r," ").concat(a)}}calculatePercentageChange(e,a){return 0===a?100*(e>0):(e-a)/a*100}getTrendDirection(e,a){let t=this.calculatePercentageChange(e,a);return 1>Math.abs(t)?"stable":t>0?"up":"down"}isMetricHealthy(e,a){if(!e.targets||0===e.targets.length)return!0;let t=e.targets.find(e=>new Date>=new Date(e.startDate)&&new Date<=new Date(e.endDate));if(!t)return!0;switch(t.type){case"minimum":return a>=t.value;case"maximum":return a<=t.value;case"exact":return Math.abs(a-t.value)<=(t.tolerance||0);case"range":return a>=t.minValue&&a<=t.maxValue;default:return!0}}generateMetricId(){return"metric_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}validateMetricConfig(e){let a=[];return e.name&&0!==e.name.trim().length||a.push("Nome da m\xe9trica \xe9 obrigat\xf3rio"),e.category||a.push("Categoria da m\xe9trica \xe9 obrigat\xf3ria"),e.type||a.push("Tipo da m\xe9trica \xe9 obrigat\xf3rio"),e.unit&&0!==e.unit.trim().length||a.push("Unidade da m\xe9trica \xe9 obrigat\xf3ria"),e.dataSource&&0!==e.dataSource.trim().length||a.push("Fonte de dados \xe9 obrigat\xf3ria"),e.refreshInterval&&e.refreshInterval<60&&a.push("Intervalo de atualiza\xe7\xe3o deve ser pelo menos 60 segundos"),{isValid:0===a.length,errors:a}}constructor(){this.baseUrl="/api/bi/metrics"}}let d=new l,u={metrics:(e,a)=>["bi","metrics",{category:e,type:a}],metric:e=>["bi","metric",e],history:(e,a)=>["bi","metric-history",e,a],analysis:e=>["bi","metric-analysis",e],trends:(e,a)=>["bi","metric-trends",e,a],anomalies:e=>["bi","metric-anomalies",e],forecasts:e=>["bi","metric-forecasts",e],targets:e=>["bi","metric-targets",e],alerts:e=>["bi","metric-alerts",e],dashboards:["bi","metric-dashboards"],clinicalMetrics:["bi","clinical-metrics"],financialMetrics:["bi","financial-metrics"],operationalMetrics:["bi","operational-metrics"]};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{category:a,type:t,autoRefresh:o=!1,refreshInterval:l=3e4,enableAlerts:m=!0,enableRealtime:y=!1}=e,h=(0,s.jE)(),[g,p]=(0,r.useState)(null),[b,f]=(0,r.useState)({}),[x,w]=(0,r.useState)(new Map),{data:v=[],isLoading:j,error:k,refetch:I}=(0,n.I)({queryKey:u.metrics(a,t),queryFn:()=>d.getMetrics({category:a,type:t,filters:b}),refetchInterval:!!o&&l,staleTime:3e5*!o}),{data:K=[],isLoading:A}=(0,n.I)({queryKey:u.history((null==g?void 0:g.id)||"","30d"),queryFn:()=>d.getMetricHistory(g.id,"30d"),enabled:!!g,refetchInterval:!!o&&l}),{data:C,isLoading:N}=(0,n.I)({queryKey:u.analysis((null==g?void 0:g.id)||""),queryFn:()=>d.analyzeMetric(g.id),enabled:!!g,staleTime:6e5}),{data:S,isLoading:P}=(0,n.I)({queryKey:u.trends((null==g?void 0:g.id)||"","30d"),queryFn:()=>d.analyzeTrends(g.id,"30d"),enabled:!!g,staleTime:6e5}),{data:U=[],isLoading:M}=(0,n.I)({queryKey:u.anomalies((null==g?void 0:g.id)||""),queryFn:()=>d.detectAnomalies(g.id),enabled:!!g,staleTime:9e5}),{data:D=[],isLoading:E}=(0,n.I)({queryKey:u.forecasts((null==g?void 0:g.id)||""),queryFn:()=>d.generateForecast(g.id,30),enabled:!!g,staleTime:18e5}),{data:q=[],isLoading:R}=(0,n.I)({queryKey:u.targets((null==g?void 0:g.id)||""),queryFn:()=>d.getMetricTargets(g.id),enabled:!!g}),{data:T=[],isLoading:F}=(0,n.I)({queryKey:u.alerts(null==g?void 0:g.id),queryFn:()=>d.getMetricAlerts(null==g?void 0:g.id),enabled:m,refetchInterval:6e4}),{data:z=[],isLoading:L}=(0,n.I)({queryKey:u.dashboards,queryFn:()=>d.getMetricDashboards(),staleTime:6e5}),{data:Q,isLoading:O}=(0,n.I)({queryKey:u.clinicalMetrics,queryFn:()=>d.getClinicalMetrics(),enabled:"clinical"===a||!a,refetchInterval:!!o&&l}),{data:B,isLoading:V}=(0,n.I)({queryKey:u.financialMetrics,queryFn:()=>d.getFinancialMetrics(),enabled:"financial"===a||!a,refetchInterval:!!o&&l}),{data:_,isLoading:W}=(0,n.I)({queryKey:u.operationalMetrics,queryFn:()=>d.getOperationalMetrics(),enabled:"operational"===a||!a,refetchInterval:!!o&&l}),H=j||A||N||P||M||E||R||F||L||O||V||W,Z=(0,r.useMemo)(()=>[],[]),$=(0,r.useMemo)(()=>{let e=[...new Set(v.map(e=>e.category))],a=[...new Set(v.map(e=>e.type))];return[{id:"category",name:"Categoria",type:"select",options:e.map(e=>({label:e,value:e}))},{id:"type",name:"Tipo",type:"select",options:a.map(e=>({label:e,value:e}))},{id:"dateRange",name:"Per\xedodo",type:"dateRange"}]},[v]),G=(0,r.useMemo)(()=>T.filter(e=>e.isActive&&!e.isAcknowledged),[T]),J=(0,i.n)({mutationFn:d.createMetric,onSuccess:()=>{h.invalidateQueries({queryKey:u.metrics(a,t)}),c.o.success("M\xe9trica criada com sucesso!")},onError:e=>{c.o.error("Erro ao criar m\xe9trica: "+e.message)}}),X=(0,i.n)({mutationFn:e=>{let{id:a,data:t}=e;return d.updateMetric(a,t)},onSuccess:()=>{h.invalidateQueries({queryKey:u.metrics(a,t)}),g&&h.invalidateQueries({queryKey:u.metric(g.id)}),c.o.success("M\xe9trica atualizada com sucesso!")},onError:e=>{c.o.error("Erro ao atualizar m\xe9trica: "+e.message)}}),Y=(0,i.n)({mutationFn:d.deleteMetric,onSuccess:()=>{h.invalidateQueries({queryKey:u.metrics(a,t)}),p(null),c.o.success("M\xe9trica exclu\xedda com sucesso!")},onError:e=>{c.o.error("Erro ao excluir m\xe9trica: "+e.message)}}),ee=(0,r.useCallback)(async e=>J.mutateAsync(e),[J]),ea=(0,r.useCallback)(async(e,a)=>X.mutateAsync({id:e,data:a}),[X]),et=(0,r.useCallback)(async e=>{await Y.mutateAsync(e)},[Y]),er=(0,r.useCallback)(async(e,a)=>{try{let t=await d.calculateMetric(e,a);return h.invalidateQueries({queryKey:u.metric(e)}),t}catch(e){throw c.o.error("Erro ao calcular m\xe9trica: "+e.message),e}},[h]),es=(0,r.useCallback)(async(e,a)=>{try{let t=await d.calculateBulkMetrics(e,a);return e.forEach(e=>{h.invalidateQueries({queryKey:u.metric(e)})}),t}catch(e){throw c.o.error("Erro ao calcular m\xe9tricas: "+e.message),e}},[h]),en=(0,r.useCallback)(async e=>{try{await d.recalculateMetric(e),h.invalidateQueries({queryKey:u.metric(e)}),h.invalidateQueries({queryKey:u.history(e)}),c.o.success("M\xe9trica recalculada com sucesso!")}catch(e){c.o.error("Erro ao recalcular m\xe9trica: "+e.message)}},[h]),ei=(0,r.useCallback)(e=>{p(e)},[]),ec=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30d";try{return await d.getMetricHistory(e,a)}catch(e){throw c.o.error("Erro ao obter hist\xf3rico: "+e.message),e}},[]),eo=(0,r.useCallback)(async e=>{try{await d.clearMetricHistory(e),h.invalidateQueries({queryKey:u.history(e)}),c.o.success("Hist\xf3rico limpo com sucesso!")}catch(e){c.o.error("Erro ao limpar hist\xf3rico: "+e.message)}},[h]),el=(0,r.useCallback)(async(e,a)=>{try{let t=await d.analyzeMetric(e,a);return h.setQueryData(u.analysis(e),t),t}catch(e){throw c.o.error("Erro ao analisar m\xe9trica: "+e.message),e}},[h]),ed=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30d";try{let t=await d.analyzeTrends(e,a);return h.setQueryData(u.trends(e,a),t),t}catch(e){throw c.o.error("Erro ao analisar tend\xeancias: "+e.message),e}},[h]),eu=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;try{let t=await d.detectAnomalies(e,a);return h.setQueryData(u.anomalies(e),t),t}catch(e){throw c.o.error("Erro ao detectar anomalias: "+e.message),e}},[h]),em=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{let t=await d.generateForecast(e,a);return h.setQueryData(u.forecasts(e),t),t}catch(e){throw c.o.error("Erro ao gerar previs\xe3o: "+e.message),e}},[h]),ey=(0,r.useCallback)(async(e,a)=>{try{return await d.compareMetrics(e,a)}catch(e){throw c.o.error("Erro ao comparar m\xe9tricas: "+e.message),e}},[]),eh=(0,r.useCallback)(async(e,a)=>{try{return await d.comparePeriods(e,a)}catch(e){throw c.o.error("Erro ao comparar per\xedodos: "+e.message),e}},[]),eg=(0,r.useCallback)(async(e,a)=>{try{let t=await d.setMetricTarget(e,a);return h.invalidateQueries({queryKey:u.targets(e)}),c.o.success("Meta definida com sucesso!"),t}catch(e){throw c.o.error("Erro ao definir meta: "+e.message),e}},[h]),ep=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateMetricTarget(e,a);return h.invalidateQueries({queryKey:u.targets((null==g?void 0:g.id)||"")}),c.o.success("Meta atualizada com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar meta: "+e.message),e}},[h,g]),eb=(0,r.useCallback)(async e=>{try{await d.deleteMetricTarget(e),h.invalidateQueries({queryKey:u.targets((null==g?void 0:g.id)||"")}),c.o.success("Meta exclu\xedda com sucesso!")}catch(e){c.o.error("Erro ao excluir meta: "+e.message)}},[h,g]),ef=(0,r.useCallback)(async(e,a)=>{try{let t=await d.createMetricAlert(e,a);return h.invalidateQueries({queryKey:u.alerts(e)}),c.o.success("Alerta criado com sucesso!"),t}catch(e){throw c.o.error("Erro ao criar alerta: "+e.message),e}},[h]),ex=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateMetricAlert(e,a);return h.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta atualizado com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar alerta: "+e.message),e}},[h]),ew=(0,r.useCallback)(async e=>{try{await d.deleteMetricAlert(e),h.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta exclu\xeddo com sucesso!")}catch(e){c.o.error("Erro ao excluir alerta: "+e.message)}},[h]),ev=(0,r.useCallback)(async e=>{try{await d.acknowledgeAlert(e),h.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta reconhecido!")}catch(e){c.o.error("Erro ao reconhecer alerta: "+e.message)}},[h]),ej=(0,r.useCallback)(async(e,a)=>{try{await d.snoozeAlert(e,a),h.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta adiado!")}catch(e){c.o.error("Erro ao adiar alerta: "+e.message)}},[h]),ek=(0,r.useCallback)(async e=>{try{let a=await d.createMetricDashboard(e);return h.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard criado com sucesso!"),a}catch(e){throw c.o.error("Erro ao criar dashboard: "+e.message),e}},[h]),eI=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateMetricDashboard(e,a);return h.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard atualizado com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar dashboard: "+e.message),e}},[h]),eK=(0,r.useCallback)(async e=>{try{await d.deleteMetricDashboard(e),h.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard exclu\xeddo com sucesso!")}catch(e){c.o.error("Erro ao excluir dashboard: "+e.message)}},[h]),eA=(0,r.useCallback)((e,a)=>{f(t=>({...t,[e]:a})),I()},[I]),eC=(0,r.useCallback)(e=>{f(a=>{let t={...a};return delete t[e],t}),I()},[I]),eN=(0,r.useCallback)(()=>{f({}),I()},[I]),eS=(0,r.useCallback)(async()=>{try{await I(),g&&(h.invalidateQueries({queryKey:u.history(g.id)}),h.invalidateQueries({queryKey:u.analysis(g.id)})),c.o.success("Dados atualizados com sucesso!")}catch(e){c.o.error("Erro ao atualizar dados: "+e.message)}},[I,g,h]),eP=(0,r.useCallback)(async(e,a)=>{try{let t=a||v.map(e=>e.id),r=await d.exportMetrics(t,e),s=window.URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download="metrics-export.".concat(e),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s),c.o.success("M\xe9tricas exportadas com sucesso!")}catch(e){c.o.error("Erro ao exportar m\xe9tricas: "+e.message)}},[v]),eU=(0,r.useCallback)(async e=>{try{return await d.getRealTimeMetrics(e)}catch(e){throw c.o.error("Erro ao obter m\xe9tricas em tempo real: "+e.message),e}},[]),eM=(0,r.useCallback)((e,a)=>{if(!y)return()=>{};let t=d.subscribeToMetricUpdates(e,a);return w(a=>{let r=new Map(a);return r.set(e,t),r}),()=>{t(),w(a=>{let t=new Map(a);return t.delete(e),t})}},[y]),eD=(0,r.useCallback)(e=>{let a=v.find(a=>a.id===e);return(null==a?void 0:a.currentValue)||null},[v]),eE=(0,r.useCallback)(e=>{let a=v.find(a=>a.id===e);return a?d.getMetricHealthStatus(a):"unknown"},[v]),eq=(0,r.useCallback)(e=>{let a=v.find(a=>a.id===e);return a?d.getTrendDirection(a):"stable"},[v]),eR=(0,r.useCallback)((e,a)=>d.formatValue(e,a.unit,a.precision),[]);return(0,r.useEffect)(()=>{if(!o)return;let e=setInterval(()=>{eS()},l);return()=>clearInterval(e)},[o,l,eS]),(0,r.useEffect)(()=>()=>{x.forEach(e=>e())},[x]),{metrics:v,selectedMetric:g,isLoading:H,isError:!!k,error:k,history:K,analysis:C||null,trends:S||null,anomalies:U,forecasts:D,comparisons:Z,targets:q,alerts:T,activeAlerts:G,dashboards:z,filters:$,activeFilters:b,clinicalMetrics:Q||null,financialMetrics:B||null,operationalMetrics:_||null,createMetric:ee,updateMetric:ea,deleteMetric:et,calculateMetric:er,calculateBulkMetrics:es,recalculateMetric:en,selectMetric:ei,getHistory:ec,clearHistory:eo,analyzeMetric:el,analyzeTrends:ed,detectAnomalies:eu,generateForecast:em,compareMetrics:ey,comparePeriods:eh,setTarget:eg,updateTarget:ep,deleteTarget:eb,createAlert:ef,updateAlert:ex,deleteAlert:ew,acknowledgeAlert:ev,snoozeAlert:ej,createDashboard:ek,updateDashboard:eI,deleteDashboard:eK,applyFilter:eA,removeFilter:eC,clearFilters:eN,refreshData:eS,exportMetrics:eP,getRealTimeMetrics:eU,subscribeToMetric:eM,getMetricValue:eD,getMetricStatus:eE,getMetricTrend:eq,formatMetricValue:eR}}},24944:(e,a,t)=>{t.d(a,{k:()=>c});var r=t(95155),s=t(12115),n=t(55863),i=t(53999);let c=s.forwardRef((e,a)=>{let{className:t,value:s,...c}=e;return(0,r.jsx)(n.Root,{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...c,children:(0,r.jsx)(n.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});c.displayName=n.Root.displayName},27737:(e,a,t)=>{t.d(a,{E:()=>n});var r=t(95155),s=t(53999);function n(e){let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",a),...t})}},29504:(e,a,t)=>{t.d(a,{h:()=>m});var r=t(12115),s=t(26715),n=t(32960),i=t(5041),c=t(56671),o=t(31886);class l{async getKPIs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new URLSearchParams;return Object.entries(e).forEach(e=>{let[t,r]=e;null!=r&&("dateRange"===t&&"object"==typeof r?(a.append("startDate",r.start.toISOString()),a.append("endDate",r.end.toISOString())):Array.isArray(r)||a.append(t,r.toString()))}),(await o.A.get("".concat(this.baseUrl,"?").concat(a))).data}async getKPI(e){return(await o.A.get("".concat(this.baseUrl,"/").concat(e))).data}async createKPI(e){return(await o.A.post(this.baseUrl,e)).data}async updateKPI(e,a){return(await o.A.put("".concat(this.baseUrl,"/").concat(e),a)).data}async deleteKPI(e){await o.A.delete("".concat(this.baseUrl,"/").concat(e))}async duplicateKPI(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/duplicate"),{name:a||"Copy of KPI"})).data}async activateKPI(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/activate"))).data}async deactivateKPI(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/deactivate"))).data}async calculateKPI(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.kpiId,"/calculate"),{dateRange:e.dateRange,granularity:e.granularity,filters:e.filters,groupBy:e.groupBy})).data}async recalculateKPI(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/recalculate"),{dateRange:a})).data}async getKPIValue(e,a){let t=a?"?date=".concat(a.toISOString()):"";return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/value").concat(t))).data}async getKPIHistory(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/history"),{params:{startDate:a.start.toISOString(),endDate:a.end.toISOString(),granularity:t}})).data}async getKPISnapshot(e){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/snapshot"))).data}async setTarget(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/targets"),a)).data}async updateTarget(e,a,t){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a),t)).data}async deleteTarget(e,a){await o.A.delete("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a))}async getTargetProgress(e,a){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/targets/").concat(a,"/progress"))).data}async updateThresholds(e,a){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/thresholds"),a)).data}async createAlert(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts"),a)).data}async updateAlert(e,a,t){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a),t)).data}async deleteAlert(e,a){await o.A.delete("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a))}async getActiveAlerts(e){let a=e?"".concat(this.baseUrl,"/").concat(e,"/alerts/active"):"".concat(this.baseUrl,"/alerts/active");return(await o.A.get(a)).data}async acknowledgeAlert(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a,"/acknowledge"))).data}async snoozeAlert(e,a,t){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/alerts/").concat(a,"/snooze"),{duration:t})).data}async analyzeKPI(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"basic";return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/analyze"),{analysisDepth:a})).data}async getKPIPerformance(e){return(await o.A.post("".concat(this.baseUrl,"/performance"),e)).data}async getTrendAnalysis(e,a){return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/trend"),{dateRange:a})).data}async getCorrelationAnalysis(e,a){return(await o.A.post("".concat(this.baseUrl,"/correlation"),{kpiIds:e,dateRange:a})).data}async getBenchmark(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.kpiId,"/benchmark"),{benchmarkType:e.benchmarkType,dateRange:e.dateRange,comparisonPeriod:e.comparisonPeriod})).data}async getIndustryBenchmarks(e){return(await o.A.get("".concat(this.baseUrl,"/benchmarks/industry/").concat(e))).data}async getPeerBenchmarks(e){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/benchmarks/peer"))).data}async getRecommendations(e){return(await o.A.post("".concat(this.baseUrl,"/").concat(e.kpiId,"/recommendations"),{analysisDepth:e.analysisDepth,includeActionItems:e.includeActionItems,includeRiskAssessment:e.includeRiskAssessment})).data}async getRiskAssessment(e){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/risk-assessment"))).data}async getActionItems(e,a){return(await o.A.get("".concat(this.baseUrl,"/").concat(e,"/action-items").concat(a?"?status=".concat(a):""))).data}async updateActionItem(e,a,t){return(await o.A.put("".concat(this.baseUrl,"/").concat(e,"/action-items/").concat(a),t)).data}async getKPIDashboards(){return(await o.A.get("".concat(this.baseUrl,"/dashboards"))).data}async createKPIDashboard(e){return(await o.A.post("".concat(this.baseUrl,"/dashboards"),e)).data}async updateKPIDashboard(e,a){return(await o.A.put("".concat(this.baseUrl,"/dashboards/").concat(e),a)).data}async deleteKPIDashboard(e){await o.A.delete("".concat(this.baseUrl,"/dashboards/").concat(e))}async getClinicalKPIs(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/clinical"),{params:a})).data}async getFinancialKPIs(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/financial"),{params:a})).data}async getOperationalKPIs(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/operational"),{params:a})).data}async getStaffKPIs(e){let a=e?{startDate:e.start.toISOString(),endDate:e.end.toISOString()}:{};return(await o.A.get("".concat(this.baseUrl,"/staff"),{params:a})).data}async getKPIScorecard(e,a){return(await o.A.post("".concat(this.baseUrl,"/scorecard"),{kpiIds:e,dateRange:a})).data}async getExecutiveSummary(e){return(await o.A.get("".concat(this.baseUrl,"/executive-summary"),{params:{startDate:e.start.toISOString(),endDate:e.end.toISOString()}})).data}async getDepartmentSummary(e,a){return(await o.A.get("".concat(this.baseUrl,"/department-summary/").concat(e),{params:{startDate:a.start.toISOString(),endDate:a.end.toISOString()}})).data}async getRealTimeKPIs(e){return(await o.A.post("".concat(this.baseUrl,"/real-time"),{kpiIds:e})).data}async subscribeToKPIUpdates(e,a){return()=>{}}async exportKPIs(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";return(await o.A.post("".concat(this.baseUrl,"/export"),{kpiIds:e,format:a},{responseType:"blob"})).data}async exportKPIReport(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pdf";return(await o.A.post("".concat(this.baseUrl,"/").concat(e,"/export-report"),{dateRange:a,format:t},{responseType:"blob"})).data}async importKPIs(e){let a=new FormData;return a.append("file",e),(await o.A.post("".concat(this.baseUrl,"/import"),a,{headers:{"Content-Type":"multipart/form-data"}})).data}getKPIStatus(e,a){let{thresholds:t}=e;return a>=t.excellent?"excellent":a>=t.good?"good":a>=t.warning?"warning":"critical"}getKPIColor(e){let a={excellent:"#10B981",good:"#3B82F6",warning:"#F59E0B",critical:"#EF4444",inactive:"#6B7280"};return a[e]||a.inactive}formatKPIValue(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=e.toFixed(t);switch(a){case"percentage":return"".concat(r,"%");case"currency":return"R$ ".concat(r);case"count":return Math.round(e).toString();case"time":return"".concat(r,"h");case"rate":return"".concat(r,"/min");case"ratio":return"".concat(r,":1");default:return"".concat(r," ").concat(a)}}calculateKPIScore(e,a){let t=0,r=0;return e.forEach(e=>{let s=a[e.id];if(void 0!==s){let a=e.weight||1,n=this.getKPIStatus(e,s),i=this.getStatusScore(n);t+=a,r+=i*a}}),t>0?r/t:0}getStatusScore(e){return({excellent:100,good:80,warning:60,critical:40,inactive:0})[e]||0}getTrendDirection(e,a){let t=(e-a)/a*100;return 1>Math.abs(t)?"stable":t>0?"up":"down"}getRiskLevel(e,a){switch(this.getKPIStatus(e,a)){case"critical":return"high";case"warning":default:return"medium";case"good":case"excellent":return"low"}}generateKPIId(){return"kpi_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}validateKPIConfig(e){let a=[];if(e.name&&0!==e.name.trim().length||a.push("Nome do KPI \xe9 obrigat\xf3rio"),e.category||a.push("Categoria do KPI \xe9 obrigat\xf3ria"),e.type||a.push("Tipo do KPI \xe9 obrigat\xf3rio"),e.unit&&0!==e.unit.trim().length||a.push("Unidade do KPI \xe9 obrigat\xf3ria"),e.dataSource&&0!==e.dataSource.trim().length||a.push("Fonte de dados \xe9 obrigat\xf3ria"),e.thresholds){let{excellent:t,good:r,warning:s,critical:n}=e.thresholds;(t<=r||r<=s||s<=n)&&a.push("Thresholds devem estar em ordem decrescente: excellent > good > warning > critical")}else a.push("Thresholds s\xe3o obrigat\xf3rios");return e.refreshInterval&&e.refreshInterval<60&&a.push("Intervalo de atualiza\xe7\xe3o deve ser pelo menos 60 segundos"),{isValid:0===a.length,errors:a}}constructor(){this.baseUrl="/api/bi/kpis"}}let d=new l,u={kpis:(e,a,t)=>["bi","kpis",{category:e,type:a,includeInactive:t}],kpi:e=>["bi","kpi",e],performance:(e,a)=>["bi","kpi-performance",e,a],analysis:e=>["bi","kpi-analysis",e],trends:(e,a)=>["bi","kpi-trends",e,a],benchmarks:(e,a)=>["bi","kpi-benchmarks",e,a],recommendations:e=>["bi","kpi-recommendations",e],riskAssessment:e=>["bi","kpi-risk-assessment",e],history:(e,a)=>["bi","kpi-history",e,a],targets:e=>["bi","kpi-targets",e],alerts:e=>["bi","kpi-alerts",e],dashboards:["bi","kpi-dashboards"],scorecards:["bi","kpi-scorecards"],executiveSummary:e=>["bi","executive-summary",e],clinicalKPIs:["bi","clinical-kpis"],financialKPIs:["bi","financial-kpis"],operationalKPIs:["bi","operational-kpis"],staffKPIs:["bi","staff-kpis"]};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{category:a,type:t,autoRefresh:o=!1,refreshInterval:l=3e4,enableAlerts:m=!0,enableRealtime:y=!1,includeInactive:h=!1}=e,g=(0,s.jE)(),[p,b]=(0,r.useState)(null),[f,x]=(0,r.useState)({}),[w,v]=(0,r.useState)(new Map),{data:j=[],isLoading:k,error:I,refetch:K}=(0,n.I)({queryKey:u.kpis(a,t,h),queryFn:()=>d.getKPIs({category:a,type:t,includeInactive:h,filters:f}),refetchInterval:!!o&&l,staleTime:3e5*!o}),{data:A=[],isLoading:C}=(0,n.I)({queryKey:u.performance((null==p?void 0:p.id)||"","30d"),queryFn:()=>d.analyzePerformance(p.id,"30d"),enabled:!!p,refetchInterval:!!o&&l}),{data:N,isLoading:S}=(0,n.I)({queryKey:u.analysis((null==p?void 0:p.id)||""),queryFn:()=>d.analyzeKPI(p.id),enabled:!!p,staleTime:6e5}),{data:P,isLoading:U}=(0,n.I)({queryKey:u.trends((null==p?void 0:p.id)||"","30d"),queryFn:()=>d.analyzeTrends(p.id,"30d"),enabled:!!p,staleTime:6e5}),{data:M=[],isLoading:D}=(0,n.I)({queryKey:u.benchmarks((null==p?void 0:p.id)||""),queryFn:()=>d.getBenchmarks(p.id),enabled:!!p,staleTime:18e5}),{data:E=[],isLoading:q}=(0,n.I)({queryKey:u.recommendations((null==p?void 0:p.id)||""),queryFn:()=>d.getRecommendations(p.id),enabled:!!p,staleTime:9e5}),{data:R,isLoading:T}=(0,n.I)({queryKey:u.riskAssessment((null==p?void 0:p.id)||""),queryFn:()=>d.assessRisk(p.id),enabled:!!p,staleTime:12e5}),{data:F=[],isLoading:z}=(0,n.I)({queryKey:u.history((null==p?void 0:p.id)||"","30d"),queryFn:()=>d.getKPIHistory(p.id,"30d"),enabled:!!p,refetchInterval:!!o&&l}),{data:L=[],isLoading:Q}=(0,n.I)({queryKey:u.targets((null==p?void 0:p.id)||""),queryFn:()=>d.getKPITargets(p.id),enabled:!!p}),{data:O=[],isLoading:B}=(0,n.I)({queryKey:u.alerts(null==p?void 0:p.id),queryFn:()=>d.getKPIAlerts(null==p?void 0:p.id),enabled:m,refetchInterval:6e4}),{data:V=[],isLoading:_}=(0,n.I)({queryKey:u.dashboards,queryFn:()=>d.getKPIDashboards(),staleTime:6e5}),{data:W=[],isLoading:H}=(0,n.I)({queryKey:u.scorecards,queryFn:()=>d.getScorecards(),staleTime:9e5}),{data:Z,isLoading:$}=(0,n.I)({queryKey:u.executiveSummary("current"),queryFn:()=>d.getExecutiveSummary("current"),staleTime:18e5}),{data:G,isLoading:J}=(0,n.I)({queryKey:u.clinicalKPIs,queryFn:()=>d.getClinicalKPIs(),enabled:"clinical"===a||!a,refetchInterval:!!o&&l}),{data:X,isLoading:Y}=(0,n.I)({queryKey:u.financialKPIs,queryFn:()=>d.getFinancialKPIs(),enabled:"financial"===a||!a,refetchInterval:!!o&&l}),{data:ee,isLoading:ea}=(0,n.I)({queryKey:u.operationalKPIs,queryFn:()=>d.getOperationalKPIs(),enabled:"operational"===a||!a,refetchInterval:!!o&&l}),{data:et,isLoading:er}=(0,n.I)({queryKey:u.staffKPIs,queryFn:()=>d.getStaffKPIs(),enabled:"staff"===a||!a,refetchInterval:!!o&&l}),es=k||C||S||U||D||q||T||z||Q||B||_||H||$||J||Y||ea||er,en=(0,r.useMemo)(()=>{let e=[...new Set(j.map(e=>e.category))],a=[...new Set(j.map(e=>e.type))],t=[...new Set(j.map(e=>e.status))];return[{id:"category",name:"Categoria",type:"select",options:e.map(e=>({label:e,value:e}))},{id:"type",name:"Tipo",type:"select",options:a.map(e=>({label:e,value:e}))},{id:"status",name:"Status",type:"select",options:t.map(e=>({label:e,value:e}))},{id:"dateRange",name:"Per\xedodo",type:"dateRange"}]},[j]),ei=(0,r.useMemo)(()=>O.filter(e=>e.isActive&&!e.isAcknowledged),[O]),ec=(0,i.n)({mutationFn:d.createKPI,onSuccess:()=>{g.invalidateQueries({queryKey:u.kpis(a,t,h)}),c.o.success("KPI criado com sucesso!")},onError:e=>{c.o.error("Erro ao criar KPI: "+e.message)}}),eo=(0,i.n)({mutationFn:e=>{let{id:a,data:t}=e;return d.updateKPI(a,t)},onSuccess:()=>{g.invalidateQueries({queryKey:u.kpis(a,t,h)}),p&&g.invalidateQueries({queryKey:u.kpi(p.id)}),c.o.success("KPI atualizado com sucesso!")},onError:e=>{c.o.error("Erro ao atualizar KPI: "+e.message)}}),el=(0,i.n)({mutationFn:d.deleteKPI,onSuccess:()=>{g.invalidateQueries({queryKey:u.kpis(a,t,h)}),b(null),c.o.success("KPI exclu\xeddo com sucesso!")},onError:e=>{c.o.error("Erro ao excluir KPI: "+e.message)}}),ed=(0,r.useCallback)(async e=>ec.mutateAsync(e),[ec]),eu=(0,r.useCallback)(async(e,a)=>eo.mutateAsync({id:e,data:a}),[eo]),em=(0,r.useCallback)(async e=>{await el.mutateAsync(e)},[el]),ey=(0,r.useCallback)(async(e,a)=>{try{let t=await d.calculateKPI(e,a);return g.invalidateQueries({queryKey:u.kpi(e)}),t}catch(e){throw c.o.error("Erro ao calcular KPI: "+e.message),e}},[g]),eh=(0,r.useCallback)(async(e,a)=>{try{let t=await d.calculateBulkKPIs(e,a);return e.forEach(e=>{g.invalidateQueries({queryKey:u.kpi(e)})}),t}catch(e){throw c.o.error("Erro ao calcular KPIs: "+e.message),e}},[g]),eg=(0,r.useCallback)(e=>{b(e)},[]),ep=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30d";try{let t=await d.analyzePerformance(e,a);return g.setQueryData(u.performance(e,a),t),t}catch(e){throw c.o.error("Erro ao analisar performance: "+e.message),e}},[g]),eb=(0,r.useCallback)(async e=>{try{return await d.getPerformanceScore(e)}catch(e){throw c.o.error("Erro ao obter score de performance: "+e.message),e}},[]),ef=(0,r.useCallback)(async(e,a)=>{try{return await d.comparePerformance(e,a)}catch(e){throw c.o.error("Erro ao comparar performance: "+e.message),e}},[]),ex=(0,r.useCallback)(async(e,a)=>{try{let t=await d.analyzeKPI(e,a);return g.setQueryData(u.analysis(e),t),t}catch(e){throw c.o.error("Erro ao analisar KPI: "+e.message),e}},[g]),ew=(0,r.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"30d";try{let t=await d.analyzeTrends(e,a);return g.setQueryData(u.trends(e,a),t),t}catch(e){throw c.o.error("Erro ao analisar tend\xeancias: "+e.message),e}},[g]),ev=(0,r.useCallback)(async e=>{try{return await d.generateInsights(e)}catch(e){throw c.o.error("Erro ao gerar insights: "+e.message),e}},[]),ej=(0,r.useCallback)(async(e,a)=>{try{let t=await d.getBenchmarks(e,a);return g.setQueryData(u.benchmarks(e,a),t),t}catch(e){throw c.o.error("Erro ao obter benchmarks: "+e.message),e}},[g]),ek=(0,r.useCallback)(async(e,a)=>{try{return await d.compareToBenchmark(e,a)}catch(e){throw c.o.error("Erro ao comparar com benchmark: "+e.message),e}},[]),eI=(0,r.useCallback)(async e=>{try{let a=await d.getRecommendations(e);return g.setQueryData(u.recommendations(e),a),a}catch(e){throw c.o.error("Erro ao obter recomenda\xe7\xf5es: "+e.message),e}},[g]),eK=(0,r.useCallback)(async e=>{try{await d.implementRecommendation(e),g.invalidateQueries({queryKey:u.recommendations((null==p?void 0:p.id)||"")}),c.o.success("Recomenda\xe7\xe3o implementada com sucesso!")}catch(e){c.o.error("Erro ao implementar recomenda\xe7\xe3o: "+e.message)}},[g,p]),eA=(0,r.useCallback)(async e=>{try{await d.dismissRecommendation(e),g.invalidateQueries({queryKey:u.recommendations((null==p?void 0:p.id)||"")}),c.o.success("Recomenda\xe7\xe3o dispensada!")}catch(e){c.o.error("Erro ao dispensar recomenda\xe7\xe3o: "+e.message)}},[g,p]),eC=(0,r.useCallback)(async e=>{try{let a=await d.assessRisk(e);return g.setQueryData(u.riskAssessment(e),a),a}catch(e){throw c.o.error("Erro ao avaliar risco: "+e.message),e}},[g]),eN=(0,r.useCallback)(async(e,a)=>{try{await d.updateRiskMitigation(e,a),g.invalidateQueries({queryKey:u.riskAssessment(e)}),c.o.success("Estrat\xe9gias de mitiga\xe7\xe3o atualizadas!")}catch(e){c.o.error("Erro ao atualizar mitiga\xe7\xe3o: "+e.message)}},[g]),eS=(0,r.useCallback)(async(e,a)=>{try{let t=await d.setKPITarget(e,a);return g.invalidateQueries({queryKey:u.targets(e)}),c.o.success("Meta definida com sucesso!"),t}catch(e){throw c.o.error("Erro ao definir meta: "+e.message),e}},[g]),eP=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateKPITarget(e,a);return g.invalidateQueries({queryKey:u.targets((null==p?void 0:p.id)||"")}),c.o.success("Meta atualizada com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar meta: "+e.message),e}},[g,p]),eU=(0,r.useCallback)(async e=>{try{await d.deleteKPITarget(e),g.invalidateQueries({queryKey:u.targets((null==p?void 0:p.id)||"")}),c.o.success("Meta exclu\xedda com sucesso!")}catch(e){c.o.error("Erro ao excluir meta: "+e.message)}},[g,p]),eM=(0,r.useCallback)(async(e,a)=>{try{let t=await d.createKPIAlert(e,a);return g.invalidateQueries({queryKey:u.alerts(e)}),c.o.success("Alerta criado com sucesso!"),t}catch(e){throw c.o.error("Erro ao criar alerta: "+e.message),e}},[g]),eD=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateKPIAlert(e,a);return g.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta atualizado com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar alerta: "+e.message),e}},[g]),eE=(0,r.useCallback)(async e=>{try{await d.deleteKPIAlert(e),g.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta exclu\xeddo com sucesso!")}catch(e){c.o.error("Erro ao excluir alerta: "+e.message)}},[g]),eq=(0,r.useCallback)(async e=>{try{await d.acknowledgeAlert(e),g.invalidateQueries({queryKey:u.alerts()}),c.o.success("Alerta reconhecido!")}catch(e){c.o.error("Erro ao reconhecer alerta: "+e.message)}},[g]),eR=(0,r.useCallback)(async e=>{try{let a=await d.createKPIDashboard(e);return g.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard criado com sucesso!"),a}catch(e){throw c.o.error("Erro ao criar dashboard: "+e.message),e}},[g]),eT=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateKPIDashboard(e,a);return g.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard atualizado com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar dashboard: "+e.message),e}},[g]),eF=(0,r.useCallback)(async e=>{try{await d.deleteKPIDashboard(e),g.invalidateQueries({queryKey:u.dashboards}),c.o.success("Dashboard exclu\xeddo com sucesso!")}catch(e){c.o.error("Erro ao excluir dashboard: "+e.message)}},[g]),ez=(0,r.useCallback)(async e=>{try{let a=await d.createScorecard(e);return g.invalidateQueries({queryKey:u.scorecards}),c.o.success("Scorecard criado com sucesso!"),a}catch(e){throw c.o.error("Erro ao criar scorecard: "+e.message),e}},[g]),eL=(0,r.useCallback)(async(e,a)=>{try{let t=await d.updateScorecard(e,a);return g.invalidateQueries({queryKey:u.scorecards}),c.o.success("Scorecard atualizado com sucesso!"),t}catch(e){throw c.o.error("Erro ao atualizar scorecard: "+e.message),e}},[g]),eQ=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current";try{let a=await d.getExecutiveSummary(e);return g.setQueryData(u.executiveSummary(e),a),a}catch(e){throw c.o.error("Erro ao obter resumo executivo: "+e.message),e}},[g]),eO=(0,r.useCallback)((e,a)=>{x(t=>({...t,[e]:a})),K()},[K]),eB=(0,r.useCallback)(e=>{x(a=>{let t={...a};return delete t[e],t}),K()},[K]),eV=(0,r.useCallback)(()=>{x({}),K()},[K]),e_=(0,r.useCallback)(async()=>{try{await K(),p&&(g.invalidateQueries({queryKey:u.performance(p.id)}),g.invalidateQueries({queryKey:u.analysis(p.id)})),c.o.success("Dados atualizados com sucesso!")}catch(e){c.o.error("Erro ao atualizar dados: "+e.message)}},[K,p,g]),eW=(0,r.useCallback)(async(e,a)=>{try{let t=a||j.map(e=>e.id),r=await d.exportKPIs(t,e),s=window.URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download="kpis-export.".concat(e),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s),c.o.success("KPIs exportados com sucesso!")}catch(e){c.o.error("Erro ao exportar KPIs: "+e.message)}},[j]),eH=(0,r.useCallback)(async e=>{try{await d.importKPIs(e),g.invalidateQueries({queryKey:u.kpis(a,t,h)}),c.o.success("KPIs importados com sucesso!")}catch(e){c.o.error("Erro ao importar KPIs: "+e.message)}},[g,a,t,h]),eZ=(0,r.useCallback)(async e=>{try{return await d.getRealTimeKPIs(e)}catch(e){throw c.o.error("Erro ao obter KPIs em tempo real: "+e.message),e}},[]),e$=(0,r.useCallback)((e,a)=>{if(!y)return()=>{};let t=d.subscribeToKPIUpdates(e,a);return v(a=>{let r=new Map(a);return r.set(e,t),r}),()=>{t(),v(a=>{let t=new Map(a);return t.delete(e),t})}},[y]),eG=(0,r.useCallback)(e=>{let a=j.find(a=>a.id===e);return(null==a?void 0:a.currentValue)||null},[j]),eJ=(0,r.useCallback)(e=>{let a=j.find(a=>a.id===e);return a?d.getKPIStatus(a):"unknown"},[j]),eX=(0,r.useCallback)(e=>{let a=j.find(a=>a.id===e);return a?d.getTrendDirection(a):"stable"},[j]),eY=(0,r.useCallback)(e=>{let a=j.find(a=>a.id===e);return a?d.getKPIColor(a):"#gray"},[j]),e0=(0,r.useCallback)((e,a)=>d.formatValue(e,a.unit,a.precision),[]),e1=(0,r.useCallback)(e=>{let a=j.find(a=>a.id===e);return a?d.calculateScore(a):0},[j]);return(0,r.useEffect)(()=>{if(!o)return;let e=setInterval(()=>{e_()},l);return()=>clearInterval(e)},[o,l,e_]),(0,r.useEffect)(()=>()=>{w.forEach(e=>e())},[w]),{kpis:j,selectedKPI:p,isLoading:es,isError:!!I,error:I,performance:A,analysis:N||null,trends:P||null,benchmarks:M,recommendations:E,riskAssessment:R||null,history:F,targets:L,alerts:O,activeAlerts:ei,dashboards:V,scorecards:W,executiveSummary:Z,filters:en,activeFilters:f,clinicalKPIs:G||null,financialKPIs:X||null,operationalKPIs:ee||null,staffKPIs:et||null,createKPI:ed,updateKPI:eu,deleteKPI:em,calculateKPI:ey,calculateBulkKPIs:eh,selectKPI:eg,analyzePerformance:ep,getPerformanceScore:eb,comparePerformance:ef,analyzeKPI:ex,analyzeTrends:ew,generateInsights:ev,getBenchmarks:ej,compareToBenchmark:ek,getRecommendations:eI,implementRecommendation:eK,dismissRecommendation:eA,assessRisk:eC,updateRiskMitigation:eN,setTarget:eS,updateTarget:eP,deleteTarget:eU,createAlert:eM,updateAlert:eD,deleteAlert:eE,acknowledgeAlert:eq,createDashboard:eR,updateDashboard:eT,deleteDashboard:eF,createScorecard:ez,updateScorecard:eL,getExecutiveSummary:eQ,applyFilter:eO,removeFilter:eB,clearFilters:eV,refreshData:e_,exportKPIs:eW,importKPIs:eH,getRealTimeKPIs:eZ,subscribeToKPI:e$,getKPIValue:eG,getKPIStatus:eJ,getKPITrend:eX,getKPIColor:eY,formatKPIValue:e0,calculateScore:e1}}},31886:(e,a,t)=>{t.d(a,{A:()=>i,O:()=>c});var r=t(23464),s=t(56671);let n=r.A.create({baseURL:"http://localhost:8000",timeout:1e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{let{response:a}=e;if((null==a?void 0:a.status)===401)localStorage.removeItem("token"),localStorage.removeItem("user"),s.o.error("Sess\xe3o expirada. Fa\xe7a login novamente."),window.location.href="/auth/login";else if((null==a?void 0:a.status)===403)s.o.error("Acesso negado.");else if((null==a?void 0:a.status)===404)s.o.error("Recurso n\xe3o encontrado.");else if((null==a?void 0:a.status)>=500)s.o.error("Erro interno do servidor. Tente novamente mais tarde.");else if("ECONNABORTED"===e.code)s.o.error("Tempo limite da requisi\xe7\xe3o excedido.");else{var t;s.o.error((null==a||null==(t=a.data)?void 0:t.message)||"Erro inesperado.")}return Promise.reject(e)});let i=n,c={get:async(e,a)=>(await n.get(e,{params:a})).data,post:async(e,a)=>(await n.post(e,a)).data,put:async(e,a)=>(await n.put(e,a)).data,delete:async e=>(await n.delete(e)).data,patch:async(e,a)=>(await n.patch(e,a)).data}},34964:(e,a,t)=>{t.d(a,{Tabs:()=>c,TabsContent:()=>d,TabsList:()=>o,TabsTrigger:()=>l});var r=t(95155),s=t(12115),n=t(60704),i=t(53999);let c=n.bL,o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});o.displayName=n.B8.displayName;let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});l.displayName=n.l9.displayName;let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});d.displayName=n.UC.displayName},53999:(e,a,t)=>{t.d(a,{Yq:()=>i,cn:()=>n,r6:()=>c});var r=t(52596),s=t(39688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}function i(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e))}function c(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}},67133:(e,a,t)=>{t.d(a,{SQ:()=>m,_2:()=>y,lp:()=>h,mB:()=>g,rI:()=>d,ty:()=>u});var r=t(95155),s=t(12115),n=t(48698),i=t(13052),c=t(5196),o=t(9428),l=t(53999);let d=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,a)=>{let{className:t,inset:s,children:c,...o}=e;return(0,r.jsxs)(n.ZP,{ref:a,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...o,children:[c,(0,r.jsx)(i.A,{className:"ml-auto h-4 w-4"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.G5,{ref:a,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}).displayName=n.G5.displayName;let m=s.forwardRef((e,a)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:a,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});m.displayName=n.UC.displayName;let y=s.forwardRef((e,a)=>{let{className:t,inset:s,...i}=e;return(0,r.jsx)(n.q7,{ref:a,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...i})});y.displayName=n.q7.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,checked:i,...o}=e;return(0,r.jsxs)(n.H_,{ref:a,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(n.hN,{ref:a,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let h=s.forwardRef((e,a)=>{let{className:t,inset:s,...i}=e;return(0,r.jsx)(n.JU,{ref:a,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...i})});h.displayName=n.JU.displayName;let g=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.wv,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",t),...s})});g.displayName=n.wv.displayName},74890:(e,a,t)=>{t.d(a,{C:()=>ei});var r=t(95155),s=t(12115),n=t(53999),i=t(88482),c=t(97168),o=t(27737),l=t(95784),d=t(67133),u=t(93504),m=t(94754),y=t(96025),h=t(16238),g=t(94517),p=t(24026),b=t(21374),f=t(70919),x=t(45164),w=t(85796),v=t(99445),j=t(62341),k=t(3401),I=t(83394),K=t(84336),A=t(34e3),C=t(54811),N=t(83548),S=t(63807),P=t(70098),U=t(68238),M=t(11832),D=t(57313),E=t(89190),q=t(57046),R=t(83540),T=t(33109),F=t(79397),z=t(72713),L=t(84355),Q=t(16785),O=t(71539),B=t(92657),V=t(66474),_=t(78749),W=t(91788),H=t(53904),Z=t(91981),$=t(66932),G=t(381),J=t(54653),X=t(81284),Y=t(1243);let ee={default:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#f97316","#84cc16"],medical:["#059669","#dc2626","#2563eb","#7c3aed","#db2777","#ea580c","#65a30d","#0891b2"],professional:["#1f2937","#374151","#4b5563","#6b7280","#9ca3af","#d1d5db","#e5e7eb","#f3f4f6"],vibrant:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#5f27cd"],pastel:["#a8e6cf","#dcedc1","#ffd3a5","#ffa8a8","#b4a7d6","#d4a4eb","#f8c8dc","#c7ceea"]},ea={line:{icon:T.A,label:"Linha"},area:{icon:F.A,label:"\xc1rea"},bar:{icon:z.A,label:"Barras"},pie:{icon:L.A,label:"Pizza"},scatter:{icon:Q.A,label:"Dispers\xe3o"},radar:{icon:O.A,label:"Radar"},composed:{icon:z.A,label:"Composto"}};function et(e,a){if(null==e)return"N/A";switch(a){case"currency":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);case"percentage":return"".concat((100*e).toFixed(1),"%");case"decimal":return Number(e).toFixed(2);case"integer":return Math.round(Number(e)).toString();case"date":return new Date(e).toLocaleDateString("pt-BR");case"datetime":return new Date(e).toLocaleString("pt-BR");default:return"number"==typeof e?e.toLocaleString("pt-BR"):String(e)}}function er(e){var a;let{active:t,payload:s,label:n,config:i}=e;return t&&s&&s.length?(0,r.jsxs)("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 min-w-[200px]",children:[(0,r.jsx)("p",{className:"font-medium text-foreground mb-2",children:et(n,null==i||null==(a=i.xAxis)?void 0:a.format)}),s.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:[e.name,":"]})]}),(0,r.jsx)("span",{className:"font-medium text-foreground",children:et(e.value,e.format)})]},a))]}):null}function es(e){let{type:a,config:t,series:s,showExport:n=!0,showRefresh:i=!0,showMaximize:o=!0,showFilters:u=!1,onTypeChange:m,onConfigChange:y,onSeriesToggle:h,onExport:g,onRefresh:p,onMaximize:b}=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(l.l6,{value:a,onValueChange:m,children:[(0,r.jsx)(l.bq,{className:"w-32",children:(0,r.jsx)(l.yv,{})}),(0,r.jsx)(l.gC,{children:Object.entries(ea).map(e=>{let[a,{icon:t,label:s}]=e;return(0,r.jsx)(l.eb,{value:a,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(t,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:s})]})},a)})})]}),(0,r.jsxs)(d.rI,{children:[(0,r.jsx)(d.ty,{asChild:!0,children:(0,r.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(B.A,{className:"h-4 w-4 mr-2"}),"S\xe9ries",(0,r.jsx)(V.A,{className:"h-4 w-4 ml-2"})]})}),(0,r.jsxs)(d.SQ,{children:[(0,r.jsx)(d.lp,{children:"Mostrar/Ocultar S\xe9ries"}),(0,r.jsx)(d.mB,{}),s.map(e=>(0,r.jsxs)(d._2,{onClick:()=>null==h?void 0:h(e.id),className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{children:e.name})]}),e.visible?(0,r.jsx)(B.A,{className:"h-4 w-4"}):(0,r.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground"})]},e.id))]})]}),n&&(0,r.jsxs)(d.rI,{children:[(0,r.jsx)(d.ty,{asChild:!0,children:(0,r.jsx)(c.$,{variant:"outline",size:"sm",children:(0,r.jsx)(W.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(d.SQ,{children:[(0,r.jsx)(d.lp,{children:"Exportar como"}),(0,r.jsx)(d.mB,{}),(0,r.jsx)(d._2,{onClick:()=>null==g?void 0:g("png"),children:"Imagem PNG"}),(0,r.jsx)(d._2,{onClick:()=>null==g?void 0:g("svg"),children:"Vetor SVG"}),(0,r.jsx)(d._2,{onClick:()=>null==g?void 0:g("pdf"),children:"Documento PDF"}),(0,r.jsx)(d._2,{onClick:()=>null==g?void 0:g("csv"),children:"Dados CSV"})]})]}),i&&(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:p,children:(0,r.jsx)(H.A,{className:"h-4 w-4"})}),o&&(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:b,children:(0,r.jsx)(Z.A,{className:"h-4 w-4"})}),u&&(0,r.jsx)(c.$,{variant:"outline",size:"sm",children:(0,r.jsx)($.A,{className:"h-4 w-4"})}),(0,r.jsxs)(d.rI,{children:[(0,r.jsx)(d.ty,{asChild:!0,children:(0,r.jsx)(c.$,{variant:"outline",size:"sm",children:(0,r.jsx)(G.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(d.SQ,{children:[(0,r.jsx)(d.lp,{children:"Configura\xe7\xf5es"}),(0,r.jsx)(d.mB,{}),(0,r.jsxs)(d._2,{onClick:()=>null==y?void 0:y({showGrid:!t.showGrid}),children:[(0,r.jsx)(J.A,{className:"h-4 w-4 mr-2"}),t.showGrid?"Ocultar":"Mostrar"," Grade"]}),(0,r.jsxs)(d._2,{onClick:()=>null==y?void 0:y({showLegend:!t.showLegend}),children:[(0,r.jsx)(X.A,{className:"h-4 w-4 mr-2"}),t.showLegend?"Ocultar":"Mostrar"," Legenda"]}),(0,r.jsxs)(d._2,{onClick:()=>null==y?void 0:y({animation:!t.animation}),children:[(0,r.jsx)(O.A,{className:"h-4 w-4 mr-2"}),t.animation?"Desabilitar":"Habilitar"," Anima\xe7\xe3o"]})]})]})]})}function en(e){let{series:a,colors:t,onSeriesToggle:s,position:i="bottom",align:c="center",className:o}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-wrap gap-4 text-sm",{start:"justify-start",center:"justify-center",end:"justify-end"}[c],o),children:a.map((e,a)=>(0,r.jsxs)("div",{className:(0,n.cn)("flex items-center space-x-2 cursor-pointer transition-opacity",!e.visible&&"opacity-50"),onClick:()=>null==s?void 0:s(e.id),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||t[a%t.length]}}),(0,r.jsx)("span",{className:(0,n.cn)("text-muted-foreground hover:text-foreground transition-colors",!e.visible&&"line-through"),children:e.name})]},e.id))})}function ei(e){let{data:a,config:t,type:l="line",title:d,description:T,series:F=[],xAxis:L,yAxis:Q,legend:O,tooltip:B,theme:V="default",colors:_,animation:W,interaction:Z,width:$="100%",height:G=400,responsive:J=!0,showControls:X=!0,showExport:ea=!0,showRefresh:ei=!0,showMaximize:ec=!0,showFilters:eo=!1,showGrid:el=!0,showBrush:ed=!1,showReferenceLine:eu=!1,referenceLines:em=[],referenceAreas:ey=[],className:eh,loading:eg=!1,error:ep=null,onDataPointClick:eb,onLegendClick:ef,onBrushChange:ex,onExport:ew,onRefresh:ev,onMaximize:ej,onConfigChange:ek}=e,[eI,eK]=(0,s.useState)(l),[eA,eC]=(0,s.useState)(t),[eN,eS]=(0,s.useState)(F.map(e=>e.id)),eP=(0,s.useMemo)(()=>_||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return ee[e]||ee.default}(V),[_,V]),eU=(0,s.useMemo)(()=>F.map((e,a)=>({...e,color:e.color||eP[a%eP.length],visible:eN.includes(e.id)})),[F,eP,eN]),eM=(0,s.useMemo)(()=>a&&0!==a.length?a:[],[a]),eD=(0,s.useCallback)(e=>{eK(e)},[]),eE=(0,s.useCallback)(e=>{let a={...eA,...e};eC(a),null==ek||ek(a)},[eA,ek]),eq=(0,s.useCallback)(e=>{eS(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},[]),eR=()=>{let e={data:eM,margin:{top:20,right:30,left:20,bottom:20},onClick:eb},a={dataKey:(null==L?void 0:L.dataKey)||"name",tick:{fontSize:12},tickFormatter:e=>et(e,null==L?void 0:L.format),...(null==L?void 0:L.label)&&{label:{value:L.label,position:"insideBottom",offset:-10}}},t={tick:{fontSize:12},tickFormatter:e=>et(e,null==Q?void 0:Q.format),...(null==Q?void 0:Q.label)&&{label:{value:Q.label,angle:-90,position:"insideLeft"}}},s={content:(0,r.jsx)(er,{config:eA}),cursor:{strokeDasharray:"3 3"}};switch(eI){case"line":return(0,r.jsxs)(u.b,{...e,children:[el&&(0,r.jsx)(m.d,{strokeDasharray:"3 3",opacity:.3}),(0,r.jsx)(y.W,{...a}),(0,r.jsx)(h.h,{...t}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>(0,r.jsx)(b.N,{type:"monotone",dataKey:e.dataKey,stroke:e.color,strokeWidth:2,dot:{r:4},activeDot:{r:6},animationDuration:(null==W?void 0:W.duration)||1e3,connectNulls:!1},e.id)),em.map((e,a)=>(0,r.jsx)(f.e,{y:e.value,stroke:e.color||"#666",strokeDasharray:e.strokeDasharray||"5 5",label:e.label},a)),ey.map((e,a)=>(0,r.jsx)(x.T,{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,fill:e.fill||"rgba(0,0,0,0.1)",label:e.label},a)),ed&&(0,r.jsx)(w.v,{dataKey:(null==L?void 0:L.dataKey)||"name",height:30,onChange:ex})]});case"area":return(0,r.jsxs)(v.Q,{...e,children:[el&&(0,r.jsx)(m.d,{strokeDasharray:"3 3",opacity:.3}),(0,r.jsx)(y.W,{...a}),(0,r.jsx)(h.h,{...t}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>(0,r.jsx)(j.G,{type:"monotone",dataKey:e.dataKey,stroke:e.color,fill:e.color,fillOpacity:.3,strokeWidth:2,animationDuration:(null==W?void 0:W.duration)||1e3},e.id)),ed&&(0,r.jsx)(w.v,{dataKey:(null==L?void 0:L.dataKey)||"name",height:30,onChange:ex})]});case"bar":return(0,r.jsxs)(k.E,{...e,children:[el&&(0,r.jsx)(m.d,{strokeDasharray:"3 3",opacity:.3}),(0,r.jsx)(y.W,{...a}),(0,r.jsx)(h.h,{...t}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>(0,r.jsx)(I.y,{dataKey:e.dataKey,fill:e.color,radius:[2,2,0,0],animationDuration:(null==W?void 0:W.duration)||1e3},e.id)),ed&&(0,r.jsx)(w.v,{dataKey:(null==L?void 0:L.dataKey)||"name",height:30,onChange:ex})]});case"pie":var n;return(0,r.jsxs)(K.r,{...e,children:[(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),(0,r.jsx)(A.F,{data:eM,cx:"50%",cy:"50%",outerRadius:120,fill:"#8884d8",dataKey:(null==(n=eU[0])?void 0:n.dataKey)||"value",animationDuration:(null==W?void 0:W.duration)||1e3,label:e=>{let{name:a,percent:t}=e;return"".concat(a," ").concat((100*t).toFixed(0),"%")},children:eM.map((e,a)=>(0,r.jsx)(C.f,{fill:eP[a%eP.length]},"cell-".concat(a)))})]});case"scatter":return(0,r.jsxs)(N.t,{...e,children:[el&&(0,r.jsx)(m.d,{strokeDasharray:"3 3",opacity:.3}),(0,r.jsx)(y.W,{...a}),(0,r.jsx)(h.h,{...t}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>(0,r.jsx)(S.X,{name:e.name,data:eM,fill:e.color,animationDuration:(null==W?void 0:W.duration)||1e3},e.id))]});case"radar":return(0,r.jsxs)(P.V,{...e,cx:"50%",cy:"50%",outerRadius:"80%",children:[(0,r.jsx)(U.z,{}),(0,r.jsx)(M.r,{dataKey:(null==L?void 0:L.dataKey)||"name"}),(0,r.jsx)(D.E,{}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>(0,r.jsx)(E.V,{name:e.name,dataKey:e.dataKey,stroke:e.color,fill:e.color,fillOpacity:.3,strokeWidth:2,animationDuration:(null==W?void 0:W.duration)||1e3},e.id))]});case"composed":return(0,r.jsxs)(q.X,{...e,children:[el&&(0,r.jsx)(m.d,{strokeDasharray:"3 3",opacity:.3}),(0,r.jsx)(y.W,{...a}),(0,r.jsx)(h.h,{...t}),(0,r.jsx)(g.m,{...s}),eA.showLegend&&(0,r.jsx)(p.s,{onClick:ef}),eU.filter(e=>e.visible).map((e,a)=>{switch(e.type){case"bar":return(0,r.jsx)(I.y,{dataKey:e.dataKey,fill:e.color,animationDuration:(null==W?void 0:W.duration)||1e3},e.id);case"area":return(0,r.jsx)(j.G,{type:"monotone",dataKey:e.dataKey,stroke:e.color,fill:e.color,fillOpacity:.3,animationDuration:(null==W?void 0:W.duration)||1e3},e.id);default:return(0,r.jsx)(b.N,{type:"monotone",dataKey:e.dataKey,stroke:e.color,strokeWidth:2,animationDuration:(null==W?void 0:W.duration)||1e3},e.id)}}),ed&&(0,r.jsx)(w.v,{dataKey:(null==L?void 0:L.dataKey)||"name",height:30,onChange:ex})]});default:return null}};return eg?(0,r.jsxs)(i.Zp,{className:(0,n.cn)("w-full",eh),children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.E,{className:"h-6 w-48"}),(0,r.jsx)(o.E,{className:"h-4 w-32"})]}),(0,r.jsx)(o.E,{className:"h-8 w-32"})]})}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(o.E,{className:"w-full",style:{height:G}})})]}):ep?(0,r.jsx)(i.Zp,{className:(0,n.cn)("w-full border-destructive",eh),children:(0,r.jsx)(i.Wu,{className:"flex items-center justify-center",style:{height:G},children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(Y.A,{className:"h-12 w-12 text-destructive mx-auto"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-destructive",children:"Erro ao carregar gr\xe1fico"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:ep})]}),ev&&(0,r.jsxs)(c.$,{variant:"outline",onClick:ev,children:[(0,r.jsx)(H.A,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})})}):eM&&0!==eM.length?(0,r.jsxs)(i.Zp,{className:(0,n.cn)("w-full",eh),children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[d&&(0,r.jsx)(i.ZB,{children:d}),T&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:T})]}),X&&(0,r.jsx)(es,{type:eI,config:eA,series:eU,showExport:ea,showRefresh:ei,showMaximize:ec,showFilters:eo,onTypeChange:eD,onConfigChange:eE,onSeriesToggle:eq,onExport:ew,onRefresh:ev,onMaximize:ej})]}),O&&O.show&&(0,r.jsx)(en,{series:eU,colors:eP,onSeriesToggle:eq,position:O.position,align:O.align})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{style:{width:$,height:G},children:J?(0,r.jsx)(R.u,{width:"100%",height:"100%",children:eR()}):eR()})})]}):(0,r.jsxs)(i.Zp,{className:(0,n.cn)("w-full",eh),children:[(0,r.jsxs)(i.aR,{children:[(d||T)&&(0,r.jsxs)("div",{className:"space-y-2",children:[d&&(0,r.jsx)(i.ZB,{children:d}),T&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:T})]}),X&&(0,r.jsx)(es,{type:eI,config:eA,series:eU,showExport:ea,showRefresh:ei,showMaximize:ec,showFilters:eo,onTypeChange:eD,onConfigChange:eE,onSeriesToggle:eq,onExport:ew,onRefresh:ev,onMaximize:ej})]}),(0,r.jsx)(i.Wu,{className:"flex items-center justify-center",style:{height:G},children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(z.A,{className:"h-12 w-12 text-muted-foreground mx-auto"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-muted-foreground",children:"Nenhum dado dispon\xedvel"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"N\xe3o h\xe1 dados para exibir neste gr\xe1fico"})]})]})})]})}},82714:(e,a,t)=>{t.d(a,{Label:()=>l});var r=t(95155),s=t(12115),n=t(40968),i=t(74466),c=t(53999);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.b,{ref:a,className:(0,c.cn)(o(),t),...s})});l.displayName=n.b.displayName},88145:(e,a,t)=>{t.d(a,{E:()=>c});var r=t(95155);t(12115);var s=t(74466),n=t(53999);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),a),...s})}},88482:(e,a,t)=>{t.d(a,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>c});var r=t(95155),s=t(12115),n=t(53999);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},89852:(e,a,t)=>{t.d(a,{p:()=>i});var r=t(95155),s=t(12115),n=t(53999);let i=s.forwardRef((e,a)=>{let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...i})});i.displayName="Input"},95784:(e,a,t)=>{t.d(a,{bq:()=>m,eb:()=>p,gC:()=>g,l6:()=>d,yv:()=>u});var r=t(95155),s=t(12115),n=t(31992),i=t(66474),c=t(47863),o=t(5196),l=t(53999);let d=n.bL;n.YJ;let u=n.WT,m=s.forwardRef((e,a)=>{let{className:t,children:s,...c}=e;return(0,r.jsxs)(n.l9,{ref:a,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...c,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let y=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.PP,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})});y.displayName=n.PP.displayName;let h=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.wn,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let g=s.forwardRef((e,a)=>{let{className:t,children:s,position:i="popper",...c}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:a,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...c,children:[(0,r.jsx)(y,{}),(0,r.jsx)(n.LM,{className:(0,l.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(h,{})]})})});g.displayName=n.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.JU,{ref:a,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=n.JU.displayName;let p=s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,r.jsxs)(n.q7,{ref:a,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});p.displayName=n.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.wv,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=n.wv.displayName},97168:(e,a,t)=>{t.d(a,{$:()=>l,r:()=>o});var r=t(95155),s=t(12115),n=t(99708),i=t(74466),c=t(53999);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:l=!1,...d}=e,u=l?n.DX:"button";return(0,r.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:t})),ref:a,...d})});l.displayName="Button"}}]);