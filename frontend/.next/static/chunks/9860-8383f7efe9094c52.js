"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9860],{31886:(e,a,t)=>{t.d(a,{A:()=>i,O:()=>s});var r=t(23464),o=t(56671);let n=r.A.create({baseURL:"http://localhost:8000",timeout:1e4,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{let{response:a}=e;if((null==a?void 0:a.status)===401)localStorage.removeItem("token"),localStorage.removeItem("user"),o.o.error("Sess\xe3o expirada. Fa\xe7a login novamente."),window.location.href="/auth/login";else if((null==a?void 0:a.status)===403)o.o.error("Acesso negado.");else if((null==a?void 0:a.status)===404)o.o.error("Recurso n\xe3o encontrado.");else if((null==a?void 0:a.status)>=500)o.o.error("Erro interno do servidor. Tente novamente mais tarde.");else if("ECONNABORTED"===e.code)o.o.error("Tempo limite da requisi\xe7\xe3o excedido.");else{var t;o.o.error((null==a||null==(t=a.data)?void 0:t.message)||"Erro inesperado.")}return Promise.reject(e)});let i=n,s={get:async(e,a)=>(await n.get(e,{params:a})).data,post:async(e,a)=>(await n.post(e,a)).data,put:async(e,a)=>(await n.put(e,a)).data,delete:async e=>(await n.delete(e)).data,patch:async(e,a)=>(await n.patch(e,a)).data}},46980:(e,a,t)=>{t.d(a,{ID:()=>i,SY:()=>o,rg:()=>n,zE:()=>r});let r={SIMPLE:"simple",CONTROLLED:"controlled",SPECIAL:"special",DIGITAL:"digital"},o={ACTIVE:"active",EXPIRED:"expired",CANCELLED:"cancelled",DISPENSED:"dispensed"},n=[{value:"1x ao dia",label:"1x ao dia"},{value:"2x ao dia",label:"2x ao dia"},{value:"3x ao dia",label:"3x ao dia"},{value:"4x ao dia",label:"4x ao dia"},{value:"6x ao dia",label:"6x ao dia"},{value:"8x ao dia",label:"8x ao dia"},{value:"12x ao dia",label:"12x ao dia"},{value:"A cada 4 horas",label:"A cada 4 horas"},{value:"A cada 6 horas",label:"A cada 6 horas"},{value:"A cada 8 horas",label:"A cada 8 horas"},{value:"A cada 12 horas",label:"A cada 12 horas"},{value:"Quando necess\xe1rio",label:"Quando necess\xe1rio"},{value:"Uso cont\xednuo",label:"Uso cont\xednuo"}],i=[{value:"1 dia",label:"1 dia"},{value:"3 dias",label:"3 dias"},{value:"5 dias",label:"5 dias"},{value:"7 dias",label:"7 dias"},{value:"10 dias",label:"10 dias"},{value:"14 dias",label:"14 dias"},{value:"21 dias",label:"21 dias"},{value:"30 dias",label:"30 dias"},{value:"60 dias",label:"60 dias"},{value:"90 dias",label:"90 dias"},{value:"Uso cont\xednuo",label:"Uso cont\xednuo"}]},50126:(e,a,t)=>{t.d(a,{M3:()=>j,wM:()=>q,Wm:()=>w,$e:()=>E,kz:()=>K,NZ:()=>_,tF:()=>h,Id:()=>m,Kq:()=>f,$i:()=>v,Ll:()=>p,zU:()=>g,Ny:()=>y,By:()=>S,WW:()=>b,RY:()=>x,ex:()=>F});var r=t(32960),o=t(26715),n=t(5041),i=t(56671),s=t(31886);let c="/prescriptions",l={async getAll(e){let a=new URLSearchParams;(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.per_page)&&a.append("per_page",e.per_page.toString()),(null==e?void 0:e.filters)&&Object.entries(e.filters).forEach(e=>{let[t,r]=e;null!=r&&""!==r&&a.append(t,r.toString())});let t=a.toString()?"".concat(c,"?").concat(a):c;return(await s.O.get(t)).data},getById:async e=>(await s.O.get("".concat(c,"/").concat(e))).data,create:async e=>(await s.O.post(c,e)).data,update:async(e,a)=>(await s.O.put("".concat(c,"/").concat(e),a)).data,async delete(e){await s.O.delete("".concat(c,"/").concat(e))},async getByPatient(e,a){let t=new URLSearchParams;(null==a?void 0:a.page)&&t.append("page",a.page.toString()),(null==a?void 0:a.per_page)&&t.append("per_page",a.per_page.toString()),(null==a?void 0:a.status)&&t.append("status",a.status);let r=t.toString()?"".concat(c,"/patient/").concat(e,"?").concat(t):"".concat(c,"/patient/").concat(e);return(await s.O.get(r)).data},async getByDoctor(e,a){let t=new URLSearchParams;(null==a?void 0:a.page)&&t.append("page",a.page.toString()),(null==a?void 0:a.per_page)&&t.append("per_page",a.per_page.toString()),(null==a?void 0:a.status)&&t.append("status",a.status);let r=t.toString()?"".concat(c,"/doctor/").concat(e,"?").concat(t):"".concat(c,"/doctor/").concat(e);return(await s.O.get(r)).data},async getStats(e){let a=new URLSearchParams;(null==e?void 0:e.date_from)&&a.append("date_from",e.date_from),(null==e?void 0:e.date_to)&&a.append("date_to",e.date_to),(null==e?void 0:e.doctor_id)&&a.append("doctor_id",e.doctor_id.toString());let t=a.toString()?"".concat(c,"/stats?").concat(a):"".concat(c,"/stats");return(await s.O.get(t)).data},cancel:async(e,a)=>(await s.O.patch("".concat(c,"/").concat(e,"/cancel"),{reason:a})).data,renew:async(e,a)=>(await s.O.post("".concat(c,"/").concat(e,"/renew"),{validity_days:a})).data,async generatePDF(e){let a=await fetch("/api".concat(c,"/").concat(e,"/pdf"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!a.ok)throw Error("Erro ao gerar PDF");return a.blob()},validate:async e=>(await s.O.get("".concat(c,"/").concat(e,"/validate"))).data,searchMedications:async e=>(await s.O.get("/medications/search?q=".concat(encodeURIComponent(e)))).data},d={getByPrescription:async e=>(await s.O.get("".concat(c,"/").concat(e,"/medications"))).data,create:async e=>(await s.O.post("".concat(c,"/").concat(e.prescription_id,"/medications"),e)).data,update:async(e,a,t)=>(await s.O.put("".concat(c,"/").concat(e,"/medications/").concat(a),t)).data,async delete(e,a){await s.O.delete("".concat(c,"/").concat(e,"/medications/").concat(a))}},u={all:["prescriptions"],lists:()=>[...u.all,"list"],list:e=>[...u.lists(),{filters:e}],details:()=>[...u.all,"detail"],detail:e=>[...u.details(),e],patient:e=>[...u.all,"patient",e],doctor:e=>[...u.all,"doctor",e],stats:e=>[...u.all,"stats",e],medications:e=>[...u.all,"medications",e]};function p(e){return(0,r.I)({queryKey:u.list((null==e?void 0:e.filters)||{}),queryFn:()=>l.getAll(e),staleTime:3e5})}function m(e){return(0,r.I)({queryKey:u.detail(e),queryFn:()=>l.getById(e),enabled:!!e,staleTime:3e5})}function y(e,a){return(0,r.I)({queryKey:u.patient(e),queryFn:()=>l.getByPatient(e,a),enabled:!!e,staleTime:3e5})}function g(e,a){return(0,r.I)({queryKey:u.doctor(e),queryFn:()=>l.getByDoctor(e,a),enabled:!!e,staleTime:3e5})}function v(e){return(0,r.I)({queryKey:u.stats(e),queryFn:()=>l.getStats(e),staleTime:6e5})}function f(e){return(0,r.I)({queryKey:u.medications(e),queryFn:()=>d.getByPrescription(e),enabled:!!e,staleTime:3e5})}function h(e){return(0,r.I)({queryKey:["medications","search",e],queryFn:()=>l.searchMedications(e),enabled:e.length>=2,staleTime:18e5})}let b=h;function w(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>l.create(e),onSuccess:a=>{e.invalidateQueries({queryKey:u.lists()}),e.invalidateQueries({queryKey:u.patient(a.patient_id)}),e.invalidateQueries({queryKey:u.doctor(a.doctor_id)}),e.invalidateQueries({queryKey:u.stats()}),i.o.success("Prescri\xe7\xe3o criada com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao criar prescri\xe7\xe3o")}})}function x(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:a,data:t}=e;return l.update(a,t)},onSuccess:a=>{e.setQueryData(u.detail(a.id),a),e.invalidateQueries({queryKey:u.lists()}),e.invalidateQueries({queryKey:u.patient(a.patient_id)}),e.invalidateQueries({queryKey:u.doctor(a.doctor_id)}),i.o.success("Prescri\xe7\xe3o atualizada com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao atualizar prescri\xe7\xe3o")}})}function E(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>l.delete(e),onSuccess:(a,t)=>{e.removeQueries({queryKey:u.detail(t)}),e.invalidateQueries({queryKey:u.lists()}),e.invalidateQueries({queryKey:u.stats()}),i.o.success("Prescri\xe7\xe3o exclu\xedda com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao excluir prescri\xe7\xe3o")}})}function q(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:a,reason:t}=e;return l.cancel(a,t)},onSuccess:a=>{e.setQueryData(u.detail(a.id),a),e.invalidateQueries({queryKey:u.lists()}),e.invalidateQueries({queryKey:u.patient(a.patient_id)}),i.o.success("Prescri\xe7\xe3o cancelada com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao cancelar prescri\xe7\xe3o")}})}function S(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{id:a,validity_days:t}=e;return l.renew(a,t)},onSuccess:a=>{e.invalidateQueries({queryKey:u.lists()}),e.invalidateQueries({queryKey:u.patient(a.patient_id)}),e.invalidateQueries({queryKey:u.doctor(a.doctor_id)}),i.o.success("Prescri\xe7\xe3o renovada com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao renovar prescri\xe7\xe3o")}})}function _(){return(0,n.n)({mutationFn:e=>l.generatePDF(e),onSuccess:(e,a)=>{let t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="prescricao-".concat(a,".pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t),i.o.success("PDF gerado com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao gerar PDF")}})}function j(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>d.create(e),onSuccess:a=>{e.invalidateQueries({queryKey:u.medications(a.prescription_id)}),e.invalidateQueries({queryKey:u.detail(a.prescription_id)}),i.o.success("Medicamento adicionado com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao adicionar medicamento")}})}function F(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{prescriptionId:a,medicationId:t,data:r}=e;return d.update(a,t,r)},onSuccess:a=>{e.invalidateQueries({queryKey:u.medications(a.prescription_id)}),i.o.success("Medicamento atualizado com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao atualizar medicamento")}})}function K(){let e=(0,o.jE)();return(0,n.n)({mutationFn:e=>{let{prescriptionId:a,medicationId:t}=e;return d.delete(a,t)},onSuccess:(a,t)=>{let{prescriptionId:r}=t;e.invalidateQueries({queryKey:u.medications(r)}),i.o.success("Medicamento removido com sucesso!")},onError:e=>{i.o.error(e.message||"Erro ao remover medicamento")}})}},53999:(e,a,t)=>{t.d(a,{Yq:()=>i,cn:()=>n,r6:()=>s});var r=t(52596),o=t(39688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,o.QP)((0,r.$)(a))}function i(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e))}function s(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}},63872:(e,a,t)=>{t.d(a,{LoadingSpinner:()=>s});var r=t(95155),o=t(51154),n=t(53999);let i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};function s(e){let{size:a="md",className:t="",text:s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex items-center justify-center",t),children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)(o.A,{className:(0,n.cn)("animate-spin text-gray-600",i[a])}),s&&(0,r.jsx)("p",{className:"text-sm text-gray-600 animate-pulse",children:s})]})})}},88482:(e,a,t)=>{t.d(a,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>s});var r=t(95155),o=t(12115),n=t(53999);let i=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...o})});i.displayName="Card";let s=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...o})});s.displayName="CardHeader";let c=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...o})});c.displayName="CardTitle";let l=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...o})});l.displayName="CardDescription";let d=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...o})});d.displayName="CardContent",o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...o})}).displayName="CardFooter"},97168:(e,a,t)=>{t.d(a,{$:()=>l,r:()=>c});var r=t(95155),o=t(12115),n=t(99708),i=t(74466),s=t(53999);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,a)=>{let{className:t,variant:o,size:i,asChild:l=!1,...d}=e,u=l?n.DX:"button";return(0,r.jsx)(u,{className:(0,s.cn)(c({variant:o,size:i,className:t})),ref:a,...d})});l.displayName="Button"}}]);