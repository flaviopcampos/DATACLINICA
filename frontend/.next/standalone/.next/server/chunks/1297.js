"use strict";exports.id=1297,exports.ids=[1297],exports.modules={25138:(a,b,c)=>{c.d(b,{Jd:()=>k,Nu:()=>o,Qc:()=>m,Tk:()=>l,iY:()=>n,kp:()=>j,xJ:()=>p});var d=c(51423),e=c(31074),f=c(54050),g=c(52581),h=c(35371);let i={all:["users"],lists:()=>[...i.all,"list"],list:a=>[...i.lists(),{filters:a}],details:()=>[...i.all,"detail"],detail:a=>[...i.details(),a],current:()=>[...i.all,"current"],sessions:a=>[...i.all,"sessions",a],audit:a=>[...i.all,"audit",a]};function j(a){return(0,d.I)({queryKey:i.list(a?.filters),queryFn:()=>h.Dv.getUsers(a),staleTime:3e5,gcTime:6e5})}function k(a,b=!0){return(0,d.I)({queryKey:i.detail(a),queryFn:()=>h.Dv.getUserById(a),enabled:b&&!!a,staleTime:3e5,gcTime:6e5})}function l(){let a=(0,e.jE)();return(0,f.n)({mutationFn:a=>h.Dv.createUser(a),onSuccess:b=>{a.invalidateQueries({queryKey:i.lists()}),a.setQueryData(i.detail(b.id),b),g.o.success("Usu\xe1rio criado com sucesso!")},onError:a=>{let b=a?.response?.data?.detail||"Erro ao criar usu\xe1rio";g.o.error(b)}})}function m(){let a=(0,e.jE)();return(0,f.n)({mutationFn:({id:a,userData:b})=>h.Dv.updateUser(a,b),onSuccess:b=>{a.setQueryData(i.detail(b.id),b),a.invalidateQueries({queryKey:i.lists()});let c=a.getQueryData(i.current());c&&c.id===b.id&&a.setQueryData(i.current(),b),g.o.success("Usu\xe1rio atualizado com sucesso!")},onError:a=>{let b=a?.response?.data?.detail||"Erro ao atualizar usu\xe1rio";g.o.error(b)}})}function n(){let a=(0,e.jE)();return(0,f.n)({mutationFn:a=>h.Dv.deleteUser(a),onSuccess:(b,c)=>{a.removeQueries({queryKey:i.detail(c)}),a.invalidateQueries({queryKey:i.lists()}),g.o.success("Usu\xe1rio removido com sucesso!")},onError:a=>{let b=a?.response?.data?.detail||"Erro ao remover usu\xe1rio";g.o.error(b)}})}function o(){let a=(0,e.jE)();return(0,f.n)({mutationFn:({id:a,isActive:b})=>h.Dv.toggleUserStatus(a,b),onSuccess:b=>{a.setQueryData(i.detail(b.id),b),a.invalidateQueries({queryKey:i.lists()});let c=b.is_active?"ativado":"desativado";g.o.success(`Usu\xe1rio ${c} com sucesso!`)},onError:a=>{let b=a?.response?.data?.detail||"Erro ao alterar status do usu\xe1rio";g.o.error(b)}})}function p(){let a=(0,e.jE)();return(0,f.n)({mutationFn:a=>h.Dv.unlockUser(a),onSuccess:b=>{a.setQueryData(i.detail(b.id),b),a.invalidateQueries({queryKey:i.lists()}),g.o.success("Conta desbloqueada com sucesso!")},onError:a=>{let b=a?.response?.data?.detail||"Erro ao desbloquear conta";g.o.error(b)}})}},35371:(a,b,c)=>{c.d(b,{Dv:()=>e,OG:()=>f,Yg:()=>i,_i:()=>g,ps:()=>h});var d=c(67353);let e={async getUsers(a){let b=new URLSearchParams;return a?.page&&b.append("page",a.page.toString()),a?.per_page&&b.append("per_page",a.per_page.toString()),a?.filters&&Object.entries(a.filters).forEach(([a,c])=>{null!=c&&""!==c&&b.append(a,c.toString())}),(await d.A.get(`/users?${b.toString()}`)).data},getUserById:async a=>(await d.A.get(`/users/${a}`)).data,getCurrentUser:async()=>(await d.A.get("/users/me")).data,createUser:async a=>(await d.A.post("/users",a)).data,updateUser:async(a,b)=>(await d.A.put(`/users/${a}`,b)).data,async deleteUser(a){await d.A.delete(`/users/${a}`)},toggleUserStatus:async(a,b)=>(await d.A.patch(`/users/${a}/status`,{is_active:b})).data,async resetUserPassword(a,b){await d.A.post(`/users/${a}/reset-password`,{password:b})},unlockUser:async a=>(await d.A.post(`/users/${a}/unlock`)).data,getUserSessions:async a=>(await d.A.get(`/users/${a}/sessions`)).data,async terminateSession(a){await d.A.delete(`/auth/sessions/${a}`)},async getUserAuditLog(a,b){let c=new URLSearchParams;return b?.page&&c.append("page",b.page.toString()),b?.per_page&&c.append("per_page",b.per_page.toString()),b?.action&&c.append("action",b.action),b?.resource_type&&c.append("resource_type",b.resource_type),b?.date_from&&c.append("date_from",b.date_from),b?.date_to&&c.append("date_to",b.date_to),(await d.A.get(`/users/${a}/audit?${c.toString()}`)).data}},f={async getRoles(a){let b=a?`?clinic_id=${a}`:"";return(await d.A.get(`/permissions/roles${b}`)).data},getRoleById:async a=>(await d.A.get(`/permissions/roles/${a}`)).data,createRole:async a=>(await d.A.post("/permissions/roles",a)).data,updateRole:async(a,b)=>(await d.A.put(`/permissions/roles/${a}`,b)).data,async deleteRole(a){await d.A.delete(`/permissions/roles/${a}`)},getRolePermissions:async a=>(await d.A.get(`/permissions/roles/${a}/permissions`)).data,updateRolePermissions:async(a,b)=>(await d.A.put(`/permissions/roles/${a}/permissions`,{permissions:b})).data},g={getModules:async()=>(await d.A.get("/permissions/modules")).data,getModuleById:async a=>(await d.A.get(`/permissions/modules/${a}`)).data,createModule:async a=>(await d.A.post("/permissions/modules",a)).data,updateModule:async(a,b)=>(await d.A.put(`/permissions/modules/${a}`,b)).data,async deleteModule(a){await d.A.delete(`/permissions/modules/${a}`)}},h={getPermissions:async()=>(await d.A.get("/permissions")).data,getPermissionById:async a=>(await d.A.get(`/permissions/${a}`)).data,createPermission:async a=>(await d.A.post("/permissions",a)).data,updatePermission:async(a,b)=>(await d.A.put(`/permissions/${a}`,b)).data,async deletePermission(a){await d.A.delete(`/permissions/${a}`)},getUserPermissions:async a=>(await d.A.get(`/permissions/user-permissions/${a}`)).data,getPermissionMatrix:async()=>(await d.A.get("/permissions/matrix")).data,checkUserPermission:async(a,b,c)=>(await d.A.get(`/permissions/check/${a}/${b}/${c}`)).data.has_permission},i={getUserRoleAssignments:async a=>(await d.A.get(`/permissions/user-assignments?user_id=${a}`)).data,assignRoleToUser:async a=>(await d.A.post("/permissions/user-assignments",a)).data,updateUserRoleAssignment:async(a,b)=>(await d.A.put(`/permissions/user-assignments/${a}`,b)).data,async removeRoleFromUser(a){await d.A.delete(`/permissions/user-assignments/${a}`)},getRoleAssignments:async a=>(await d.A.get(`/permissions/user-assignments?role_id=${a}`)).data}},55192:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},67353:(a,b,c)=>{c.d(b,{A:()=>d.A});var d=c(59556)}};