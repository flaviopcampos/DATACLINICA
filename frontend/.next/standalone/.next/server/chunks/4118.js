"use strict";exports.id=4118,exports.ids=[4118],exports.modules={3018:(a,b,c)=>{c.d(b,{Fc:()=>i,TN:()=>j});var d=c(60687),e=c(43210),f=c(24224),g=c(96241);let h=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,role:"alert",className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Alert",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h5",{ref:c,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",a),...b})).displayName="AlertTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",a),...b}));j.displayName="AlertDescription"},15616:(a,b,c)=>{c.d(b,{T:()=>g});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));g.displayName="Textarea"},34118:(a,b,c)=>{c.d(b,{A:()=>L});var d=c(60687),e=c(43210),f=c(27605),g=c(63442),h=c(37566),i=c(40228),j=c(58869),k=c(48340),l=c(19169),m=c(48730),n=c(10022),o=c(97992),p=c(93613),q=c(11860),r=c(8819),s=c(24934),t=c(68988),u=c(39390),v=c(15616),w=c(63974),x=c(55192),y=c(59821),z=c(3018),A=c(78377),B=c(42902),C=c(52581),D=c(47342);let E=h.Ik({patient_id:h.Yj().min(1,"Paciente \xe9 obrigat\xf3rio"),doctor_id:h.Yj().min(1,"M\xe9dico \xe9 obrigat\xf3rio"),appointment_date:h.Yj().min(1,"Data \xe9 obrigat\xf3ria"),start_time:h.Yj().min(1,"Hor\xe1rio \xe9 obrigat\xf3rio"),duration:h.ai().min(15,"Dura\xe7\xe3o m\xednima de 15 minutos").max(240,"Dura\xe7\xe3o m\xe1xima de 4 horas"),appointment_type:h.Yj().min(1,"Tipo de consulta \xe9 obrigat\xf3rio"),specialty:h.Yj().optional(),room_id:h.Yj().optional(),notes:h.Yj().optional(),price:h.ai().min(0,"Pre\xe7o deve ser positivo").optional(),insurance_id:h.Yj().optional(),is_telemedicine:h.zM().default(!1),send_reminder:h.zM().default(!0),reminder_time:h.ai().default(24),priority:h.k5(["low","normal","high","urgent"]).default("normal"),recurring:h.zM().default(!1),recurring_pattern:h.Yj().optional(),recurring_end_date:h.Yj().optional()}),F=[{id:"1",name:"Jo\xe3o Silva",phone:"(11) 99999-9999",email:"joao@email.com"},{id:"2",name:"Maria Santos",phone:"(11) 88888-8888",email:"maria@email.com"},{id:"3",name:"Pedro Costa",phone:"(11) 77777-7777",email:"pedro@email.com"}],G=[{id:"1",name:"Dr. Carlos Oliveira",specialty:"Cardiologia",crm:"12345"},{id:"2",name:"Dra. Ana Paula",specialty:"Dermatologia",crm:"67890"},{id:"3",name:"Dr. Roberto Lima",specialty:"Ortopedia",crm:"54321"}],H=[{id:"1",name:"Consult\xf3rio 1",type:"consultation"},{id:"2",name:"Consult\xf3rio 2",type:"consultation"},{id:"3",name:"Sala de Exames",type:"examination"}],I=[{value:"consultation",label:"Consulta"},{value:"followup",label:"Retorno"},{value:"examination",label:"Exame"},{value:"procedure",label:"Procedimento"},{value:"emergency",label:"Emerg\xeancia"}],J=["Cardiologia","Dermatologia","Ortopedia","Pediatria","Ginecologia","Neurologia","Psiquiatria","Oftalmologia","Otorrinolaringologia"],K=[{value:"low",label:"Baixa",color:"bg-gray-100 text-gray-800"},{value:"normal",label:"Normal",color:"bg-blue-100 text-blue-800"},{value:"high",label:"Alta",color:"bg-yellow-100 text-yellow-800"},{value:"urgent",label:"Urgente",color:"bg-red-100 text-red-800"}],L=function({appointment:a,onSubmit:b,onCancel:c,loading:h=!1,mode:L="create",className:M,doctors:N,patients:O}){let[P,Q]=(0,e.useState)(null),[R,S]=(0,e.useState)(!1),[T,U]=(0,e.useState)(null),[V,W]=(0,e.useState)(null),{register:X,handleSubmit:Y,watch:Z,setValue:$,formState:{errors:_,isValid:aa},reset:ab}=(0,f.mN)({resolver:(0,g.u)(E),defaultValues:{duration:30,appointment_type:"consultation",priority:"normal",is_telemedicine:!1,send_reminder:!0,reminder_time:24,recurring:!1}}),ac=Z(),ad=Z("is_telemedicine"),ae=Z("recurring"),af=Z("appointment_date"),ag=Z("doctor_id"),ah=async a=>{try{let c={...a,appointment_date:`${a.appointment_date}T${a.start_time}:00`,end_time:ai(a.start_time,a.duration)};await b(c),C.o.success("create"===L?"Agendamento criado com sucesso!":"Agendamento atualizado com sucesso!")}catch(a){C.o.error("Erro ao salvar agendamento. Tente novamente.")}},ai=(a,b)=>{let[c,d]=a.split(":").map(Number),e=new Date;return e.setHours(c,d,0,0),e.setMinutes(e.getMinutes()+b),`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`};return(0,d.jsxs)(x.Zp,{className:M,children:[(0,d.jsx)(x.aR,{children:(0,d.jsxs)(x.ZB,{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(i.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"create"===L?"Novo Agendamento":"Editar Agendamento"})]}),a&&(0,d.jsxs)(y.E,{variant:"outline",children:["#",a.id]})]})}),(0,d.jsx)(x.Wu,{children:(0,d.jsxs)("form",{onSubmit:Y(ah),className:"space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(j.A,{className:"h-4 w-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Informa\xe7\xf5es do Paciente"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"patient_id",children:"Paciente *"}),(0,d.jsxs)(w.l6,{value:ac.patient_id,onValueChange:a=>$("patient_id",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Selecione o paciente"})}),(0,d.jsx)(w.gC,{children:(O||F).map(a=>(0,d.jsx)(w.eb,{value:a.id,children:(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:"font-medium",children:a.name}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.phone," • ",a.email]})]})},a.id))})]}),_.patient_id&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.patient_id.message})]}),T&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{children:"Contato"}),(0,d.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,d.jsx)(k.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:T.phone})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,d.jsx)(l.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:T.email})]})]})]})]})]}),(0,d.jsx)(A.Separator,{}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(j.A,{className:"h-4 w-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Informa\xe7\xf5es do M\xe9dico"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"doctor_id",children:"M\xe9dico *"}),(0,d.jsxs)(w.l6,{value:ac.doctor_id,onValueChange:a=>$("doctor_id",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Selecione o m\xe9dico"})}),(0,d.jsx)(w.gC,{children:(N||G).map(a=>(0,d.jsx)(w.eb,{value:a.id,children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.name}),(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:[a.specialty," - CRM ",a.crm]})]})},a.id))})]}),_.doctor_id&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.doctor_id.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"specialty",children:"Especialidade"}),(0,d.jsxs)(w.l6,{value:ac.specialty,onValueChange:a=>$("specialty",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Selecione a especialidade"})}),(0,d.jsx)(w.gC,{children:J.map(a=>(0,d.jsx)(w.eb,{value:a,children:a},a))})]})]})]})]}),(0,d.jsx)(A.Separator,{}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(m.A,{className:"h-4 w-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Data e Hor\xe1rio"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"appointment_date",children:"Data *"}),(0,d.jsx)(t.p,{type:"date",...X("appointment_date"),min:new Date().toISOString().split("T")[0]}),_.appointment_date&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.appointment_date.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"start_time",children:"Hor\xe1rio *"}),(0,d.jsx)(t.p,{type:"time",...X("start_time"),readOnly:R}),_.start_time&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.start_time.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"duration",children:"Dura\xe7\xe3o (min) *"}),(0,d.jsxs)(w.l6,{value:ac.duration?.toString(),onValueChange:a=>$("duration",parseInt(a)),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{})}),(0,d.jsxs)(w.gC,{children:[(0,d.jsx)(w.eb,{value:"15",children:"15 min"}),(0,d.jsx)(w.eb,{value:"30",children:"30 min"}),(0,d.jsx)(w.eb,{value:"45",children:"45 min"}),(0,d.jsx)(w.eb,{value:"60",children:"1 hora"}),(0,d.jsx)(w.eb,{value:"90",children:"1h 30min"}),(0,d.jsx)(w.eb,{value:"120",children:"2 horas"})]})]}),_.duration&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.duration.message})]})]}),R&&af&&ag&&(0,d.jsx)(D.A,{date:new Date(af),doctorId:ag,selectedSlot:P,onSlotSelect:a=>{Q(a),$("start_time",a.time),a.duration&&$("duration",a.duration)},duration:ac.duration})]}),(0,d.jsx)(A.Separator,{}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(n.A,{className:"h-4 w-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Detalhes da Consulta"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"appointment_type",children:"Tipo de Consulta *"}),(0,d.jsxs)(w.l6,{value:ac.appointment_type,onValueChange:a=>$("appointment_type",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{})}),(0,d.jsx)(w.gC,{children:I.map(a=>(0,d.jsx)(w.eb,{value:a.value,children:a.label},a.value))})]}),_.appointment_type&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.appointment_type.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"priority",children:"Prioridade"}),(0,d.jsxs)(w.l6,{value:ac.priority,onValueChange:a=>$("priority",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{})}),(0,d.jsx)(w.gC,{children:K.map(a=>(0,d.jsx)(w.eb,{value:a.value,children:(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsx)("span",{children:a.label})})},a.value))})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!ad&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"room_id",children:"Sala/Consult\xf3rio"}),(0,d.jsxs)(w.l6,{value:ac.room_id,onValueChange:a=>$("room_id",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Selecione a sala"})}),(0,d.jsx)(w.gC,{children:H.map(a=>(0,d.jsx)(w.eb,{value:a.id,children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(o.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:a.name})]})},a.id))})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"price",children:"Valor (R$)"}),(0,d.jsx)(t.p,{type:"number",step:"0.01",min:"0",placeholder:"0,00",...X("price",{valueAsNumber:!0})}),_.price&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:_.price.message})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"notes",children:"Observa\xe7\xf5es"}),(0,d.jsx)(v.T,{placeholder:"Observa\xe7\xf5es sobre o agendamento...",...X("notes"),rows:3})]})]}),(0,d.jsx)(A.Separator,{}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-lg font-medium",children:"Configura\xe7\xf5es"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(u.Label,{children:"Telemedicina"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Consulta ser\xe1 realizada online"})]}),(0,d.jsx)(B.Switch,{checked:ad,onCheckedChange:a=>$("is_telemedicine",a)})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(u.Label,{children:"Enviar Lembrete"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Notificar paciente sobre o agendamento"})]}),(0,d.jsx)(B.Switch,{checked:ac.send_reminder,onCheckedChange:a=>$("send_reminder",a)})]}),ac.send_reminder&&(0,d.jsxs)("div",{className:"space-y-2 ml-6",children:[(0,d.jsx)(u.Label,{htmlFor:"reminder_time",children:"Lembrar com anteced\xeancia (horas)"}),(0,d.jsxs)(w.l6,{value:ac.reminder_time?.toString(),onValueChange:a=>$("reminder_time",parseInt(a)),children:[(0,d.jsx)(w.bq,{className:"w-48",children:(0,d.jsx)(w.yv,{})}),(0,d.jsxs)(w.gC,{children:[(0,d.jsx)(w.eb,{value:"1",children:"1 hora"}),(0,d.jsx)(w.eb,{value:"2",children:"2 horas"}),(0,d.jsx)(w.eb,{value:"4",children:"4 horas"}),(0,d.jsx)(w.eb,{value:"12",children:"12 horas"}),(0,d.jsx)(w.eb,{value:"24",children:"24 horas"}),(0,d.jsx)(w.eb,{value:"48",children:"48 horas"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsx)(u.Label,{children:"Agendamento Recorrente"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Repetir este agendamento"})]}),(0,d.jsx)(B.Switch,{checked:ae,onCheckedChange:a=>$("recurring",a)})]}),ae&&(0,d.jsxs)("div",{className:"space-y-4 ml-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"recurring_pattern",children:"Padr\xe3o de Recorr\xeancia"}),(0,d.jsxs)(w.l6,{value:ac.recurring_pattern,onValueChange:a=>$("recurring_pattern",a),children:[(0,d.jsx)(w.bq,{children:(0,d.jsx)(w.yv,{placeholder:"Selecione o padr\xe3o"})}),(0,d.jsxs)(w.gC,{children:[(0,d.jsx)(w.eb,{value:"daily",children:"Di\xe1rio"}),(0,d.jsx)(w.eb,{value:"weekly",children:"Semanal"}),(0,d.jsx)(w.eb,{value:"biweekly",children:"Quinzenal"}),(0,d.jsx)(w.eb,{value:"monthly",children:"Mensal"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(u.Label,{htmlFor:"recurring_end_date",children:"Data Final"}),(0,d.jsx)(t.p,{type:"date",...X("recurring_end_date"),min:af})]})]})]})]}),P&&(0,d.jsxs)(z.Fc,{children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),(0,d.jsx)(z.TN,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("p",{className:"font-medium",children:"Resumo do Agendamento:"}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Paciente:"})," ",T?.name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"M\xe9dico:"})," ",V?.name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Data:"})," ",new Date(af).toLocaleDateString("pt-BR")]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Hor\xe1rio:"})," ",P.startTime," - ",P.endTime]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Dura\xe7\xe3o:"})," ",ac.duration," minutos"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Tipo:"})," ",I.find(a=>a.value===ac.appointment_type)?.label]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Prioridade:"})," ",(a=>{let b=K.find(b=>b.value===a);return(0,d.jsx)(y.E,{variant:"outline",className:b?.color,children:b?.label})})(ac.priority)]})]})]})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[(0,d.jsxs)(s.$,{type:"button",variant:"outline",onClick:c,disabled:h,children:[(0,d.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,d.jsx)(s.$,{type:"submit",disabled:!aa||h,className:"min-w-[120px]",children:h?(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,d.jsx)("span",{children:"Salvando..."})]}):(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(r.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"create"===L?"Criar Agendamento":"Salvar Altera\xe7\xf5es"})]})})]})]})})]})}},39390:(a,b,c)=>{c.d(b,{Label:()=>j});var d=c(60687),e=c(43210),f=c(78148),g=c(24224),h=c(96241);let i=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.b,{ref:c,className:(0,h.cn)(i(),a),...b}));j.displayName=f.b.displayName},42902:(a,b,c)=>{c.d(b,{Switch:()=>h});var d=c(60687),e=c(43210),f=c(90270),g=c(96241);let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{className:(0,g.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...b,ref:c,children:(0,d.jsx)(f.zi,{className:(0,g.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));h.displayName=f.bL.displayName},47342:(a,b,c)=>{c.d(b,{A:()=>p});var d=c(60687),e=c(43210),f=c(48730),g=c(40228),h=c(5336),i=c(93613),j=c(24934),k=c(55192),l=c(59821),m=c(3018),n=c(80189),o=c(96241);let p=function({date:a,doctorId:b,availability:c=[],selectedSlot:p,onSlotSelect:q,duration:r=30,isLoading:s=!1,disabled:t=!1,className:u}){let[v,w]=(0,e.useState)("all"),x=(0,e.useMemo)(()=>{let d=[],e=a.toISOString().split("T")[0];return 0===c.length?Object.entries({morning:{start:7,end:12},afternoon:{start:13,end:18},evening:{start:19,end:22}}).forEach(([a,{start:c,end:f}])=>{for(let g=c;g<f;g++)for(let c=0;c<60;c+=r){let f=`${g.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`,h=new Date(`${e}T${f}`);h.setMinutes(h.getMinutes()+r);let i=`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}`;d.push({id:`${e}-${f}`,date:e,startTime:f,endTime:i,isAvailable:!0,doctorId:b||"",period:a})}}):c.forEach(a=>{a.date===e&&a.isAvailable&&a.timeSlots?.forEach(a=>{a.isAvailable&&d.push({...a,period:y(a.startTime)})})}),d.sort((a,b)=>a.startTime.localeCompare(b.startTime))},[a,c,r,b]),y=a=>{let b=parseInt(a.split(":")[0]);return b<12?"morning":b<18?"afternoon":"evening"},z=(0,e.useMemo)(()=>"all"===v?x:x.filter(a=>a.period===v),[x,v]),A=z.filter(a=>a.isAvailable),B=z.filter(a=>!a.isAvailable),C=a=>a.isAvailable?p?.id===a.id?"selected":"available":"unavailable";return s?(0,d.jsx)(k.Zp,{className:u,children:(0,d.jsx)(k.Wu,{className:"flex items-center justify-center h-64",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Carregando hor\xe1rios dispon\xedveis..."})]})})}):(0,d.jsxs)(k.Zp,{className:u,children:[(0,d.jsxs)(k.aR,{children:[(0,d.jsxs)(k.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(f.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"Hor\xe1rios Dispon\xedveis"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:a.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(0,d.jsxs)(k.Wu,{className:"space-y-6",children:[(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","morning","afternoon","evening"].map(a=>{let b=v===a;return(0,d.jsxs)(j.$,{variant:b?"default":"outline",size:"sm",onClick:()=>w(a),className:"flex items-center space-x-1",children:["all"!==a&&(0,d.jsx)("span",{className:"text-sm",children:{morning:"\uD83C\uDF05",afternoon:"☀️",evening:"\uD83C\uDF19"}[a]||""}),(0,d.jsx)("span",{children:{morning:"Manh\xe3",afternoon:"Tarde",evening:"Noite",all:"Todos"}[a]||a})]},a)})}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 text-green-600"}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[A.length," dispon\xedveis"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 text-red-600"}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[B.length," ocupados"]})]})]}),p&&(0,d.jsxs)(l.E,{variant:"secondary",children:["Selecionado: ",p.startTime]})]}),0===z.length?(0,d.jsxs)(m.Fc,{children:[(0,d.jsx)(i.A,{className:"h-4 w-4"}),(0,d.jsx)(m.TN,{children:"N\xe3o h\xe1 hor\xe1rios dispon\xedveis para o per\xedodo selecionado."})]}):(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:z.map(a=>{let b=C(a);return(0,d.jsx)(n.Bc,{children:(0,d.jsxs)(n.m_,{children:[(0,d.jsx)(n.k$,{asChild:!0,children:(0,d.jsxs)("div",{className:(a=>{let b=C(a);return(0,o.cn)("p-3 rounded-lg border-2 transition-all duration-200 cursor-pointer text-center",{available:"border-gray-200 hover:border-blue-300 hover:bg-blue-50 bg-white",selected:"border-blue-500 bg-blue-100 text-blue-700",unavailable:"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed opacity-60"}[b])})(a),onClick:()=>{!t&&a.isAvailable&&q(a)},children:[(0,d.jsx)("div",{className:"font-medium text-sm",children:a.startTime}),a.duration&&(0,d.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[a.duration,"min"]}),"selected"===b&&(0,d.jsx)(h.A,{className:"h-4 w-4 mx-auto mt-1 text-blue-600"}),"unavailable"===b&&(0,d.jsx)(i.A,{className:"h-4 w-4 mx-auto mt-1 text-red-500"})]})}),(0,d.jsx)(n.ZI,{children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsxs)("p",{className:"font-medium",children:[a.startTime," - ",a.endTime]}),a.doctorName&&(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr(a). ",a.doctorName]}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:["available"===b&&"Clique para selecionar","selected"===b&&"Hor\xe1rio selecionado","unavailable"===b&&"Hor\xe1rio ocupado"]})]})})]})},a.id)})}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-6 pt-4 border-t",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded border-2 border-gray-200 bg-white"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Dispon\xedvel"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded border-2 border-blue-500 bg-blue-100"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Selecionado"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded border-2 border-gray-100 bg-gray-50"}),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:"Ocupado"})]})]})]})]})}},78377:(a,b,c)=>{c.d(b,{Separator:()=>h});var d=c(60687),e=c(43210),f=c(62369),g=c(96241);let h=e.forwardRef(({className:a,orientation:b="horizontal",decorative:c=!0,...e},h)=>(0,d.jsx)(f.b,{ref:h,decorative:c,orientation:b,className:(0,g.cn)("shrink-0 bg-border","horizontal"===b?"h-[1px] w-full":"h-full w-[1px]",a),...e}));h.displayName=f.b.displayName},80189:(a,b,c)=>{c.d(b,{Bc:()=>h,ZI:()=>k,k$:()=>j,m_:()=>i});var d=c(60687),e=c(43210),f=c(9989),g=c(96241);let h=f.Kq,i=f.bL,j=f.l9,k=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.UC,{ref:e,sideOffset:b,className:(0,g.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c}));k.displayName=f.UC.displayName}};