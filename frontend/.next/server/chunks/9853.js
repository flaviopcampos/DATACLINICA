exports.id=9853,exports.ids=[9853],exports.modules={3387:(a,b,c)=>{"use strict";c.d(b,{TM:()=>g,hk:()=>h});var d=c(60687),e=c(95033),f=c(41862);function g({children:a,title:b,description:c,confirmText:g="Confirmar",cancelText:h="Cancelar",onConfirm:i,onCancel:j,variant:k="default",isLoading:l=!1,disabled:m=!1}){let n=async()=>{try{await i()}catch(a){}};return(0,d.jsxs)(e.Lt,{children:[(0,d.jsx)(e.tv,{asChild:!0,disabled:m,children:a}),(0,d.jsxs)(e.EO,{children:[(0,d.jsxs)(e.wd,{children:[(0,d.jsx)(e.r7,{children:b}),(0,d.jsx)(e.$v,{children:c})]}),(0,d.jsxs)(e.ck,{children:[(0,d.jsx)(e.Zr,{onClick:j,disabled:l,children:h}),(0,d.jsxs)(e.Rx,{onClick:n,disabled:l,className:"destructive"===k?"bg-red-600 hover:bg-red-700":"",children:[l&&(0,d.jsx)(f.A,{className:"h-4 w-4 mr-2 animate-spin"}),g]})]})]})]})}function h({children:a,onConfirm:b}){return(0,d.jsx)(g,{title:"Confirmar Logout",description:"Tem certeza que deseja sair do sistema?",confirmText:"Sair",cancelText:"Cancelar",onConfirm:b,variant:"destructive",children:a})}},4300:(a,b,c)=>{"use strict";c.d(b,{Header:()=>J});var d=c(60687),e=c(12941),f=c(99270),g=c(58869),h=c(84027),i=c(44709),j=c(40083),k=c(24934),l=c(68988),m=c(55629),n=c(70373);c(43210);var o=c(21134),p=c(363),q=c(10218);function r(){let{setTheme:a,theme:b}=(0,q.D)();return(0,d.jsxs)(m.rI,{children:[(0,d.jsx)(m.ty,{asChild:!0,children:(0,d.jsxs)(k.$,{variant:"ghost",size:"sm",className:"w-9 px-0 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":`Tema atual: ${"light"===b?"claro":"dark"===b?"escuro":"sistema"}. Clique para alterar tema`,children:[(0,d.jsx)(o.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0","aria-hidden":"true"}),(0,d.jsx)(p.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100","aria-hidden":"true"})]})}),(0,d.jsxs)(m.SQ,{align:"end",role:"menu","aria-label":"Op\xe7\xf5es de tema",children:[(0,d.jsxs)(m._2,{onClick:()=>a("light"),className:"focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",role:"menuitem","aria-label":"Definir tema claro",children:[(0,d.jsx)(o.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Claro"})]}),(0,d.jsxs)(m._2,{onClick:()=>a("dark"),className:"focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",role:"menuitem","aria-label":"Definir tema escuro",children:[(0,d.jsx)(p.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Escuro"})]}),(0,d.jsxs)(m._2,{onClick:()=>a("system"),className:"focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",role:"menuitem","aria-label":"Usar tema do sistema",children:[(0,d.jsx)("span",{className:"mr-2 h-4 w-4","aria-hidden":"true",children:"\uD83D\uDCBB"}),(0,d.jsx)("span",{children:"Sistema"})]})]})]})}var s=c(5336),t=c(43649),u=c(93613),v=c(96882),w=c(13964),x=c(11860),y=c(97051),z=c(59821),A=c(69327),B=c(28493),C=c(41255),D=c(68358),E=c(882);function F({notification:a,onMarkAsRead:b,onRemove:c}){return(0,d.jsx)("div",{className:`p-3 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 ${!a.read?"bg-blue-50 dark:bg-blue-950/20":""}`,role:"listitem","aria-label":`Notifica\xe7\xe3o: ${a.title}`,children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:function(a){switch(a){case"success":return(0,d.jsx)(s.A,{className:"w-4 h-4 text-green-500","aria-hidden":"true"});case"warning":return(0,d.jsx)(t.A,{className:"w-4 h-4 text-yellow-500","aria-hidden":"true"});case"error":return(0,d.jsx)(u.A,{className:"w-4 h-4 text-red-500","aria-hidden":"true"});default:return(0,d.jsx)(v.A,{className:"w-4 h-4 text-blue-500","aria-hidden":"true"})}}(a.type)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a.title}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.message}),(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:(0,D.m)(a.timestamp,{addSuffix:!0,locale:E.F})})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[!a.read&&(0,d.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:()=>b(a.id),"aria-label":"Marcar notifica\xe7\xe3o como lida",title:"Marcar como lida",children:(0,d.jsx)(w.A,{className:"w-3 h-3","aria-hidden":"true"})}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500 focus:ring-2 focus:ring-red-500 focus:ring-offset-1",onClick:()=>c(a.id),"aria-label":"Remover notifica\xe7\xe3o",title:"Remover notifica\xe7\xe3o",children:(0,d.jsx)(x.A,{className:"w-3 h-3","aria-hidden":"true"})})]})]}),a.action&&(0,d.jsx)(k.$,{variant:"outline",size:"sm",className:"mt-2 h-7 text-xs focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:a.action.onClick,"aria-label":`A\xe7\xe3o: ${a.action.label}`,children:a.action.label})]})]})})}function G(){let{notifications:a,unreadCount:b,markAsRead:c,markAllAsRead:e,removeNotification:f,clearAll:g}=(0,B.E)(),{containerRef:h}=(0,C.JZ)({orientation:"vertical",loop:!0});return(0,d.jsxs)(m.rI,{children:[(0,d.jsx)(m.ty,{asChild:!0,children:(0,d.jsxs)(k.$,{variant:"ghost",size:"sm",className:"relative focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":`Notifica\xe7\xf5es${b>0?` (${b} n\xe3o lidas)`:""}`,children:[(0,d.jsx)(y.A,{className:"w-5 h-5","aria-hidden":"true"}),b>0&&(0,d.jsx)(z.E,{variant:"destructive",className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 text-xs","aria-label":`${b} notifica\xe7\xf5es n\xe3o lidas`,children:b>99?"99+":b})]})}),(0,d.jsxs)(m.SQ,{className:"w-80",align:"end",forceMount:!0,role:"region","aria-label":"Centro de notifica\xe7\xf5es",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",id:"notifications-heading",children:"Notifica\xe7\xf5es"}),a.length>0&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[b>0&&(0,d.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 text-xs focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",onClick:e,"aria-label":"Marcar todas as notifica\xe7\xf5es como lidas",children:"Marcar todas como lidas"}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 text-xs text-red-600 hover:text-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-1",onClick:g,"aria-label":"Limpar todas as notifica\xe7\xf5es",children:"Limpar todas"})]})]}),0===a.length?(0,d.jsxs)("div",{className:"p-6 text-center",role:"status","aria-live":"polite",children:[(0,d.jsx)(y.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2","aria-hidden":"true"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nenhuma notifica\xe7\xe3o"})]}):(0,d.jsx)(A.F,{className:"max-h-96",role:"list","aria-labelledby":"notifications-heading","aria-live":"polite",children:a.map(a=>(0,d.jsx)(F,{notification:a,onMarkAsRead:c,onRemove:f},a.id))})]})]})}var H=c(48622),I=c(16189);function J({onMenuClick:a,showMenuButton:b=!0}){let{user:c,logoutAndRedirect:o}=(0,H.As)();return(0,I.useRouter)(),(0,d.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[b&&(0,d.jsx)(k.$,{variant:"ghost",size:"sm",onClick:a,className:cn("p-2 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",b?"lg:hidden":"hidden"),"aria-label":"Abrir menu de navega\xe7\xe3o","aria-expanded":!1,children:(0,d.jsx)(e.A,{className:"h-5 w-5","aria-hidden":"true"})}),(0,d.jsx)("div",{className:"flex-1 max-w-md mx-4",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)(l.p,{type:"search",placeholder:"Buscar pacientes, consultas...",className:"pl-10 text-sm bg-gray-50 border-gray-200 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:focus:bg-gray-900 dark:focus:ring-blue-400 dark:focus:border-blue-400","aria-label":"Campo de busca"})]})}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)(G,{})}),(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)(r,{})}),(0,d.jsxs)("div",{className:"sm:hidden flex items-center space-x-1",children:[(0,d.jsx)(G,{}),(0,d.jsx)(r,{})]}),(0,d.jsxs)(m.rI,{children:[(0,d.jsx)(m.ty,{asChild:!0,children:(0,d.jsx)(k.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":`Menu do usu\xe1rio ${c?.name||"Usu\xe1rio"}`,children:(0,d.jsxs)(n.Avatar,{className:"h-8 w-8",children:[(0,d.jsx)(n.AvatarImage,{src:c?.avatar,alt:`Avatar de ${c?.name||"Usu\xe1rio"}`}),(0,d.jsx)(n.AvatarFallback,{children:c?.name?.charAt(0)||"U"})]})})}),(0,d.jsxs)(m.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,d.jsx)(m.lp,{className:"font-normal",children:(0,d.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium leading-none",children:c?.name}),(0,d.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:c?.email})]})}),(0,d.jsx)(m.mB,{}),(0,d.jsxs)(m._2,{className:"focus:bg-gray-100 dark:focus:bg-gray-800",children:[(0,d.jsx)(g.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Perfil"})]}),(0,d.jsxs)(m._2,{className:"focus:bg-gray-100 dark:focus:bg-gray-800",children:[(0,d.jsx)(h.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,d.jsxs)(m._2,{className:"focus:bg-gray-100 dark:focus:bg-gray-800",children:[(0,d.jsx)(i.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Suporte"})]}),(0,d.jsx)(m.mB,{}),(0,d.jsxs)(m._2,{onClick:o,className:"focus:bg-red-50 dark:focus:bg-red-900/20 text-red-600 dark:text-red-400",children:[(0,d.jsx)(j.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Sair"})]})]})]})]})]})})}},7356:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\flavi\\Documents\\Softwares\\DATACLINICA\\frontend\\components\\dashboard\\sidebar.tsx","Sidebar")},24689:(a,b,c)=>{"use strict";c.d(b,{Header:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\flavi\\Documents\\Softwares\\DATACLINICA\\frontend\\components\\dashboard\\header.tsx","Header")},28493:(a,b,c)=>{"use strict";c.d(b,{E:()=>k});var d=c(43210),e=c(31074),f=c(51423),g=c(54050),h=c(52581),i=c(48459);let j={notifications:"appointment-notifications",settings:"notification-settings",stats:"notification-stats"};function k(a={}){let{userId:b,clinicId:c,autoRefresh:l=!0,refreshInterval:m=3e4,enableRealTime:n=!0,maxNotifications:o=50}=a,p=(0,e.jE)(),[q,r]=(0,d.useState)({status:["pending","sent"],types:["reminder","confirmation","cancellation"],priority:["high","medium","low"],dateRange:{start:new Date().toISOString().split("T")[0],end:new Date(Date.now()+6048e5).toISOString().split("T")[0]}}),[s,t]=(0,d.useState)(0),[u,v]=(0,d.useState)(!1),{data:w,isLoading:x,error:y,refetch:z}=(0,f.I)({queryKey:[j.notifications,b,c,q],queryFn:()=>i.u.getNotifications({userId:b,clinicId:c,...q,limit:o}),enabled:!!b||!!c,staleTime:l?m:12e4,refetchInterval:!!l&&m,gcTime:3e5}),{data:A,isLoading:B,error:C}=(0,f.I)({queryKey:[j.settings,b],queryFn:()=>i.u.getNotificationSettings(b),enabled:!!b,staleTime:6e5}),{data:D,isLoading:E}=(0,f.I)({queryKey:[j.stats,b,c],queryFn:()=>i.u.getNotificationStats(b,c),enabled:!!b||!!c,staleTime:3e5}),F=(0,g.n)({mutationFn:a=>i.u.markNotificationsAsRead(a),onSuccess:()=>{p.invalidateQueries({queryKey:[j.notifications]}),p.invalidateQueries({queryKey:[j.stats]})},onError:a=>{let b=a.response?.data?.detail||"Erro ao marcar notifica\xe7\xe3o como lida";h.o.error(b)}}),G=(0,g.n)({mutationFn:a=>i.u.deleteNotifications(a),onSuccess:()=>{p.invalidateQueries({queryKey:[j.notifications]}),p.invalidateQueries({queryKey:[j.stats]}),h.o.success("Notifica\xe7\xe3o(\xf5es) exclu\xedda(s) com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao excluir notifica\xe7\xe3o";h.o.error(b)}}),H=(0,g.n)({mutationFn:a=>i.u.updateNotificationSettings(b,a),onSuccess:()=>{p.invalidateQueries({queryKey:[j.settings,b]}),h.o.success("Configura\xe7\xf5es atualizadas com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao atualizar configura\xe7\xf5es";h.o.error(b)}}),I=(0,g.n)({mutationFn:a=>i.u.sendNotification(a),onSuccess:()=>{p.invalidateQueries({queryKey:[j.notifications]}),h.o.success("Notifica\xe7\xe3o enviada com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao enviar notifica\xe7\xe3o";h.o.error(b)}}),J=(0,d.useCallback)(a=>{F.mutate(a)},[F]),K=(0,d.useCallback)(()=>{if(!w)return;let a=w.filter(a=>!a.read).map(a=>a.id);a.length>0&&F.mutate(a)},[w,F]),L=(0,d.useCallback)(a=>{G.mutate(a)},[G]),M=(0,d.useCallback)(a=>{H.mutate(a)},[H]),N=(0,d.useCallback)(a=>{I.mutate(a)},[I]),O=(0,d.useCallback)(a=>{r(b=>({...b,...a}))},[]),P=(0,d.useCallback)(()=>{r({status:["pending","sent"],types:["reminder","confirmation","cancellation"],priority:["high","medium","low"],dateRange:{start:new Date().toISOString().split("T")[0],end:new Date(Date.now()+6048e5).toISOString().split("T")[0]}})},[]),Q=(0,d.useCallback)(a=>w?w.filter(b=>b.type===a):[],[w]),R=(0,d.useCallback)(a=>w?w.filter(b=>b.priority===a):[],[w]),S=(0,d.useCallback)(()=>w?w.filter(a=>!a.read):[],[w]),T=(0,d.useCallback)((a=24)=>{if(!w)return[];let b=new Date(Date.now()-60*a*6e4);return w.filter(a=>new Date(a.createdAt)>b)},[w]),U=(0,d.useCallback)(()=>s>0,[s]),V=(0,d.useCallback)(async(a,b,c)=>{try{await i.u.createAppointmentReminder(a,b,c),p.invalidateQueries({queryKey:[j.notifications]}),h.o.success("Lembrete criado com sucesso!")}catch(b){let a=b.response?.data?.detail||"Erro ao criar lembrete";h.o.error(a)}},[p]),W=(0,d.useCallback)(async a=>{try{await i.u.cancelAppointmentReminder(a),p.invalidateQueries({queryKey:[j.notifications]}),h.o.success("Lembrete cancelado com sucesso!")}catch(b){let a=b.response?.data?.detail||"Erro ao cancelar lembrete";h.o.error(a)}},[p]),X=(0,d.useCallback)(()=>{p.invalidateQueries({queryKey:[j.notifications]}),p.invalidateQueries({queryKey:[j.stats]})},[p]),Y=(0,d.useCallback)((a="push")=>{N({type:"test",title:"Notifica\xe7\xe3o de Teste",message:"Esta \xe9 uma notifica\xe7\xe3o de teste do sistema.",priority:"low",userId:b,clinicId:c})},[b,c,N]);return{notifications:w||[],settings:A,stats:D,unreadCount:s,filters:q,isConnected:u,isLoadingNotifications:x,isLoadingSettings:B,isLoadingStats:E,isLoading:x||B||E,isMarkingAsRead:F.isPending,isDeleting:G.isPending,isUpdatingSettings:H.isPending,isSending:I.isPending,notificationsError:y,settingsError:C,error:y||C,markAsRead:J,markAllAsRead:K,deleteNotification:L,updateSettings:M,sendNotification:N,createReminder:V,cancelReminder:W,testNotification:Y,updateFilters:O,clearFilters:P,getNotificationsByType:Q,getNotificationsByPriority:R,getUnreadNotifications:S,getRecentNotifications:T,hasUnreadNotifications:U,refresh:X,refetchNotifications:z}}},31546:(a,b,c)=>{"use strict";c.d(b,{Sidebar:()=>F});var d=c(60687),e=c(85814),f=c.n(e),g=c(16189),h=c(43210),i=c(96241),j=c(32192),k=c(41312),l=c(40228),m=c(5263),n=c(10022),o=c(53411),p=c(85778),q=c(24961),r=c(25541),s=c(27235),t=c(20835),u=c(93508),v=c(58559),w=c(84027),x=c(47033),y=c(11860),z=c(40083),A=c(24934),B=c(3387),C=c(48622),D=c(41255);let E=[{name:"Dashboard",href:"/dashboard",icon:j.A},{name:"Pacientes",href:"/dashboard/patients",icon:k.A},{name:"Consultas",href:"/dashboard/appointments",icon:l.A},{name:"Leitos",href:"/dashboard/beds",icon:m.A},{name:"Prontu\xe1rios",href:"/dashboard/records",icon:n.A},{name:"Relat\xf3rios",href:"/dashboard/reports",icon:o.A},{name:"Financeiro",href:"/dashboard/billing",icon:p.A},{name:"Integra\xe7\xe3o Faturamento",href:"/billing/appointments",icon:q.A},{name:"BI Dashboard",href:"/bi",icon:r.A},{name:"BI Analytics",href:"/bi/analytics",icon:s.A},{name:"BI M\xe9tricas",href:"/bi/metrics",icon:t.A},{name:"BI Pacientes",href:"/bi/patients",icon:u.A},{name:"Atividades",href:"/dashboard/activities",icon:v.A},{name:"Configura\xe7\xf5es",href:"/dashboard/settings",icon:w.A}];function F({isCollapsed:a=!1,onToggle:b,isMobile:c=!1,isOpen:e=!1,onClose:j}){let k=(0,g.usePathname)(),{logoutAndRedirect:l}=(0,C.As)(),[m,n]=(0,h.useState)(!1),{containerRef:o}=(0,D.JZ)({itemCount:E.length+1,orientation:"vertical",loop:!0}),p=async()=>{await l()},q=()=>{c&&j&&j()};if(!m)return null;let r=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:(0,i.cn)("flex items-center h-16 px-4 border-b border-gray-200 dark:border-gray-700",a?"justify-center":"justify-between"),children:[(0,d.jsxs)("div",{className:(0,i.cn)("flex items-center space-x-2",a&&"justify-center"),children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",role:"img","aria-label":"Logo DataCl\xednica",children:(0,d.jsx)(v.A,{className:"w-5 h-5 text-white"})}),!a&&(0,d.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-white whitespace-nowrap",children:"DataCl\xednica"})]}),!c&&b&&(0,d.jsx)(A.$,{variant:"ghost",size:"sm",onClick:b,className:(0,i.cn)("p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",a&&"hidden"),"aria-label":a?"Expandir sidebar":"Recolher sidebar","aria-expanded":!a,children:(0,d.jsx)(x.A,{className:"h-4 w-4","aria-hidden":"true"})}),c&&j&&(0,d.jsx)(A.$,{variant:"ghost",size:"sm",onClick:j,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Fechar menu",children:(0,d.jsx)(y.A,{className:"h-4 w-4","aria-hidden":"true"})})]}),(0,d.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",role:"list",children:E.map((b,c)=>{let e=k===b.href;return(0,d.jsxs)(f(),{href:b.href,onClick:q,className:(0,i.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors group relative","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","keyboard-user:focus:ring-2 keyboard-user:focus:ring-blue-500",e?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",a&&"justify-center"),title:a?b.name:void 0,role:"listitem","data-keyboard-nav":!0,tabIndex:-1,"aria-current":e?"page":void 0,"aria-label":`${b.name}${e?" (p\xe1gina atual)":""}`,children:[(0,d.jsx)(b.icon,{className:(0,i.cn)("w-5 h-5 flex-shrink-0",a?"":"mr-3"),"aria-hidden":"true"}),!a&&(0,d.jsx)("span",{className:"whitespace-nowrap",children:b.name}),a&&(0,d.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:b.name})]},b.name)})}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,d.jsx)(B.hk,{onConfirm:p,children:(0,d.jsxs)(A.$,{variant:"ghost",className:(0,i.cn)("w-full text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 group relative","focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","keyboard-user:focus:ring-2 keyboard-user:focus:ring-red-500",a?"justify-center px-3":"justify-start"),title:a?"Sair":void 0,"data-keyboard-nav":!0,tabIndex:-1,"aria-label":"Sair do sistema",children:[(0,d.jsx)(z.A,{className:(0,i.cn)("w-5 h-5 flex-shrink-0",a?"":"mr-3"),"aria-hidden":"true"}),!a&&(0,d.jsx)("span",{children:"Sair"}),a&&(0,d.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:"Sair"})]})})})]});return c?(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:j,"aria-hidden":"true"}),(0,d.jsx)("div",{ref:o,className:(0,i.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:hidden","focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",e?"translate-x-0":"-translate-x-full"),role:"navigation","aria-label":"Menu de navega\xe7\xe3o principal",children:(0,d.jsx)("div",{className:"flex flex-col h-full",children:r})})]}):(0,d.jsx)("div",{ref:o,className:(0,i.cn)("flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out hidden lg:flex","focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",a?"w-16":"w-64"),role:"navigation","aria-label":a?"Menu de navega\xe7\xe3o (recolhido)":"Menu de navega\xe7\xe3o principal",children:r})}},41255:(a,b,c)=>{"use strict";c.d(b,{JZ:()=>e});var d=c(43210);function e({itemCount:a,onSelect:b,isOpen:c=!0,loop:e=!0,orientation:f="vertical"}){let g=(0,d.useRef)(-1),h=(0,d.useRef)(null),i=(0,d.useCallback)(b=>{b<0?g.current=e?a-1:0:b>=a?g.current=e?0:a-1:g.current=b;let c=h.current;c&&c.querySelectorAll('[role="option"], [role="menuitem"], [data-keyboard-nav]').forEach((a,b)=>{b===g.current?(a.setAttribute("aria-selected","true"),a.setAttribute("tabindex","0"),a.focus()):(a.setAttribute("aria-selected","false"),a.setAttribute("tabindex","-1"))})},[a,e]);return(0,d.useCallback)(d=>{if(!c||0===a)return;let{key:e}=d,h="vertical"===f;switch(e){case h?"ArrowDown":"ArrowRight":d.preventDefault(),i(g.current+1);break;case h?"ArrowUp":"ArrowLeft":d.preventDefault(),i(g.current-1);break;case"Home":d.preventDefault(),i(0);break;case"End":d.preventDefault(),i(a-1);break;case"Enter":case" ":d.preventDefault(),g.current>=0&&b&&b(g.current);break;case"Escape":d.preventDefault(),g.current=-1}},[c,a,f,b,i]),{containerRef:h,activeIndex:g.current,setActiveIndex:i}}},48622:(a,b,c)=>{"use strict";c.d(b,{As:()=>f});var d=c(55350),e=c(16189);function f(){let{user:a,token:b,isAuthenticated:c,isLoading:f,requiresTwoFactor:g,sessionToken:h,login:i,register:j,logout:k,updateUser:l,checkAuth:m,forgotPassword:n,resetPassword:o,clearTwoFactorState:p}=(0,d.n)(),q=(0,e.useRouter)();(0,e.usePathname)();let r=async(a,b="/dashboard")=>{let c=await i(a);return c.success&&(c.requiresTwoFactor?q.push(`/auth/2fa/verify?sessionToken=${c.sessionToken}`):q.push(b)),c},s=async(a,b="/dashboard")=>{let c=await j(a);return c&&q.push(b),c},t=b=>!!a&&(Array.isArray(b)?b.includes(a.role):a.role===b);return{user:a,token:b,isAuthenticated:c,isLoading:f,requiresTwoFactor:g,sessionToken:h,login:i,register:j,logout:k,updateUser:l,checkAuth:m,forgotPassword:n,resetPassword:o,clearTwoFactorState:p,loginAndRedirect:r,registerAndRedirect:s,logoutAndRedirect:()=>{k(),q.push("/auth/login")},hasRole:t,isAdmin:()=>t("admin"),isDoctor:()=>t("doctor"),isReceptionist:()=>t("receptionist")}}c(43210)},55629:(a,b,c)=>{"use strict";c.d(b,{SQ:()=>m,_2:()=>n,lp:()=>o,mB:()=>p,rI:()=>k,ty:()=>l});var d=c(60687),e=c(43210),f=c(26312),g=c(14952),h=c(13964),i=c(65822),j=c(96241);let k=f.bL,l=f.l9;f.YJ,f.ZL,f.Pb,f.z6,e.forwardRef(({className:a,inset:b,children:c,...e},h)=>(0,d.jsxs)(f.ZP,{ref:h,className:(0,j.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",b&&"pl-8",a),...e,children:[c,(0,d.jsx)(g.A,{className:"ml-auto h-4 w-4"})]})).displayName=f.ZP.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.G5,{ref:c,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...b})).displayName=f.G5.displayName;let m=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.ZL,{children:(0,d.jsx)(f.UC,{ref:e,sideOffset:b,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c})}));m.displayName=f.UC.displayName;let n=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.q7,{ref:e,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",b&&"pl-8",a),...c}));n.displayName=f.q7.displayName,e.forwardRef(({className:a,children:b,checked:c,...e},g)=>(0,d.jsxs)(f.H_,{ref:g,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:c,...e,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(h.A,{className:"h-4 w-4"})})}),b]})).displayName=f.H_.displayName,e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.hN,{ref:e,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),b]})).displayName=f.hN.displayName;let o=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.JU,{ref:e,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",b&&"pl-8",a),...c}));o.displayName=f.JU.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b}));p.displayName=f.wv.displayName},60183:(a,b,c)=>{Promise.resolve().then(c.bind(c,24689)),Promise.resolve().then(c.bind(c,7356))},69327:(a,b,c)=>{"use strict";c.d(b,{F:()=>h});var d=c(60687),e=c(43210),f=c(68123),g=c(96241);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},70373:(a,b,c)=>{"use strict";c.d(b,{Avatar:()=>h,AvatarFallback:()=>j,AvatarImage:()=>i});var d=c(60687),e=c(43210),f=c(11096),g=c(96241);let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,g.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...b}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f._V,{ref:c,className:(0,g.cn)("aspect-square h-full w-full",a),...b}));i.displayName=f._V.displayName;let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.H4,{ref:c,className:(0,g.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...b}));j.displayName=f.H4.displayName},83249:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(37413),e=c(7356),f=c(24689);function g({children:a}){return(0,d.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,d.jsx)(e.Sidebar,{}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,d.jsx)(f.Header,{}),(0,d.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 dark:bg-gray-900 p-6",children:a})]})]})}},88207:(a,b,c)=>{Promise.resolve().then(c.bind(c,4300)),Promise.resolve().then(c.bind(c,31546))},95033:(a,b,c)=>{"use strict";c.d(b,{$v:()=>q,EO:()=>m,Lt:()=>i,Rx:()=>r,Zr:()=>s,ck:()=>o,r7:()=>p,tv:()=>j,wd:()=>n});var d=c(60687),e=c(43210),f=c(97895),g=c(96241),h=c(24934);let i=f.bL,j=f.l9,k=f.ZL,l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b,ref:c}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsx)(f.UC,{ref:c,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...b})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...b});n.displayName="AlertDialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="AlertDialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,g.cn)("text-lg font-semibold",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,g.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName;let r=e.forwardRef(({className:a,variant:b,size:c,...e},i)=>(0,d.jsx)(f.rc,{ref:i,className:(0,g.cn)((0,h.r)({variant:b,size:c}),a),...e}));r.displayName=f.rc.displayName;let s=e.forwardRef(({className:a,variant:b="outline",size:c,...e},i)=>(0,d.jsx)(f.ZD,{ref:i,className:(0,g.cn)((0,h.r)({variant:b,size:c}),"mt-2 sm:mt-0",a),...e}));s.displayName=f.ZD.displayName}};