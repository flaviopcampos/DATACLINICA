"use strict";exports.id=5279,exports.ids=[5279],exports.modules={55192:(a,b,c)=>{c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},63974:(a,b,c)=>{c.d(b,{bq:()=>m,eb:()=>q,gC:()=>p,l6:()=>k,yv:()=>l});var d=c(60687),e=c(43210),f=c(22670),g=c(78272),h=c(3589),i=c(13964),j=c(96241);let k=f.bL;f.YJ;let l=f.WT,m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.l9,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.In,{asChild:!0,children:(0,d.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=f.l9.displayName;let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.PP,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"h-4 w-4"})}));n.displayName=f.PP.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wn,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(g.A,{className:"h-4 w-4"})}));o.displayName=f.wn.displayName;let p=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.ZL,{children:(0,d.jsxs)(f.UC,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(n,{}),(0,d.jsx)(f.LM,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(o,{})]})}));p.displayName=f.UC.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.JU,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.JU.displayName;let q=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.q7,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(i.A,{className:"h-4 w-4"})})}),(0,d.jsx)(f.p4,{children:b})]}));q.displayName=f.q7.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.wv.displayName},71463:(a,b,c)=>{c.d(b,{E:()=>f});var d=c(60687),e=c(96241);function f({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("animate-pulse rounded-md bg-muted",a),...b})}},88063:(a,b,c)=>{c.d(b,{Q:()=>j});var d=c(31074),e=c(51423),f=c(54050),g=c(52581),h=c(48459);let i={appointments:"appointments",appointment:"appointment",stats:"appointment-stats",calendar:"appointment-calendar"};function j(a={}){let{filters:b,page:c=1,per_page:k=20,auto_refresh:l=!1,refresh_interval:m=3e4}=a,n=(0,d.jE)(),{data:o,isLoading:p,error:q,refetch:r,isFetching:s}=(0,e.I)({queryKey:[i.appointments,b,c,k],queryFn:()=>h.u.getAppointments(b,c,k),refetchInterval:!!l&&m,staleTime:3e5,gcTime:6e5}),t=(0,f.n)({mutationFn:a=>h.u.createAppointment(a),onSuccess:a=>{n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.stats]}),n.invalidateQueries({queryKey:[i.calendar]}),n.setQueryData([i.appointment,a.id],a),g.o.success("Agendamento criado com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao criar agendamento";g.o.error(b)}}),u=(0,f.n)({mutationFn:({id:a,data:b})=>h.u.updateAppointment(a,b),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Agendamento atualizado com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao atualizar agendamento";g.o.error(b)}}),v=(0,f.n)({mutationFn:({id:a,reason:b})=>h.u.cancelAppointment(a,b),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.stats]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Agendamento cancelado com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao cancelar agendamento";g.o.error(b)}}),w=(0,f.n)({mutationFn:a=>h.u.confirmAppointment(a),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Agendamento confirmado com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao confirmar agendamento";g.o.error(b)}}),x=(0,f.n)({mutationFn:a=>h.u.startAppointment(a),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Consulta iniciada!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao iniciar consulta";g.o.error(b)}}),y=(0,f.n)({mutationFn:a=>h.u.completeAppointment(a),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.stats]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Consulta finalizada com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao finalizar consulta";g.o.error(b)}}),z=(0,f.n)({mutationFn:a=>h.u.markNoShow(a),onSuccess:a=>{n.setQueryData([i.appointment,a.id],a),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.stats]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Agendamento marcado como falta!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao marcar falta";g.o.error(b)}}),A=(0,f.n)({mutationFn:a=>h.u.deleteAppointment(a),onSuccess:(a,b)=>{n.removeQueries({queryKey:[i.appointment,b]}),n.invalidateQueries({queryKey:[i.appointments]}),n.invalidateQueries({queryKey:[i.stats]}),n.invalidateQueries({queryKey:[i.calendar]}),g.o.success("Agendamento exclu\xeddo com sucesso!")},onError:a=>{let b=a.response?.data?.detail||"Erro ao excluir agendamento";g.o.error(b)}}),B=async(a,b)=>{try{return await h.u.searchAppointments(a,b)}catch(b){let a=b.response?.data?.detail||"Erro na busca";throw g.o.error(a),b}},C=async a=>{try{let b=await h.u.exportAppointments(a),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`agendamentos_${new Date().toISOString().split("T")[0]}.${a.format}`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c),g.o.success("Relat\xf3rio exportado com sucesso!")}catch(b){let a=b.response?.data?.detail||"Erro ao exportar relat\xf3rio";g.o.error(a)}};return{appointments:o?.appointments||[],total:o?.total||0,totalPages:o?.total_pages||0,currentPage:c,perPage:k,isLoading:p,isFetching:s,isCreating:t.isPending,isUpdating:u.isPending,isCancelling:v.isPending,isConfirming:w.isPending,isStarting:x.isPending,isCompleting:y.isPending,isMarkingNoShow:z.isPending,isDeleting:A.isPending,error:q,createError:t.error,updateError:u.error,createAppointment:t.mutate,updateAppointment:(a,b)=>u.mutate({id:a,data:b}),cancelAppointment:(a,b)=>v.mutate({id:a,reason:b}),confirmAppointment:w.mutate,startAppointment:x.mutate,completeAppointment:y.mutate,markNoShow:z.mutate,deleteAppointment:A.mutate,searchAppointments:B,exportAppointments:C,updateFilters:a=>{n.invalidateQueries({queryKey:[i.appointments,a,c,k]})},refresh:()=>{n.invalidateQueries({queryKey:[i.appointments]})},refetch:r}}}};