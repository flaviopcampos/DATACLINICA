"use strict";exports.id=2257,exports.ids=[2257],exports.modules={1088:(a,b,c)=>{c.d(b,{Qe:()=>F,NV:()=>ao,ZN:()=>ab});var d=c(60687),e=c(43210),f=c(55192),g=c(24934),h=c(59821),i=c(48482),j=c(2041),k=c(85168),l=c(27747),m=c(9920),n=c(38246),o=c(57359),p=c(90812),q=c(61678),r=c(50326),s=c(61855),t=c(49481),u=c(88032),v=c(69206),w=c(25679),x=c(78122),y=c(5748),z=c(25541),A=c(12640),B=c(84027),C=c(79351),D=c(31158);let E=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6B7280"],F=function({title:a,description:b,data:c,config:F,loading:G=!1,error:H,onExport:I,onRefresh:J,onConfigure:K,onExpand:L,showControls:M=!0,height:N=300,className:O=""}){let P=(0,e.useMemo)(()=>c&&0!==c.length?"pie"===F.type?c.map((a,b)=>({...a,fill:E[b%E.length]})):c:[],[c,F.type]),Q=(a,b)=>{if("number"!=typeof a)return a;if(F.formatters&&F.formatters[b||""]){let c=F.formatters[b||""];if("currency"===c.type)return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a);if("percentage"===c.type)return`${a.toFixed(1)}%`;if("number"===c.type)return new Intl.NumberFormat("pt-BR").format(a)}return a},R=({active:a,payload:b,label:c})=>a&&b&&b.length?(0,d.jsxs)("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[(0,d.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:c}),b.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,d.jsxs)("span",{className:"text-gray-600",children:[a.dataKey,":"]}),(0,d.jsx)("span",{className:"font-medium",children:Q(a.value,a.dataKey)})]},b))]}):null,S=(()=>{if(!P||P.length<2||"pie"===F.type)return null;let a=F.yAxisKey||"value",b=P[0][a],c=P[P.length-1][a];if("number"!=typeof b||"number"!=typeof c)return null;let e=(c-b)/b*100;return .1>Math.abs(e)?{icon:(0,d.jsx)(y.A,{className:"h-4 w-4"}),text:"Est\xe1vel",color:"text-gray-500"}:e>0?{icon:(0,d.jsx)(z.A,{className:"h-4 w-4"}),text:`+${e.toFixed(1)}%`,color:"text-green-600"}:{icon:(0,d.jsx)(A.A,{className:"h-4 w-4"}),text:`${e.toFixed(1)}%`,color:"text-red-600"}})();return(0,d.jsxs)(f.Zp,{className:O,children:[(0,d.jsx)(f.aR,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(f.ZB,{className:"text-lg",children:a}),S&&(0,d.jsxs)(h.E,{variant:"outline",className:`${S.color} border-current`,children:[S.icon,(0,d.jsx)("span",{className:"ml-1",children:S.text})]})]}),b&&(0,d.jsx)(f.BT,{className:"mt-1",children:b})]}),M&&(0,d.jsxs)("div",{className:"flex gap-1",children:[J&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:J,children:(0,d.jsx)(x.A,{className:"h-4 w-4"})}),K&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:K,children:(0,d.jsx)(B.A,{className:"h-4 w-4"})}),L&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:L,children:(0,d.jsx)(C.A,{className:"h-4 w-4"})}),I&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:()=>I("png"),children:(0,d.jsx)(D.A,{className:"h-4 w-4"})})]})]})}),(0,d.jsx)(f.Wu,{className:"pt-0",children:(0,d.jsx)("div",{style:{height:N+"px"},children:(()=>{if(G)return(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,d.jsx)(x.A,{className:"h-5 w-5 animate-spin"}),(0,d.jsx)("span",{children:"Carregando dados..."})]})});if(H)return(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsxs)("div",{className:"text-center text-red-600",children:[(0,d.jsx)("p",{className:"font-medium mb-2",children:"Erro ao carregar dados"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:H}),J&&(0,d.jsxs)(g.$,{size:"sm",variant:"outline",onClick:J,className:"mt-3",children:[(0,d.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Tentar novamente"]})]})});if(!P||0===P.length)return(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsxs)("div",{className:"text-center text-gray-500",children:[(0,d.jsx)("p",{className:"font-medium mb-2",children:"Nenhum dado dispon\xedvel"}),(0,d.jsx)("p",{className:"text-sm",children:"N\xe3o h\xe1 dados para exibir neste per\xedodo"})]})});let a={data:P,margin:{top:5,right:30,left:20,bottom:5}};switch(F.type){case"bar":return(0,d.jsx)(i.u,{width:"100%",height:N,children:(0,d.jsxs)(j.E,{...a,children:[(0,d.jsx)(k.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,d.jsx)(l.W,{dataKey:F.xAxisKey||"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,d.jsx)(m.h,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:a=>Q(a,F.yAxisKey)}),(0,d.jsx)(n.m,{content:(0,d.jsx)(R,{})}),F.showLegend&&(0,d.jsx)(o.s,{}),F.series?.map((a,b)=>(0,d.jsx)(p.y,{dataKey:a.key,fill:a.color||E[b%E.length],name:a.name||a.key,radius:[2,2,0,0]},a.key))||(0,d.jsx)(p.y,{dataKey:F.yAxisKey||"value",fill:E[0],radius:[2,2,0,0]})]})});case"line":return(0,d.jsx)(i.u,{width:"100%",height:N,children:(0,d.jsxs)(q.b,{...a,children:[(0,d.jsx)(k.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,d.jsx)(l.W,{dataKey:F.xAxisKey||"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,d.jsx)(m.h,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:a=>Q(a,F.yAxisKey)}),(0,d.jsx)(n.m,{content:(0,d.jsx)(R,{})}),F.showLegend&&(0,d.jsx)(o.s,{}),F.series?.map((a,b)=>(0,d.jsx)(r.N,{type:"monotone",dataKey:a.key,stroke:a.color||E[b%E.length],name:a.name||a.key,strokeWidth:2,dot:{r:4},activeDot:{r:6}},a.key))||(0,d.jsx)(r.N,{type:"monotone",dataKey:F.yAxisKey||"value",stroke:E[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})});case"area":return(0,d.jsx)(i.u,{width:"100%",height:N,children:(0,d.jsxs)(s.Q,{...a,children:[(0,d.jsx)(k.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,d.jsx)(l.W,{dataKey:F.xAxisKey||"name",tick:{fontSize:12},stroke:"#6b7280"}),(0,d.jsx)(m.h,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:a=>Q(a,F.yAxisKey)}),(0,d.jsx)(n.m,{content:(0,d.jsx)(R,{})}),F.showLegend&&(0,d.jsx)(o.s,{}),F.series?.map((a,b)=>(0,d.jsx)(t.G,{type:"monotone",dataKey:a.key,stackId:"1",stroke:a.color||E[b%E.length],fill:a.color||E[b%E.length],fillOpacity:.6,name:a.name||a.key},a.key))||(0,d.jsx)(t.G,{type:"monotone",dataKey:F.yAxisKey||"value",stroke:E[0],fill:E[0],fillOpacity:.6})]})});case"pie":return(0,d.jsx)(i.u,{width:"100%",height:N,children:(0,d.jsxs)(u.r,{children:[(0,d.jsx)(v.F,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:b})=>`${a} ${(100*b).toFixed(0)}%`,outerRadius:Math.min(.35*N,120),fill:"#8884d8",dataKey:F.yAxisKey||"value",children:P.map((a,b)=>(0,d.jsx)(w.f,{fill:E[b%E.length]},`cell-${b}`))}),(0,d.jsx)(n.m,{formatter:(a,b)=>[Q(a,b),b]}),F.showLegend&&(0,d.jsx)(o.s,{})]})});default:return(0,d.jsxs)("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Tipo de gr\xe1fico n\xe3o suportado: ",F.type]})}})()})})]})};var G=c(68988),H=c(39390),I=c(63974),J=c(33135),K=c(56924),L=c(80462),M=c(78272),N=c(13943),O=c(3589),P=c(99270),Q=c(40228),R=c(11860),S=c(53201),T=c(51443),U=c(59192),V=c(27272),W=c(48597),X=c(85650),Y=c(882);let Z=[{label:"Hoje",getValue:()=>({startDate:new Date,endDate:new Date})},{label:"\xdaltimos 7 dias",getValue:()=>({startDate:(0,S.e)(new Date,6),endDate:new Date})},{label:"\xdaltimos 30 dias",getValue:()=>({startDate:(0,S.e)(new Date,29),endDate:new Date})},{label:"Este m\xeas",getValue:()=>({startDate:(0,T.w)(new Date),endDate:(0,U.p)(new Date)})},{label:"Este ano",getValue:()=>({startDate:(0,V.D)(new Date),endDate:(0,W.Q)(new Date)})}],$=[{value:"financial",label:"Financeiro"},{value:"operational",label:"Operacional"},{value:"patient",label:"Pacientes"},{value:"inventory",label:"Estoque"},{value:"hr",label:"Recursos Humanos"}],_=[{value:"revenue",label:"Receitas"},{value:"expenses",label:"Despesas"},{value:"billing",label:"Faturamento"},{value:"beds",label:"Leitos"},{value:"prescriptions",label:"Prescri\xe7\xf5es"},{value:"appointments",label:"Consultas"}],aa=[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"pending",label:"Pendente"},{value:"completed",label:"Conclu\xeddo"},{value:"cancelled",label:"Cancelado"}],ab=function({filters:a,onFiltersChange:b,onApplyFilters:c,onClearFilters:i,loading:j=!1,collapsed:k=!1,onToggleCollapse:l,availableTypes:m=$,availableCategories:n=_,availableStatuses:o=aa,className:p=""}){let q,[r,s]=(0,e.useState)(a),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),x=(a,c)=>{let d={...r,[a]:c};s(d),b(d)},y=()=>{let a={startDate:void 0,endDate:void 0,type:void 0,category:void 0,status:void 0,search:"",tags:[]};s(a),b(a),i()},z=(q=0,r.startDate&&q++,r.endDate&&q++,r.type&&q++,r.category&&q++,r.status&&q++,r.search&&q++,r.tags&&r.tags.length>0&&q++,q);return k?(0,d.jsx)(f.Zp,{className:p,children:(0,d.jsx)(f.aR,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{className:"h-5 w-5 text-gray-600"}),(0,d.jsx)(f.ZB,{className:"text-base",children:"Filtros"}),z>0&&(0,d.jsx)(h.E,{variant:"secondary",className:"text-xs",children:z})]}),l&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:l,children:(0,d.jsx)(M.A,{className:"h-4 w-4"})})]})})}):(0,d.jsxs)(f.Zp,{className:p,children:[(0,d.jsx)(f.aR,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(L.A,{className:"h-5 w-5 text-gray-600"}),(0,d.jsx)(f.ZB,{className:"text-base",children:"Filtros Avan\xe7ados"}),z>0&&(0,d.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:[z," ativo",1!==z?"s":""]})]}),(0,d.jsxs)("div",{className:"flex gap-1",children:[z>0&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:y,children:(0,d.jsx)(N.A,{className:"h-4 w-4"})}),l&&(0,d.jsx)(g.$,{size:"sm",variant:"ghost",onClick:l,children:(0,d.jsx)(O.A,{className:"h-4 w-4"})})]})]})}),(0,d.jsxs)(f.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"search",children:"Buscar"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(P.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,d.jsx)(G.p,{id:"search",placeholder:"Buscar relat\xf3rios...",value:r.search||"",onChange:a=>x("search",a.target.value),className:"pl-10"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(H.Label,{children:"Per\xedodo"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.map(a=>(0,d.jsx)(g.$,{size:"sm",variant:"outline",onClick:()=>(a=>{let c=a.getValue(),d={...r,startDate:c.startDate,endDate:c.endDate};s(d),b(d)})(a),className:"text-xs",children:a.label},a.label))}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"start-date",children:"Data inicial"}),(0,d.jsxs)(J.AM,{open:t,onOpenChange:u,children:[(0,d.jsx)(J.Wv,{asChild:!0,children:(0,d.jsxs)(g.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,d.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),r.startDate?(0,X.GP)(r.startDate,"dd/MM/yyyy",{locale:Y.F}):(0,d.jsx)("span",{className:"text-gray-500",children:"Selecionar"})]})}),(0,d.jsx)(J.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(K.V,{mode:"single",selected:r.startDate,onSelect:a=>{x("startDate",a),u(!1)},disabled:a=>a>new Date||r.endDate&&a>r.endDate,initialFocus:!0})})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"end-date",children:"Data final"}),(0,d.jsxs)(J.AM,{open:v,onOpenChange:w,children:[(0,d.jsx)(J.Wv,{asChild:!0,children:(0,d.jsxs)(g.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,d.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),r.endDate?(0,X.GP)(r.endDate,"dd/MM/yyyy",{locale:Y.F}):(0,d.jsx)("span",{className:"text-gray-500",children:"Selecionar"})]})}),(0,d.jsx)(J.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(K.V,{mode:"single",selected:r.endDate,onSelect:a=>{x("endDate",a),w(!1)},disabled:a=>a>new Date||r.startDate&&a<r.startDate,initialFocus:!0})})]})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"type",children:"Tipo"}),(0,d.jsxs)(I.l6,{value:r.type||"",onValueChange:a=>x("type",a||void 0),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{placeholder:"Todos os tipos"})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"",children:"Todos os tipos"}),m.map(a=>(0,d.jsx)(I.eb,{value:a.value,children:a.label},a.value))]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"category",children:"Categoria"}),(0,d.jsxs)(I.l6,{value:r.category||"",onValueChange:a=>x("category",a||void 0),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{placeholder:"Todas as categorias"})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"",children:"Todas as categorias"}),n.map(a=>(0,d.jsx)(I.eb,{value:a.value,children:a.label},a.value))]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"status",children:"Status"}),(0,d.jsxs)(I.l6,{value:r.status||"",onValueChange:a=>x("status",a||void 0),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{placeholder:"Todos os status"})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"",children:"Todos os status"}),o.map(a=>(0,d.jsx)(I.eb,{value:a.value,children:a.label},a.value))]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"tags",children:"Tags"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(G.p,{placeholder:"Adicionar tag...",onKeyPress:a=>{if("Enter"===a.key){var b;(b=a.currentTarget.value).trim()&&!r.tags?.includes(b.trim())&&x("tags",[...r.tags||[],b.trim()]),a.currentTarget.value=""}}}),r.tags&&r.tags.length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map(a=>(0,d.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:[a,(0,d.jsx)("button",{onClick:()=>{x("tags",r.tags?.filter(b=>b!==a)||[])},className:"ml-1 hover:text-red-600",children:(0,d.jsx)(R.A,{className:"h-3 w-3"})})]},a))})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,d.jsx)(g.$,{onClick:c,disabled:j,className:"flex-1",children:j?"Aplicando...":"Aplicar Filtros"}),z>0&&(0,d.jsx)(g.$,{variant:"outline",onClick:y,children:"Limpar"})]})]})]})};var ac=c(55629),ad=c(37826),ae=c(93437),af=c(23562),ag=c(10022),ah=c(37911),ai=c(9005),aj=c(41862),ak=c(5336),al=c(93613);let am={pdf:{icon:(0,d.jsx)(ag.A,{className:"h-4 w-4"}),label:"PDF",description:"Documento port\xe1til para visualiza\xe7\xe3o e impress\xe3o",color:"text-red-600"},excel:{icon:(0,d.jsx)(ah.A,{className:"h-4 w-4"}),label:"Excel",description:"Planilha para an\xe1lise e edi\xe7\xe3o de dados",color:"text-green-600"},csv:{icon:(0,d.jsx)(ah.A,{className:"h-4 w-4"}),label:"CSV",description:"Dados separados por v\xedrgula para importa\xe7\xe3o",color:"text-blue-600"},png:{icon:(0,d.jsx)(ai.A,{className:"h-4 w-4"}),label:"PNG",description:"Imagem para apresenta\xe7\xf5es e relat\xf3rios",color:"text-purple-600"}},an={includeCharts:!0,includeData:!0,includeFilters:!0,orientation:"portrait",pageSize:"A4",quality:"high",dateRange:!0,summary:!0},ao=function({onExport:a,loading:b=!1,disabled:c=!1,size:f="default",variant:h="default",showProgress:i=!1,progress:j=0,availableFormats:k=["pdf","excel","csv","png"],defaultFormat:l="pdf",showAdvancedOptions:m=!0,className:n=""}){let[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(l),[s,t]=(0,e.useState)(an),[u,v]=(0,e.useState)(!1),[w,x]=(0,e.useState)("idle"),y=async d=>{if(!c&&!b){v(!0),x("idle");try{await a(d,an),x("success")}catch(a){x("error")}finally{v(!1)}}},z=async()=>{if(!c&&!b){v(!0),x("idle");try{await a(q,s),x("success"),p(!1)}catch(a){x("error")}finally{v(!1)}}},A=(a,b)=>{t(c=>({...c,[a]:b}))},C=()=>u||b?(0,d.jsx)(aj.A,{className:"h-4 w-4 animate-spin"}):"success"===w?(0,d.jsx)(ak.A,{className:"h-4 w-4 text-green-600"}):"error"===w?(0,d.jsx)(al.A,{className:"h-4 w-4 text-red-600"}):(0,d.jsx)(D.A,{className:"h-4 w-4"}),E=()=>u||b?"Exportando...":"success"===w?"Exportado!":"error"===w?"Erro na exporta\xe7\xe3o":"Exportar";return m||1!==k.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(ac.rI,{children:[(0,d.jsx)(ac.ty,{asChild:!0,children:(0,d.jsxs)(g.$,{size:f,variant:h,disabled:c||u||b,className:n,children:[C(),(0,d.jsx)("span",{className:"ml-2",children:E()}),(0,d.jsx)(M.A,{className:"ml-1 h-4 w-4"})]})}),(0,d.jsxs)(ac.SQ,{align:"end",className:"w-56",children:[(0,d.jsx)(ac.lp,{children:"Exporta\xe7\xe3o R\xe1pida"}),(0,d.jsx)(ac.mB,{}),k.map(a=>{let c=am[a];return(0,d.jsxs)(ac._2,{onClick:()=>y(a),disabled:u||b,className:"cursor-pointer",children:[(0,d.jsx)("div",{className:c.color,children:c.icon}),(0,d.jsxs)("div",{className:"ml-2",children:[(0,d.jsx)("div",{className:"font-medium",children:c.label}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:c.description})]})]},a)}),m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ac.mB,{}),(0,d.jsxs)(ac._2,{onClick:()=>p(!0),disabled:u||b,className:"cursor-pointer",children:[(0,d.jsx)(B.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"ml-2",children:"Op\xe7\xf5es Avan\xe7adas"})]})]})]})]}),(0,d.jsx)(ad.lG,{open:o,onOpenChange:p,children:(0,d.jsxs)(ad.Cf,{className:"sm:max-w-[500px]",children:[(0,d.jsxs)(ad.c7,{children:[(0,d.jsx)(ad.L3,{children:"Op\xe7\xf5es de Exporta\xe7\xe3o"}),(0,d.jsx)(ad.rr,{children:"Configure as op\xe7\xf5es detalhadas para exporta\xe7\xe3o do relat\xf3rio."})]}),(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"format",children:"Formato"}),(0,d.jsxs)(I.l6,{value:q,onValueChange:a=>r(a),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{})}),(0,d.jsx)(I.gC,{children:k.map(a=>{let b=am[a];return(0,d.jsx)(I.eb,{value:a,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:b.color,children:b.icon}),(0,d.jsx)("span",{children:b.label})]})},a)})})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(H.Label,{children:"Conte\xfado"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(ae.S,{id:"include-charts",checked:s.includeCharts,onCheckedChange:a=>A("includeCharts",a)}),(0,d.jsx)(H.Label,{htmlFor:"include-charts",className:"text-sm font-normal",children:"Incluir gr\xe1ficos"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(ae.S,{id:"include-data",checked:s.includeData,onCheckedChange:a=>A("includeData",a)}),(0,d.jsx)(H.Label,{htmlFor:"include-data",className:"text-sm font-normal",children:"Incluir dados tabulares"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(ae.S,{id:"include-filters",checked:s.includeFilters,onCheckedChange:a=>A("includeFilters",a)}),(0,d.jsx)(H.Label,{htmlFor:"include-filters",className:"text-sm font-normal",children:"Incluir filtros aplicados"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(ae.S,{id:"include-summary",checked:s.summary,onCheckedChange:a=>A("summary",a)}),(0,d.jsx)(H.Label,{htmlFor:"include-summary",className:"text-sm font-normal",children:"Incluir resumo executivo"})]})]})]}),"pdf"===q&&(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"orientation",children:"Orienta\xe7\xe3o"}),(0,d.jsxs)(I.l6,{value:s.orientation,onValueChange:a=>A("orientation",a),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"portrait",children:"Retrato"}),(0,d.jsx)(I.eb,{value:"landscape",children:"Paisagem"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"page-size",children:"Tamanho da p\xe1gina"}),(0,d.jsxs)(I.l6,{value:s.pageSize,onValueChange:a=>A("pageSize",a),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"A4",children:"A4"}),(0,d.jsx)(I.eb,{value:"A3",children:"A3"}),(0,d.jsx)(I.eb,{value:"Letter",children:"Carta"})]})]})]})]}),"png"===q&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(H.Label,{htmlFor:"quality",children:"Qualidade"}),(0,d.jsxs)(I.l6,{value:s.quality,onValueChange:a=>A("quality",a),children:[(0,d.jsx)(I.bq,{children:(0,d.jsx)(I.yv,{})}),(0,d.jsxs)(I.gC,{children:[(0,d.jsx)(I.eb,{value:"low",children:"Baixa (r\xe1pido)"}),(0,d.jsx)(I.eb,{value:"medium",children:"M\xe9dia"}),(0,d.jsx)(I.eb,{value:"high",children:"Alta (melhor qualidade)"})]})]})]}),i&&(u||b)&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Progresso da exporta\xe7\xe3o"}),(0,d.jsxs)("span",{children:[j,"%"]})]}),(0,d.jsx)(af.k,{value:j,className:"h-2"})]}),"idle"!==w&&(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-md bg-gray-50",children:["success"===w&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ak.A,{className:"h-5 w-5 text-green-600"}),(0,d.jsx)("span",{className:"text-sm text-green-800",children:"Exporta\xe7\xe3o conclu\xedda com sucesso!"})]}),"error"===w&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(al.A,{className:"h-5 w-5 text-red-600"}),(0,d.jsx)("span",{className:"text-sm text-red-800",children:"Erro durante a exporta\xe7\xe3o. Tente novamente."})]})]})]}),(0,d.jsxs)(ad.Es,{children:[(0,d.jsx)(g.$,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),(0,d.jsx)(g.$,{onClick:z,disabled:u||b,children:u||b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(aj.A,{className:"h-4 w-4 animate-spin mr-2"}),"Exportando..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Exportar ",am[q].label]})})]})]})})]}):(0,d.jsxs)(g.$,{size:f,variant:h,onClick:()=>y(k[0]),disabled:c||u||b,className:n,children:[C(),(0,d.jsxs)("span",{className:"ml-2",children:[E()," ",am[k[0]].label]}),i&&(u||b)&&(0,d.jsx)("div",{className:"ml-2 w-16",children:(0,d.jsx)(af.k,{value:j,className:"h-1"})})]})}},33135:(a,b,c)=>{c.d(b,{AM:()=>h,Wv:()=>i,hl:()=>j});var d=c(60687),e=c(43210),f=c(40599),g=c(96241);let h=f.bL,i=f.l9,j=e.forwardRef(({className:a,align:b="center",sideOffset:c=4,...e},h)=>(0,d.jsx)(f.ZL,{children:(0,d.jsx)(f.UC,{ref:h,align:b,sideOffset:c,className:(0,g.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...e})}));j.displayName=f.UC.displayName},37826:(a,b,c)=>{c.d(b,{Cf:()=>m,Es:()=>o,L3:()=>p,c7:()=>n,lG:()=>i,rr:()=>q,zM:()=>j});var d=c(60687),e=c(43210),f=c(26134),g=c(11860),h=c(96241);let i=f.bL,j=f.l9,k=f.ZL;f.bm;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});n.displayName="DialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="DialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName},56924:(a,b,c)=>{c.d(b,{V:()=>j});var d=c(60687);c(43210);var e=c(47033),f=c(14952),g=c(67189),h=c(96241),i=c(24934);function j({className:a,classNames:b,showOutsideDays:c=!0,...j}){return(0,d.jsx)(g.h,{showOutsideDays:c,className:(0,h.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,h.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,h.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...b},components:{IconLeft:({...a})=>(0,d.jsx)(e.A,{className:"h-4 w-4"}),IconRight:({...a})=>(0,d.jsx)(f.A,{className:"h-4 w-4"})},...j})}j.displayName="Calendar"},78224:(a,b,c)=>{c.d(b,{GF:()=>k,Q7:()=>i,bJ:()=>j,vc:()=>l});var d=c(4403);c(15135);var e=c(33103),f=c(85650),g=c(882);function h(a,b,c){let d=b(new Date,"yyyy-MM-dd_HH-mm-ss"),e=c||`relatorio_${a}`;return`${e}_${d}.${b}`}async function i(a,b={format:"pdf"}){let c=new d.default({orientation:b.pageOrientation||"portrait",unit:"mm",format:b.pageSize||"a4"}),e=20,j=c.internal.pageSize.getWidth();if(c.setFontSize(20),c.setFont("helvetica","bold"),c.text(a.title,20,e),e+=10,a.subtitle&&(c.setFontSize(12),c.setFont("helvetica","normal"),c.text(a.subtitle,20,e),e+=10),a.metadata){c.setFontSize(10),c.setFont("helvetica","normal");let b=`Gerado em: ${(0,f.GP)(a.metadata.generatedAt,"dd/MM/yyyy HH:mm",{locale:g.F})}`;c.text(b,20,e),e+=5,a.metadata.period&&(c.text(`Per\xedodo: ${a.metadata.period}`,20,e),e+=5)}if(e+=10,b.includeFilters&&a.filters){if(c.setFontSize(12),c.setFont("helvetica","bold"),c.text("Filtros Aplicados:",20,e),e+=8,c.setFontSize(10),c.setFont("helvetica","normal"),a.filters.startDate&&a.filters.endDate){let b=`Per\xedodo: ${(0,f.GP)(a.filters.startDate,"dd/MM/yyyy",{locale:g.F})} - ${(0,f.GP)(a.filters.endDate,"dd/MM/yyyy",{locale:g.F})}`;c.text(b,20,e),e+=5}a.filters.type&&(c.text(`Tipo: ${a.filters.type}`,20,e),e+=5),a.filters.category&&(c.text(`Categoria: ${a.filters.category}`,20,e),e+=5),e+=10}if(b.includeSummary&&a.summary&&a.summary.length>0){c.setFontSize(12),c.setFont("helvetica","bold"),c.text("Resumo Executivo:",20,e),e+=8;let b=a.summary.map(a=>[a.label,a.value]);c.autoTable({startY:e,head:[["Indicador","Valor"]],body:b,theme:"grid",headStyles:{fillColor:[66,139,202]},margin:{left:20,right:20},styles:{fontSize:10}}),e=c.lastAutoTable.finalY+15}if(a.data&&a.data.length>0){e>c.internal.pageSize.getHeight()-60&&(c.addPage(),e=20),c.setFontSize(12),c.setFont("helvetica","bold"),c.text("Dados Detalhados:",20,e),e+=8;let b=a.data,d=Object.keys(b[0]||{}),f=b.map(a=>d.map(b=>a[b]||""));c.autoTable({startY:e,head:[d],body:f,theme:"striped",headStyles:{fillColor:[66,139,202]},margin:{left:20,right:20},styles:{fontSize:9},columnStyles:{}})}let k=c.getNumberOfPages();for(let a=1;a<=k;a++)c.setPage(a),c.setFontSize(8),c.setFont("helvetica","normal"),c.text(`P\xe1gina ${a} de ${k}`,j-20-20,c.internal.pageSize.getHeight()-10),c.text("DataCl\xednica - Sistema de Gest\xe3o Hospitalar",20,c.internal.pageSize.getHeight()-10);let l=b.filename||h("relatorio","pdf");c.save(l)}async function j(a,b={format:"excel"}){let c=e.Wp.book_new();if(a.data&&a.data.length>0){let b=e.Wp.json_to_sheet(a.data);e.Wp.sheet_add_aoa(b,[[a.title]],{origin:"A1"}),a.subtitle&&e.Wp.sheet_add_aoa(b,[[a.subtitle]],{origin:"A2"});let d=4;if(a.metadata){let c=`Gerado em: ${(0,f.GP)(a.metadata.generatedAt,"dd/MM/yyyy HH:mm",{locale:g.F})}`;e.Wp.sheet_add_aoa(b,[[c]],{origin:`A${d}`}),d++,a.metadata.period&&(e.Wp.sheet_add_aoa(b,[[`Per\xedodo: ${a.metadata.period}`]],{origin:`A${d}`}),d++)}let h=d+2;e.Wp.encode_range({s:{c:0,r:h},e:{c:Object.keys(a.data[0]).length-1,r:h+a.data.length}}),e.Wp.sheet_add_json(b,a.data,{origin:`A${h+1}`,skipHeader:!1});let i=e.Wp.decode_range(b["!ref"]||"A1"),j=[];for(let a=i.s.c;a<=i.e.c;++a){let c=10;for(let d=i.s.r;d<=i.e.r;++d){let f=b[e.Wp.encode_cell({r:d,c:a})];if(f&&f.v){let a=f.v.toString().length;a>c&&(c=a)}}j.push({wch:Math.min(c+2,50)})}b["!cols"]=j,e.Wp.book_append_sheet(c,b,"Dados")}if(b.includeSummary&&a.summary&&a.summary.length>0){let b=a.summary.map(a=>({Indicador:a.label,Valor:a.value})),d=e.Wp.json_to_sheet(b);e.Wp.book_append_sheet(c,d,"Resumo")}b.includeCharts&&a.charts&&a.charts.length>0&&a.charts.forEach((a,b)=>{if(a.data&&a.data.length>0){let d=e.Wp.json_to_sheet(a.data),f=`Gr\xe1fico ${b+1}`;e.Wp.book_append_sheet(c,d,f)}});let d=b.filename||h("relatorio","xlsx");e._h(c,d)}async function k(a,b={format:"csv"}){if(!a.data||0===a.data.length)throw Error("Nenhum dado dispon\xedvel para exporta\xe7\xe3o");let c="";c+=`# ${a.title}
`,a.subtitle&&(c+=`# ${a.subtitle}
`),a.metadata&&(c+=`# Gerado em: ${(0,f.GP)(a.metadata.generatedAt,"dd/MM/yyyy HH:mm",{locale:g.F})}
`,a.metadata.period&&(c+=`# Per\xedodo: ${a.metadata.period}
`)),c+="#\n";let d=Object.keys(a.data[0]);c+=d.join(",")+"\n",a.data.forEach(a=>{let b=d.map(b=>{let c=a[b];return"string"==typeof c&&(c.includes(",")||c.includes('"')||c.includes("\n"))?`"${c.replace(/"/g,'""')}"`:c||""});c+=b.join(",")+"\n"});let e=new Blob([c],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),j=URL.createObjectURL(e);i.setAttribute("href",j),i.setAttribute("download",b.filename||h("relatorio","csv")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(j)}async function l(a,b={format:"png"}){try{let d=await c.e(4424).then(c.bind(c,94424));(await d.default(a,{backgroundColor:"#ffffff",scale:"high"===b.quality?2:"low"===b.quality?.5:1,useCORS:!0,allowTaint:!0})).toBlob(a=>{if(a){let c=document.createElement("a"),d=URL.createObjectURL(a);c.setAttribute("href",d),c.setAttribute("download",b.filename||h("grafico","png")),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(d)}},"image/png")}catch(a){throw Error("Erro ao exportar gr\xe1fico como imagem")}}},93437:(a,b,c)=>{c.d(b,{S:()=>i});var d=c(60687),e=c(43210),f=c(40211),g=c(13964),h=c(96241);let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,h.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...b,children:(0,d.jsx)(f.C1,{className:(0,h.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(g.A,{className:"h-4 w-4"})})}));i.displayName=f.bL.displayName}};