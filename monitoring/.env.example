# =============================================================================
# Variáveis de Ambiente - Sistema de Monitoramento DataClinica
# Copie este arquivo para .env e configure os valores apropriados
# =============================================================================

# =============================================================================
# Configurações Gerais
# =============================================================================

# Ambiente (development, staging, production)
ENVIRONMENT=development

# Domínio principal
DOMAIN=dataclinica.com

# Timezone
TZ=America/Sao_Paulo

# =============================================================================
# Configurações do Grafana
# =============================================================================

# Credenciais do admin
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin123
GF_SECURITY_ADMIN_EMAIL=admin@dataclinica.com

# Configurações de segurança
GF_SECURITY_SECRET_KEY=your-secret-key-here
GF_SECURITY_COOKIE_SECURE=false
GF_SECURITY_COOKIE_SAMESITE=lax

# Configurações do servidor
GF_SERVER_PROTOCOL=http
GF_SERVER_HTTP_PORT=3000
GF_SERVER_DOMAIN=localhost
GF_SERVER_ROOT_URL=http://localhost:3000

# Configurações de usuários
GF_USERS_ALLOW_SIGN_UP=false
GF_USERS_ALLOW_ORG_CREATE=false
GF_USERS_AUTO_ASSIGN_ORG=true
GF_USERS_AUTO_ASSIGN_ORG_ROLE=Viewer

# Configurações de autenticação anônima
GF_AUTH_ANONYMOUS_ENABLED=false
GF_AUTH_ANONYMOUS_ORG_NAME=DataClinica
GF_AUTH_ANONYMOUS_ORG_ROLE=Viewer

# Configurações de SMTP
GF_SMTP_ENABLED=false
GF_SMTP_HOST=smtp.gmail.com:587
GF_SMTP_USER=your-email@gmail.com
GF_SMTP_PASSWORD=your-app-password
GF_SMTP_FROM_ADDRESS=grafana@dataclinica.com
GF_SMTP_FROM_NAME=DataClinica Grafana

# Configurações de logging
GF_LOG_MODE=console,file
GF_LOG_LEVEL=info

# Configurações de métricas
GF_METRICS_ENABLED=true
GF_METRICS_INTERVAL_SECONDS=10

# =============================================================================
# Configurações do Prometheus
# =============================================================================

# Configurações de retenção
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_RETENTION_SIZE=10GB

# Configurações de storage
PROMETHEUS_STORAGE_TSDB_PATH=/prometheus
PROMETHEUS_STORAGE_TSDB_RETENTION_TIME=15d
PROMETHEUS_STORAGE_TSDB_RETENTION_SIZE=10GB

# Configurações de web
PROMETHEUS_WEB_LISTEN_ADDRESS=0.0.0.0:9090
PROMETHEUS_WEB_EXTERNAL_URL=http://localhost:9090

# Configurações de log
PROMETHEUS_LOG_LEVEL=info
PROMETHEUS_LOG_FORMAT=logfmt

# =============================================================================
# Configurações do Alertmanager
# =============================================================================

# Configurações de web
ALERTMANAGER_WEB_LISTEN_ADDRESS=0.0.0.0:9093
ALERTMANAGER_WEB_EXTERNAL_URL=http://localhost:9093

# Configurações de storage
ALERTMANAGER_STORAGE_PATH=/alertmanager

# Configurações de log
ALERTMANAGER_LOG_LEVEL=info
ALERTMANAGER_LOG_FORMAT=logfmt

# =============================================================================
# Configurações de Notificações
# =============================================================================

# Slack
SLACK_API_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL_CRITICAL=#alerts-critical
SLACK_CHANNEL_WARNING=#alerts-warning
SLACK_CHANNEL_INFO=#alerts-info
SLACK_USERNAME=DataClinica-Alertmanager

# Email
SMTP_SMARTHOST=smtp.gmail.com:587
SMTP_FROM=alerts@dataclinica.com
SMTP_AUTH_USERNAME=your-email@gmail.com
SMTP_AUTH_PASSWORD=your-app-password
SMTP_AUTH_IDENTITY=your-email@gmail.com

# Listas de email
EMAIL_CRITICAL=admin@dataclinica.com,devops@dataclinica.com
EMAIL_DBA=dba@dataclinica.com,admin@dataclinica.com
EMAIL_DEVS=dev@dataclinica.com,tech@dataclinica.com
EMAIL_SECURITY=security@dataclinica.com,admin@dataclinica.com
EMAIL_PERFORMANCE=performance@dataclinica.com,devops@dataclinica.com
EMAIL_CAPACITY=capacity@dataclinica.com,infra@dataclinica.com
EMAIL_PRODUCTION=production@dataclinica.com,admin@dataclinica.com

# Microsoft Teams
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/TEAMS/WEBHOOK

# =============================================================================
# Configurações do Loki
# =============================================================================

# Configurações de servidor
LOKI_HTTP_LISTEN_PORT=3100
LOKI_GRPC_LISTEN_PORT=9095

# Configurações de log
LOKI_LOG_LEVEL=info
LOKI_LOG_FORMAT=logfmt

# Configurações de retenção
LOKI_RETENTION_PERIOD=744h  # 31 dias

# =============================================================================
# Configurações do Promtail
# =============================================================================

# Configurações de servidor
PROMTAIL_HTTP_LISTEN_PORT=9080

# Configurações de cliente
PROMTAIL_CLIENT_URL=http://loki:3100/loki/api/v1/push
PROMTAIL_CLIENT_TENANT_ID=dataclinica

# =============================================================================
# Configurações do Jaeger
# =============================================================================

# Configurações de collector
JAEGER_COLLECTOR_OTLP_ENABLED=true
JAEGER_COLLECTOR_ZIPKIN_HOST_PORT=:9411

# Configurações de query
JAEGER_QUERY_BASE_PATH=/
JAEGER_QUERY_UI_CONFIG=/etc/jaeger/ui-config.json

# Configurações de storage
SPAN_STORAGE_TYPE=elasticsearch
ES_SERVER_URLS=http://elasticsearch:9200
ES_USERNAME=
ES_PASSWORD=
ES_INDEX_PREFIX=jaeger

# Configurações de log
JAEGER_LOG_LEVEL=info

# =============================================================================
# Configurações do Traefik
# =============================================================================

# Configurações de API
TRAEFIK_API_DASHBOARD=true
TRAEFIK_API_DEBUG=true
TRAEFIK_API_INSECURE=true

# Configurações de log
TRAEFIK_LOG_LEVEL=INFO
TRAEFIK_LOG_FORMAT=json

# Configurações de access log
TRAEFIK_ACCESSLOG=true
TRAEFIK_ACCESSLOG_FORMAT=json

# Configurações de certificados
TRAEFIK_CERTIFICATESRESOLVERS_LETSENCRYPT_ACME_EMAIL=admin@dataclinica.com
TRAEFIK_CERTIFICATESRESOLVERS_LETSENCRYPT_ACME_STORAGE=/etc/traefik/acme/acme.json
TRAEFIK_CERTIFICATESRESOLVERS_LETSENCRYPT_ACME_CASERVER=https://acme-staging-v02.api.letsencrypt.org/directory

# Configurações de Cloudflare (se usando DNS challenge)
CLOUDFLARE_EMAIL=your-email@example.com
CLOUDFLARE_API_KEY=your-cloudflare-api-key

# =============================================================================
# Configurações dos Exporters
# =============================================================================

# Node Exporter
NODE_EXPORTER_PATH_ROOTFS=/host

# PostgreSQL Exporter
DATA_SOURCE_NAME=postgresql://username:password@postgres:5432/dataclinica?sslmode=disable
PG_EXPORTER_EXTEND_QUERY_PATH=/etc/postgres_exporter/queries.yaml

# Redis Exporter
REDIS_ADDR=redis://redis:6379
REDIS_PASSWORD=

# Nginx Exporter
NGINX_SCRAPE_URI=http://nginx:8080/nginx_status

# =============================================================================
# Configurações do Banco de Dados
# =============================================================================

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=dataclinica
POSTGRES_USER=dataclinica_user
POSTGRES_PASSWORD=dataclinica_password

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# Configurações da Aplicação DataClinica
# =============================================================================

# Backend
DATACLINICA_BACKEND_HOST=dataclinica-backend
DATACLINICA_BACKEND_PORT=8000
DATACLINICA_BACKEND_HEALTH_ENDPOINT=/health

# Frontend
DATACLINICA_FRONTEND_HOST=dataclinica-frontend
DATACLINICA_FRONTEND_PORT=3000
DATACLINICA_FRONTEND_HEALTH_ENDPOINT=/health

# API
DATACLINICA_API_HOST=dataclinica-api
DATACLINICA_API_PORT=8080
DATACLINICA_API_HEALTH_ENDPOINT=/api/health

# =============================================================================
# Configurações de Rede
# =============================================================================

# Rede Docker
DOCKER_NETWORK=dataclinica_monitoring

# Subnet
NETWORK_SUBNET=172.20.0.0/16

# =============================================================================
# Configurações de Volumes
# =============================================================================

# Diretórios de dados
DATA_DIR=./data
LOGS_DIR=./logs
CONFIG_DIR=./config

# Volumes específicos
PROMETHEUS_DATA_DIR=./data/prometheus
GRAFANA_DATA_DIR=./data/grafana
ALERTMANAGER_DATA_DIR=./data/alertmanager
LOKI_DATA_DIR=./data/loki
JAEGER_DATA_DIR=./data/jaeger
TRAEFIK_DATA_DIR=./data/traefik

# =============================================================================
# Configurações de Segurança
# =============================================================================

# Senhas e tokens
GRAFANA_SECRET_KEY=your-grafana-secret-key
PROMETHEUS_WEB_CONFIG_FILE=/etc/prometheus/web.yml
ALERTMANAGER_WEB_CONFIG_FILE=/etc/alertmanager/web.yml

# Autenticação básica (use htpasswd para gerar)
BASIC_AUTH_USERS=admin:$2y$10$2b2cu/biJqO/vjhT0ZJke.6Jz.7pCqt3jNjP7SgJkPKWKaKTbKm6e

# =============================================================================
# Configurações de Performance
# =============================================================================

# Limites de memória
PROMETHEUS_MEMORY_LIMIT=2g
GRAFANA_MEMORY_LIMIT=512m
ALERTMANAGER_MEMORY_LIMIT=256m
LOKI_MEMORY_LIMIT=1g
JAEGER_MEMORY_LIMIT=1g

# Limites de CPU
PROMETHEUS_CPU_LIMIT=2
GRAFANA_CPU_LIMIT=1
ALERTMANAGER_CPU_LIMIT=0.5
LOKI_CPU_LIMIT=1
JAEGER_CPU_LIMIT=1

# =============================================================================
# Configurações de Desenvolvimento
# =============================================================================

# Debug
DEBUG=false
VERBOSE_LOGGING=false

# Hot reload
HOT_RELOAD=false

# Profiling
PROFILING_ENABLED=false

# Testing
TESTING_ENABLED=false

# =============================================================================
# Configurações de Backup
# =============================================================================

# Diretório de backup
BACKUP_DIR=./backups

# Retenção de backups
BACKUP_RETENTION_DAYS=30

# Agendamento de backup (cron format)
BACKUP_SCHEDULE=0 2 * * *  # Todo dia às 2h da manhã

# =============================================================================
# Configurações de Monitoramento Externo
# =============================================================================

# Google Analytics (opcional)
GOOGLE_ANALYTICS_ID=

# Sentry (opcional)
SENTRY_DSN=

# New Relic (opcional)
NEW_RELIC_LICENSE_KEY=

# =============================================================================
# Configurações de Integração
# =============================================================================

# Webhook URLs
WEBHOOK_URL_DEPLOYMENT=
WEBHOOK_URL_ALERTS=
WEBHOOK_URL_MAINTENANCE=

# API Keys
API_KEY_EXTERNAL_MONITORING=
API_KEY_NOTIFICATION_SERVICE=

# =============================================================================
# Configurações de Compliance
# =============================================================================

# LGPD/GDPR
DATA_RETENTION_POLICY_DAYS=365
PII_ANONYMIZATION_ENABLED=true

# Auditoria
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 anos

# =============================================================================
# Configurações de Disaster Recovery
# =============================================================================

# Backup remoto
REMOTE_BACKUP_ENABLED=false
REMOTE_BACKUP_S3_BUCKET=
REMOTE_BACKUP_S3_REGION=
REMOTE_BACKUP_S3_ACCESS_KEY=
REMOTE_BACKUP_S3_SECRET_KEY=

# Replicação
REPLICATION_ENABLED=false
REPLICATION_TARGET_HOST=
REPLICATION_TARGET_PORT=