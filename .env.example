# =============================================================================
# DATACLINICA - CONFIGURAÇÃO DE AMBIENTE
# =============================================================================
# Copie este arquivo para .env e configure as variáveis conforme seu ambiente

# =============================================================================
# CONFIGURAÇÕES BÁSICAS
# =============================================================================
ENVIRONMENT=development
DEBUG=true
APP_NAME=DataClinica
APP_VERSION=1.0.0
APP_URL=http://localhost:3000
API_URL=http://localhost:8000

# =============================================================================
# BANCO DE DADOS - POSTGRESQL
# =============================================================================
DATABASE_URL=postgresql://dataclinica:dataclinica123@localhost:5432/dataclinica
DB_HOST=localhost
DB_PORT=5432
DB_NAME=dataclinica
DB_USER=dataclinica
DB_PASSWORD=dataclinica123
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Configurações Docker
POSTGRES_USER=dataclinica
POSTGRES_PASSWORD=dataclinica123
POSTGRES_DB=dataclinica

# =============================================================================
# REDIS - CACHE E SESSÕES
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400

# =============================================================================
# SEGURANÇA E AUTENTICAÇÃO
# =============================================================================
# Gere uma chave secreta forte: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=sua-chave-secreta-muito-forte-aqui-min-32-chars
JWT_SECRET_KEY=sua-chave-jwt-muito-forte-aqui-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# =============================================================================
# CORS E SEGURANÇA WEB
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://dataclinica.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOW_HEADERS=*
CORS_MAX_AGE=86400

# =============================================================================
# EMAIL E NOTIFICAÇÕES
# =============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=seu-email@gmail.com
SMTP_PASSWORD=sua-senha-de-app
SMTP_USE_TLS=true
SMTP_USE_SSL=false
EMAIL_FROM=noreply@dataclinica.com
EMAIL_FROM_NAME=DataClinica
EMAIL_TEMPLATES_DIR=templates/email

# Configurações de desenvolvimento (Mailhog)
# SMTP_SERVER=localhost
# SMTP_PORT=1025
# SMTP_USERNAME=
# SMTP_PASSWORD=
# SMTP_USE_TLS=false

# =============================================================================
# AWS - SERVIÇOS DE NUVEM
# =============================================================================
AWS_ACCESS_KEY_ID=sua-access-key-id
AWS_SECRET_ACCESS_KEY=sua-secret-access-key
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET=dataclinica-files
AWS_S3_REGION=us-east-1
AWS_S3_ENDPOINT_URL=
AWS_S3_USE_SSL=true
AWS_S3_SIGNATURE_VERSION=s3v4
AWS_CLOUDFRONT_DOMAIN=

# LocalStack (para desenvolvimento)
# AWS_S3_ENDPOINT_URL=http://localhost:4566
# AWS_ACCESS_KEY_ID=test
# AWS_SECRET_ACCESS_KEY=test

# =============================================================================
# APIS EXTERNAS
# =============================================================================

# Memed - Prescrições Médicas
MEMED_API_KEY=sua-chave-memed
MEMED_API_URL=https://api.memed.com.br
MEMED_SANDBOX=true
MEMED_TIMEOUT=30

# ClickSign - Assinatura Digital
CLICKSIGN_API_KEY=sua-chave-clicksign
CLICKSIGN_API_URL=https://api.clicksign.com
CLICKSIGN_SANDBOX=true
CLICKSIGN_TIMEOUT=30

# ViaCEP - Consulta de CEP
VIACEP_API_URL=https://viacep.com.br/ws
VIACEP_TIMEOUT=10

# =============================================================================
# CONFIGURAÇÕES SAAS
# =============================================================================
SAAS_ENABLED=true
SAAS_DEFAULT_PLAN=basico
SAAS_MAX_USERS_BASIC=5
SAAS_MAX_USERS_PROFESSIONAL=25
SAAS_MAX_USERS_ENTERPRISE=100
SAAS_MAX_PATIENTS_BASIC=100
SAAS_MAX_PATIENTS_PROFESSIONAL=1000
SAAS_MAX_PATIENTS_ENTERPRISE=10000
SAAS_STORAGE_LIMIT_BASIC=1GB
SAAS_STORAGE_LIMIT_PROFESSIONAL=10GB
SAAS_STORAGE_LIMIT_ENTERPRISE=100GB

# Configurações de Tenant
MASTER_TENANT_ID=dataclinica_master
DEFAULT_TENANT_DOMAIN=app.dataclinica.com
TENANT_SUBDOMAIN_ENABLED=true

# =============================================================================
# BACKUP E RECUPERAÇÃO
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=dataclinica-backups
BACKUP_ENCRYPTION_KEY=sua-chave-de-criptografia-backup
BACKUP_COMPRESSION=true
BACKUP_VERIFY_INTEGRITY=true

# =============================================================================
# MONITORAMENTO E LOGS
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/dataclinica.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# Sentry - Monitoramento de Erros
SENTRY_DSN=sua-dsn-sentry
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# SSL/TLS E CERTIFICADOS
# =============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
SSL_CA_PATH=/path/to/ca.pem
SSL_VERIFY_MODE=CERT_REQUIRED

# =============================================================================
# PERFORMANCE E CACHE
# =============================================================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_BACKEND=redis

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# DESENVOLVIMENTO E DEBUG
# =============================================================================
DEV_MODE=true
DEV_RELOAD=true
DEV_DEBUG_TOOLBAR=true
DEV_PROFILER=false
DEV_MOCK_EXTERNAL_APIS=true

# Testes
TEST_DATABASE_URL=postgresql://dataclinica:dataclinica123@localhost:5432/dataclinica_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_PARALLEL=true
TEST_COVERAGE_MIN=80

# =============================================================================
# NOTIFICAÇÕES E ALERTAS
# =============================================================================

# Slack
SLACK_WEBHOOK_URL=sua-webhook-url-slack
SLACK_CHANNEL=#dataclinica-alerts
SLACK_USERNAME=DataClinica Bot

# Email de Alertas
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_TO=admin@dataclinica.com
ALERT_EMAIL_FROM=alerts@dataclinica.com

# SNS (AWS)
SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:dataclinica-alerts

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_TELEMEDICINE=true
FEATURE_AI_DIAGNOSTICS=false
FEATURE_MOBILE_APP=true
FEATURE_ANALYTICS=true
FEATURE_MULTI_LANGUAGE=false
FEATURE_DARK_MODE=true
FEATURE_OFFLINE_MODE=false
FEATURE_VOICE_COMMANDS=false

# =============================================================================
# CONFIGURAÇÕES AVANÇADAS
# =============================================================================

# Timezone
TIMEZONE=America/Sao_Paulo
DATE_FORMAT=%d/%m/%Y
TIME_FORMAT=%H:%M:%S
DATETIME_FORMAT=%d/%m/%Y %H:%M:%S

# Localização
LANGUAGE=pt-BR
CURRENCY=BRL
CURRENCY_SYMBOL=R$

# Uploads
UPLOAD_MAX_SIZE=10MB
UPLOAD_ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx,xls,xlsx
UPLOAD_PATH=uploads/
UPLOAD_VIRUS_SCAN=false

# Sessões
SESSION_TIMEOUT=1800
SESSION_COOKIE_NAME=dataclinica_session
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# CONFIGURAÇÕES DE COMPLIANCE
# =============================================================================
LGPD_ENABLED=true
LGPD_DATA_RETENTION_DAYS=2555  # 7 anos
LGPD_ANONYMIZATION_ENABLED=true
LGPD_AUDIT_LOG_ENABLED=true
LGPD_CONSENT_REQUIRED=true
LGPD_RIGHT_TO_FORGET=true

# HIPAA (se aplicável)
HIPAA_ENABLED=false
HIPAA_AUDIT_LOG_ENABLED=false
HIPAA_ENCRYPTION_REQUIRED=false

# =============================================================================
# CONFIGURAÇÕES DE DOCKER
# =============================================================================
DOCKER_REGISTRY=
DOCKER_IMAGE_TAG=latest
DOCKER_NETWORK=dataclinica_network
DOCKER_RESTART_POLICY=unless-stopped