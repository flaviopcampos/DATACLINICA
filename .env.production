# Configurações de Produção - DataClinica
# IMPORTANTE: Altere todos os valores padrão antes do deploy!

# =============================================================================
# CONFIGURAÇÕES GERAIS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
APP_NAME=DataClinica
APP_VERSION=1.0.0
APP_URL=https://dataclinica.com.br

# =============================================================================
# BANCO DE DADOS
# =============================================================================
DATABASE_URL=postgresql://dataclinica_user:CHANGE_THIS_PASSWORD@postgres:5432/dataclinica
POSTGRES_DB=dataclinica
POSTGRES_USER=dataclinica_user
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS (Cache e Sessões)
# =============================================================================
REDIS_URL=redis://:CHANGE_REDIS_PASSWORD@redis:6379/0
REDIS_PASSWORD=CHANGE_REDIS_PASSWORD
REDIS_MAX_CONNECTIONS=50
REDIS_TIMEOUT=5

# =============================================================================
# SEGURANÇA E AUTENTICAÇÃO
# =============================================================================
# IMPORTANTE: Gere chaves seguras de 32+ caracteres
SECRET_KEY=CHANGE_THIS_SECRET_KEY_32_CHARS_MINIMUM
JWT_SECRET=CHANGE_THIS_JWT_SECRET_32_CHARS_MINIMUM
ENCRYPTION_KEY=CHANGE_THIS_ENCRYPTION_KEY_32_CHARS
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60
JWT_REFRESH_EXPIRE_DAYS=30

# Configurações de sessão
SESSION_TIMEOUT=3600
SESSION_MAX_CONCURRENT=5
SESSION_SECURE=true

# Configurações de senha
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MAX_ATTEMPTS=5
PASSWORD_LOCKOUT_DURATION=1800

# =============================================================================
# CORS E DOMÍNIOS
# =============================================================================
CORS_ORIGINS=https://dataclinica.com.br,https://www.dataclinica.com.br
ALLOWED_HOSTS=dataclinica.com.br,www.dataclinica.com.br

# =============================================================================
# SAAS E MULTIEMPRESA
# =============================================================================
SAAS_MODE=true
DEFAULT_PLAN=basic
MAX_CLINICS_PER_USER=1
MAX_USERS_PER_CLINIC=50
MAX_PATIENTS_PER_CLINIC=10000
MAX_STORAGE_PER_CLINIC=5368709120

# =============================================================================
# EMAIL E NOTIFICAÇÕES
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@dataclinica.com.br
SMTP_PASSWORD=CHANGE_THIS_EMAIL_PASSWORD
SMTP_USE_TLS=true
FROM_EMAIL=noreply@dataclinica.com.br
FROM_NAME=DataClinica

# Templates de email
EMAIL_TEMPLATE_PATH=/app/templates/email
EMAIL_LOGO_URL=https://dataclinica.com.br/logo.png

# =============================================================================
# APIS EXTERNAS
# =============================================================================
# Memed (Prescrições)
MEMED_API_URL=https://api.memed.com.br
MEMED_API_KEY=CHANGE_THIS_MEMED_API_KEY
MEMED_SANDBOX=false

# ClickSign (Assinaturas Digitais)
CLICKSIGN_API_URL=https://api.clicksign.com
CLICKSIGN_API_KEY=CHANGE_THIS_CLICKSIGN_API_KEY
CLICKSIGN_SANDBOX=false

# ViaCEP (Consulta de CEP)
VIACEP_API_URL=https://viacep.com.br/ws

# APIs de Prefeituras (NFS-e)
NFSE_ENVIRONMENT=production
NFSE_CERTIFICATE_PATH=/app/certificates/nfse.p12
NFSE_CERTIFICATE_PASSWORD=CHANGE_THIS_CERTIFICATE_PASSWORD

# =============================================================================
# ARMAZENAMENTO E UPLOADS
# =============================================================================
UPLOAD_PATH=/app/uploads
MAX_UPLOAD_SIZE=52428800
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,gif,doc,docx,xls,xlsx,txt
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048
IMAGE_QUALITY=85

# AWS S3 (opcional)
# AWS_ACCESS_KEY_ID=CHANGE_THIS_AWS_ACCESS_KEY
# AWS_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET_KEY
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=dataclinica-uploads

# =============================================================================
# BACKUP E RECUPERAÇÃO
# =============================================================================
BACKUP_PATH=/app/backups
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE=0 2 * * *
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true

# Backup remoto (opcional)
# BACKUP_REMOTE_ENABLED=true
# BACKUP_REMOTE_TYPE=s3
# BACKUP_REMOTE_BUCKET=dataclinica-backups

# =============================================================================
# LOGS E MONITORAMENTO
# =============================================================================
LOG_LEVEL=INFO
LOG_PATH=/app/logs
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=json

# Sentry (opcional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# LGPD E COMPLIANCE
# =============================================================================
LGPD_ENABLED=true
DATA_RETENTION_DAYS=2555
AUDIT_LOG_RETENTION_DAYS=2555
CONSENT_EXPIRY_DAYS=365
DATA_EXPORT_FORMAT=json
DATA_ANONYMIZATION_ENABLED=true

# =============================================================================
# PERFORMANCE E CACHE
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_ENTRIES=10000
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600

# =============================================================================
# WORKER E TAREFAS ASSÍNCRONAS
# =============================================================================
CELERY_BROKER_URL=redis://:CHANGE_REDIS_PASSWORD@redis:6379/1
CELERY_RESULT_BACKEND=redis://:CHANGE_REDIS_PASSWORD@redis:6379/2
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIMEOUT=300

# =============================================================================
# MÉTRICAS E ANALYTICS
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
ANALYTICS_ENABLED=true

# Google Analytics (opcional)
# GA_TRACKING_ID=GA-XXXXXXXXX

# =============================================================================
# SSL E CERTIFICADOS
# =============================================================================
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_VERIFY=true

# =============================================================================
# CONFIGURAÇÕES DE DEPLOY
# =============================================================================
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEP_ALIVE_TIMEOUT=65
MAX_REQUESTS_PER_WORKER=1000
PRELOAD_APP=true

# Health check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# FRONTEND (React)
# =============================================================================
REACT_APP_API_URL=https://dataclinica.com.br/api
REACT_APP_ENVIRONMENT=production
REACT_APP_VERSION=1.0.0
REACT_APP_SENTRY_DSN=
GENERATE_SOURCEMAP=false

# =============================================================================
# GRAFANA E MONITORAMENTO (opcional)
# =============================================================================
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD
PROMETHEUS_RETENTION=15d

# =============================================================================
# OBSERVAÇÕES IMPORTANTES
# =============================================================================
# 1. Altere TODAS as senhas e chaves antes do deploy
# 2. Use um gerenciador de senhas para gerar chaves seguras
# 3. Configure certificados SSL válidos
# 4. Configure backup remoto para produção
# 5. Configure monitoramento e alertas
# 6. Teste todas as integrações em ambiente de staging primeiro
# 7. Configure firewall e regras de segurança
# 8. Mantenha este arquivo seguro e nunca o commite no repositório